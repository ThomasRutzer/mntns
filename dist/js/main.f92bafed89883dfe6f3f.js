!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=71)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,r){
/*!
 * Vue.js v2.5.16
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function a(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function c(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function h(t){return"[object Object]"===u.call(t)}function l(t){return"[object RegExp]"===u.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var r=Object.create(null),n=t.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}var v=m("slot,component",!0),g=m("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var _=Object.prototype.hasOwnProperty;function b(t,e){return _.call(t,e)}function x(t){var e=Object.create(null);return function(r){return e[r]||(e[r]=t(r))}}var w=/-(\w)/g,T=x(function(t){return t.replace(w,function(t,e){return e?e.toUpperCase():""})}),S=x(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),M=/\B([A-Z])/g,E=x(function(t){return t.replace(M,"-$1").toLowerCase()});var A=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function r(r){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r};function C(t,e){e=e||0;for(var r=t.length-e,n=new Array(r);r--;)n[r]=t[r+e];return n}function P(t,e){for(var r in e)t[r]=e[r];return t}function O(t){for(var e={},r=0;r<t.length;r++)t[r]&&P(e,t[r]);return e}function R(t,e,r){}var L=function(t,e,r){return!1},k=function(t){return t};function D(t,e){if(t===e)return!0;var r=c(t),n=c(e);if(!r||!n)return!r&&!n&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,r){return D(t,e[r])});if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every(function(r){return D(t[r],e[r])})}catch(t){return!1}}function I(t,e){for(var r=0;r<t.length;r++)if(D(t[r],e))return r;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",B=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:R,parsePlatformTagName:k,mustUseProp:L,_lifecycleHooks:U};function j(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var z=/[^\w.$]/;var H,W="__proto__"in{},X="undefined"!=typeof window,$="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,q=$&&WXEnvironment.platform.toLowerCase(),Y=X&&window.navigator.userAgent.toLowerCase(),K=Y&&/msie|trident/.test(Y),Q=Y&&Y.indexOf("msie 9.0")>0,Z=Y&&Y.indexOf("edge/")>0,J=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===q),tt=(Y&&/chrome\/\d+/.test(Y),{}.watch),et=!1;if(X)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){et=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var nt=function(){return void 0===H&&(H=!X&&!$&&void 0!==t&&"server"===t.process.env.VUE_ENV),H},it=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ot(t){return"function"==typeof t&&/native code/.test(t.toString())}var at,st="undefined"!=typeof Symbol&&ot(Symbol)&&"undefined"!=typeof Reflect&&ot(Reflect.ownKeys);at="undefined"!=typeof Set&&ot(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=R,ut=0,ht=function(){this.id=ut++,this.subs=[]};ht.prototype.addSub=function(t){this.subs.push(t)},ht.prototype.removeSub=function(t){y(this.subs,t)},ht.prototype.depend=function(){ht.target&&ht.target.addDep(this)},ht.prototype.notify=function(){for(var t=this.subs.slice(),e=0,r=t.length;e<r;e++)t[e].update()},ht.target=null;var lt=[];function ft(t){ht.target&&lt.push(ht.target),ht.target=t}function pt(){ht.target=lt.pop()}var dt=function(t,e,r,n,i,o,a,s){this.tag=t,this.data=e,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},mt={child:{configurable:!0}};mt.child.get=function(){return this.componentInstance},Object.defineProperties(dt.prototype,mt);var vt=function(t){void 0===t&&(t="");var e=new dt;return e.text=t,e.isComment=!0,e};function gt(t){return new dt(void 0,void 0,void 0,String(t))}function yt(t){var e=new dt(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.isCloned=!0,e}var _t=Array.prototype,bt=Object.create(_t);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=_t[t];G(bt,t,function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];var i,o=e.apply(this,r),a=this.__ob__;switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var xt=Object.getOwnPropertyNames(bt),wt=!0;function Tt(t){wt=t}var St=function(t){(this.value=t,this.dep=new ht,this.vmCount=0,G(t,"__ob__",this),Array.isArray(t))?((W?Mt:Et)(t,bt,xt),this.observeArray(t)):this.walk(t)};function Mt(t,e,r){t.__proto__=e}function Et(t,e,r){for(var n=0,i=r.length;n<i;n++){var o=r[n];G(t,o,e[o])}}function At(t,e){var r;if(c(t)&&!(t instanceof dt))return b(t,"__ob__")&&t.__ob__ instanceof St?r=t.__ob__:wt&&!nt()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new St(t)),e&&r&&r.vmCount++,r}function Ct(t,e,r,n,i){var o=new ht,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get;s||2!==arguments.length||(r=t[e]);var c=a&&a.set,u=!i&&At(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):r;return ht.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(e)&&function t(e){for(var r=void 0,n=0,i=e.length;n<i;n++)(r=e[n])&&r.__ob__&&r.__ob__.dep.depend(),Array.isArray(r)&&t(r)}(e))),e},set:function(e){var n=s?s.call(t):r;e===n||e!=e&&n!=n||(c?c.call(t,e):r=e,u=!i&&At(e),o.notify())}})}}function Pt(t,e,r){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var n=t.__ob__;return t._isVue||n&&n.vmCount?r:n?(Ct(n.value,e,r),n.dep.notify(),r):(t[e]=r,r)}function Ot(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||b(t,e)&&(delete t[e],r&&r.dep.notify())}}St.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)Ct(t,e[r])},St.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)At(t[e])};var Rt=V.optionMergeStrategies;function Lt(t,e){if(!e)return t;for(var r,n,i,o=Object.keys(e),a=0;a<o.length;a++)n=t[r=o[a]],i=e[r],b(t,r)?h(n)&&h(i)&&Lt(n,i):Pt(t,r,i);return t}function kt(t,e,r){return r?function(){var n="function"==typeof e?e.call(r,r):e,i="function"==typeof t?t.call(r,r):t;return n?Lt(n,i):i}:e?t?function(){return Lt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function It(t,e,r,n){var i=Object.create(t||null);return e?P(i,e):i}Rt.data=function(t,e,r){return r?kt(t,e,r):e&&"function"!=typeof e?t:kt(t,e)},U.forEach(function(t){Rt[t]=Dt}),B.forEach(function(t){Rt[t+"s"]=It}),Rt.watch=function(t,e,r,n){if(t===tt&&(t=void 0),e===tt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in P(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Rt.props=Rt.methods=Rt.inject=Rt.computed=function(t,e,r,n){if(!t)return e;var i=Object.create(null);return P(i,t),e&&P(i,e),i},Rt.provide=kt;var Nt=function(t,e){return void 0===e?t:e};function Ft(t,e,r){"function"==typeof e&&(e=e.options),function(t,e){var r=t.props;if(r){var n,i,o={};if(Array.isArray(r))for(n=r.length;n--;)"string"==typeof(i=r[n])&&(o[T(i)]={type:null});else if(h(r))for(var a in r)i=r[a],o[T(a)]=h(i)?i:{type:i};t.props=o}}(e),function(t,e){var r=t.inject;if(r){var n=t.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(h(r))for(var o in r){var a=r[o];n[o]=h(a)?P({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var r in e){var n=e[r];"function"==typeof n&&(e[r]={bind:n,update:n})}}(e);var n=e.extends;if(n&&(t=Ft(t,n,r)),e.mixins)for(var i=0,o=e.mixins.length;i<o;i++)t=Ft(t,e.mixins[i],r);var a,s={};for(a in t)c(a);for(a in e)b(t,a)||c(a);function c(n){var i=Rt[n]||Nt;s[n]=i(t[n],e[n],r,n)}return s}function Bt(t,e,r,n){if("string"==typeof r){var i=t[e];if(b(i,r))return i[r];var o=T(r);if(b(i,o))return i[o];var a=S(o);return b(i,a)?i[a]:i[r]||i[o]||i[a]}}function Ut(t,e,r,n){var i=e[t],o=!b(r,t),a=r[t],s=Gt(Boolean,i.type);if(s>-1)if(o&&!b(i,"default"))a=!1;else if(""===a||a===E(t)){var c=Gt(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(t,e,r){if(!b(e,"default"))return;var n=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r])return t._props[r];return"function"==typeof n&&"Function"!==Vt(e.type)?n.call(t):n}(n,i,t);var u=wt;Tt(!0),At(a),Tt(u)}return a}function Vt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function jt(t,e){return Vt(t)===Vt(e)}function Gt(t,e){if(!Array.isArray(e))return jt(e,t)?0:-1;for(var r=0,n=e.length;r<n;r++)if(jt(e[r],t))return r;return-1}function zt(t,e,r){if(e)for(var n=e;n=n.$parent;){var i=n.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(n,t,e,r))return}catch(t){Ht(t,n,"errorCaptured hook")}}Ht(t,e,r)}function Ht(t,e,r){if(V.errorHandler)try{return V.errorHandler.call(null,t,e,r)}catch(t){Wt(t,null,"config.errorHandler")}Wt(t,e,r)}function Wt(t,e,r){if(!X&&!$||"undefined"==typeof console)throw t;console.error(t)}var Xt,$t,qt=[],Yt=!1;function Kt(){Yt=!1;var t=qt.slice(0);qt.length=0;for(var e=0;e<t.length;e++)t[e]()}var Qt=!1;if(void 0!==r&&ot(r))$t=function(){r(Kt)};else if("undefined"==typeof MessageChannel||!ot(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())$t=function(){setTimeout(Kt,0)};else{var Zt=new MessageChannel,Jt=Zt.port2;Zt.port1.onmessage=Kt,$t=function(){Jt.postMessage(1)}}if("undefined"!=typeof Promise&&ot(Promise)){var te=Promise.resolve();Xt=function(){te.then(Kt),J&&setTimeout(R)}}else Xt=$t;function ee(t,e){var r;if(qt.push(function(){if(t)try{t.call(e)}catch(t){zt(t,e,"nextTick")}else r&&r(e)}),Yt||(Yt=!0,Qt?$t():Xt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){r=t})}var re=new at;function ne(t){!function t(e,r){var n,i;var o=Array.isArray(e);if(!o&&!c(e)||Object.isFrozen(e)||e instanceof dt)return;if(e.__ob__){var a=e.__ob__.dep.id;if(r.has(a))return;r.add(a)}if(o)for(n=e.length;n--;)t(e[n],r);else for(i=Object.keys(e),n=i.length;n--;)t(e[i[n]],r)}(t,re),re.clear()}var ie,oe=x(function(t){var e="&"===t.charAt(0),r="~"===(t=e?t.slice(1):t).charAt(0),n="!"===(t=r?t.slice(1):t).charAt(0);return{name:t=n?t.slice(1):t,once:r,capture:n,passive:e}});function ae(t){function e(){var t=arguments,r=e.fns;if(!Array.isArray(r))return r.apply(null,arguments);for(var n=r.slice(),i=0;i<n.length;i++)n[i].apply(null,t)}return e.fns=t,e}function se(t,e,r,n,o){var a,s,c,u;for(a in t)s=t[a],c=e[a],u=oe(a),i(s)||(i(c)?(i(s.fns)&&(s=t[a]=ae(s)),r(u.name,s,u.once,u.capture,u.passive,u.params)):s!==c&&(c.fns=s,t[a]=c));for(a in e)i(t[a])&&n((u=oe(a)).name,e[a],u.capture)}function ce(t,e,r){var n;t instanceof dt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function c(){r.apply(this,arguments),y(n.fns,c)}i(s)?n=ae([c]):o(s.fns)&&a(s.merged)?(n=s).fns.push(c):n=ae([s,c]),n.merged=!0,t[e]=n}function ue(t,e,r,n,i){if(o(e)){if(b(e,r))return t[r]=e[r],i||delete e[r],!0;if(b(e,n))return t[r]=e[n],i||delete e[n],!0}return!1}function he(t){return s(t)?[gt(t)]:Array.isArray(t)?function t(e,r){var n=[];var c,u,h,l;for(c=0;c<e.length;c++)i(u=e[c])||"boolean"==typeof u||(h=n.length-1,l=n[h],Array.isArray(u)?u.length>0&&(le((u=t(u,(r||"")+"_"+c))[0])&&le(l)&&(n[h]=gt(l.text+u[0].text),u.shift()),n.push.apply(n,u)):s(u)?le(l)?n[h]=gt(l.text+u):""!==u&&n.push(gt(u)):le(u)&&le(l)?n[h]=gt(l.text+u.text):(a(e._isVList)&&o(u.tag)&&i(u.key)&&o(r)&&(u.key="__vlist"+r+"_"+c+"__"),n.push(u)));return n}(t):void 0}function le(t){return o(t)&&o(t.text)&&!1===t.isComment}function fe(t,e){return(t.__esModule||st&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function pe(t){return t.isComment&&t.asyncFactory}function de(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(o(r)&&(o(r.componentOptions)||pe(r)))return r}}function me(t,e,r){r?ie.$once(t,e):ie.$on(t,e)}function ve(t,e){ie.$off(t,e)}function ge(t,e,r){ie=t,se(e,r||{},me,ve),ie=void 0}function ye(t,e){var r={};if(!t)return r;for(var n=0,i=t.length;n<i;n++){var o=t[n],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(r.default||(r.default=[])).push(o);else{var s=a.slot,c=r[s]||(r[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in r)r[u].every(_e)&&delete r[u];return r}function _e(t){return t.isComment&&!t.asyncFactory||" "===t.text}function be(t,e){e=e||{};for(var r=0;r<t.length;r++)Array.isArray(t[r])?be(t[r],e):e[t[r].key]=t[r].fn;return e}var xe=null;function we(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Te(t,e){if(e){if(t._directInactive=!1,we(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)Te(t.$children[r]);Se(t,"activated")}}function Se(t,e){ft();var r=t.$options[e];if(r)for(var n=0,i=r.length;n<i;n++)try{r[n].call(t)}catch(r){zt(r,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),pt()}var Me=[],Ee=[],Ae={},Ce=!1,Pe=!1,Oe=0;function Re(){var t,e;for(Pe=!0,Me.sort(function(t,e){return t.id-e.id}),Oe=0;Oe<Me.length;Oe++)e=(t=Me[Oe]).id,Ae[e]=null,t.run();var r=Ee.slice(),n=Me.slice();Oe=Me.length=Ee.length=0,Ae={},Ce=Pe=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Te(t[e],!0)}(r),function(t){var e=t.length;for(;e--;){var r=t[e],n=r.vm;n._watcher===r&&n._isMounted&&Se(n,"updated")}}(n),it&&V.devtools&&it.emit("flush")}var Le=0,ke=function(t,e,r,n,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++Le,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new at,this.newDepIds=new at,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};ke.prototype.get=function(){var t;ft(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;zt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ne(t),pt(),this.cleanupDeps()}return t},ke.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ke.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},ke.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Ae[e]){if(Ae[e]=!0,Pe){for(var r=Me.length-1;r>Oe&&Me[r].id>t.id;)r--;Me.splice(r+1,0,t)}else Me.push(t);Ce||(Ce=!0,ee(Re))}}(this)},ke.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){zt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ke.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ke.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},ke.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var De={enumerable:!0,configurable:!0,get:R,set:R};function Ie(t,e,r){De.get=function(){return this[e][r]},De.set=function(t){this[e][r]=t},Object.defineProperty(t,r,De)}function Ne(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var r=t.$options.propsData||{},n=t._props={},i=t.$options._propKeys=[];t.$parent&&Tt(!1);var o=function(o){i.push(o);var a=Ut(o,e,r,t);Ct(n,o,a),o in t||Ie(t,"_props",o)};for(var a in e)o(a);Tt(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var r in e)t[r]=null==e[r]?R:A(e[r],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;h(e=t._data="function"==typeof e?function(t,e){ft();try{return t.call(e,e)}catch(t){return zt(t,e,"data()"),{}}finally{pt()}}(e,t):e||{})||(e={});var r=Object.keys(e),n=t.$options.props,i=(t.$options.methods,r.length);for(;i--;){var o=r[i];0,n&&b(n,o)||j(o)||Ie(t,"_data",o)}At(e,!0)}(t):At(t._data={},!0),e.computed&&function(t,e){var r=t._computedWatchers=Object.create(null),n=nt();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;0,n||(r[i]=new ke(t,a||R,R,Fe)),i in t||Be(t,i,o)}}(t,e.computed),e.watch&&e.watch!==tt&&function(t,e){for(var r in e){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)Ve(t,r,n[i]);else Ve(t,r,n)}}(t,e.watch)}var Fe={lazy:!0};function Be(t,e,r){var n=!nt();"function"==typeof r?(De.get=n?Ue(e):r,De.set=R):(De.get=r.get?n&&!1!==r.cache?Ue(e):r.get:R,De.set=r.set?r.set:R),Object.defineProperty(t,e,De)}function Ue(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ht.target&&e.depend(),e.value}}function Ve(t,e,r,n){return h(r)&&(n=r,r=r.handler),"string"==typeof r&&(r=t[r]),t.$watch(e,r,n)}function je(t,e){if(t){for(var r=Object.create(null),n=st?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),i=0;i<n.length;i++){for(var o=n[i],a=t[o].from,s=e;s;){if(s._provided&&b(s._provided,a)){r[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var c=t[o].default;r[o]="function"==typeof c?c.call(e):c}else 0}return r}}function Ge(t,e){var r,n,i,a,s;if(Array.isArray(t)||"string"==typeof t)for(r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]=e(t[n],n);else if("number"==typeof t)for(r=new Array(t),n=0;n<t;n++)r[n]=e(n+1,n);else if(c(t))for(a=Object.keys(t),r=new Array(a.length),n=0,i=a.length;n<i;n++)s=a[n],r[n]=e(t[s],s,n);return o(r)&&(r._isVList=!0),r}function ze(t,e,r,n){var i,o=this.$scopedSlots[t];if(o)r=r||{},n&&(r=P(P({},n),r)),i=o(r)||e;else{var a=this.$slots[t];a&&(a._rendered=!0),i=a||e}var s=r&&r.slot;return s?this.$createElement("template",{slot:s},i):i}function He(t){return Bt(this.$options,"filters",t)||k}function We(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Xe(t,e,r,n,i){var o=V.keyCodes[e]||r;return i&&n&&!V.keyCodes[e]?We(i,n):o?We(o,t):n?E(n)!==e:void 0}function $e(t,e,r,n,i){if(r)if(c(r)){var o;Array.isArray(r)&&(r=O(r));var a=function(a){if("class"===a||"style"===a||g(a))o=t;else{var s=t.attrs&&t.attrs.type;o=n||V.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}a in o||(o[a]=r[a],i&&((t.on||(t.on={}))["update:"+a]=function(t){r[a]=t}))};for(var s in r)a(s)}else;return t}function qe(t,e){var r=this._staticTrees||(this._staticTrees=[]),n=r[t];return n&&!e?n:(Ke(n=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),n)}function Ye(t,e,r){return Ke(t,"__once__"+e+(r?"_"+r:""),!0),t}function Ke(t,e,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&Qe(t[n],e+"_"+n,r);else Qe(t,e,r)}function Qe(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function Ze(t,e){if(e)if(h(e)){var r=t.on=t.on?P({},t.on):{};for(var n in e){var i=r[n],o=e[n];r[n]=i?[].concat(i,o):o}}else;return t}function Je(t){t._o=Ye,t._n=d,t._s=p,t._l=Ge,t._t=ze,t._q=D,t._i=I,t._m=qe,t._f=He,t._k=Xe,t._b=$e,t._v=gt,t._e=vt,t._u=be,t._g=Ze}function tr(t,e,r,i,o){var s,c=o.options;b(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var u=a(c._compiled),h=!u;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=je(c.inject,i),this.slots=function(){return ye(r,i)},u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||n),c._scopeId?this._c=function(t,e,r,n){var o=cr(s,t,e,r,n,h);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(t,e,r,n){return cr(s,t,e,r,n,h)}}function er(t,e,r,n){var i=yt(t);return i.fnContext=r,i.fnOptions=n,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function rr(t,e){for(var r in e)t[T(r)]=e[r]}Je(tr.prototype);var nr={init:function(t,e,r,n){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;nr.prepatch(i,i)}else{(t.componentInstance=function(t,e,r,n){var i={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:r||null,_refElm:n||null},a=t.data.inlineTemplate;o(a)&&(i.render=a.render,i.staticRenderFns=a.staticRenderFns);return new t.componentOptions.Ctor(i)}(t,xe,r,n)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var r=e.componentOptions;!function(t,e,r,i,o){var a=!!(o||t.$options._renderChildren||i.data.scopedSlots||t.$scopedSlots!==n);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Tt(!1);for(var s=t._props,c=t.$options._propKeys||[],u=0;u<c.length;u++){var h=c[u],l=t.$options.props;s[h]=Ut(h,l,e,t)}Tt(!0),t.$options.propsData=e}r=r||n;var f=t.$options._parentListeners;t.$options._parentListeners=r,ge(t,r,f),a&&(t.$slots=ye(o,i.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,r.propsData,r.listeners,e,r.children)},insert:function(t){var e,r=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Se(n,"mounted")),t.data.keepAlive&&(r._isMounted?((e=n)._inactive=!1,Ee.push(e)):Te(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,r){if(!(r&&(e._directInactive=!0,we(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)t(e.$children[n]);Se(e,"deactivated")}}(e,!0):e.$destroy())}},ir=Object.keys(nr);function or(t,e,r,s,u){if(!i(t)){var h=r.$options._base;if(c(t)&&(t=h.extend(t)),"function"==typeof t){var l;if(i(t.cid)&&void 0===(t=function(t,e,r){if(a(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;if(a(t.loading)&&o(t.loadingComp))return t.loadingComp;if(!o(t.contexts)){var n=t.contexts=[r],s=!0,u=function(){for(var t=0,e=n.length;t<e;t++)n[t].$forceUpdate()},h=N(function(r){t.resolved=fe(r,e),s||u()}),l=N(function(e){o(t.errorComp)&&(t.error=!0,u())}),f=t(h,l);return c(f)&&("function"==typeof f.then?i(t.resolved)&&f.then(h,l):o(f.component)&&"function"==typeof f.component.then&&(f.component.then(h,l),o(f.error)&&(t.errorComp=fe(f.error,e)),o(f.loading)&&(t.loadingComp=fe(f.loading,e),0===f.delay?t.loading=!0:setTimeout(function(){i(t.resolved)&&i(t.error)&&(t.loading=!0,u())},f.delay||200)),o(f.timeout)&&setTimeout(function(){i(t.resolved)&&l(null)},f.timeout))),s=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(r)}(l=t,h,r)))return function(t,e,r,n,i){var o=vt();return o.asyncFactory=t,o.asyncMeta={data:e,context:r,children:n,tag:i},o}(l,e,r,s,u);e=e||{},hr(t),o(e.model)&&function(t,e){var r=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.props||(e.props={}))[r]=e.model.value;var i=e.on||(e.on={});o(i[n])?i[n]=[e.model.callback].concat(i[n]):i[n]=e.model.callback}(t.options,e);var f=function(t,e,r){var n=e.options.props;if(!i(n)){var a={},s=t.attrs,c=t.props;if(o(s)||o(c))for(var u in n){var h=E(u);ue(a,c,u,h,!0)||ue(a,s,u,h,!1)}return a}}(e,t);if(a(t.options.functional))return function(t,e,r,i,a){var s=t.options,c={},u=s.props;if(o(u))for(var h in u)c[h]=Ut(h,u,e||n);else o(r.attrs)&&rr(c,r.attrs),o(r.props)&&rr(c,r.props);var l=new tr(r,c,a,i,t),f=s.render.call(null,l._c,l);if(f instanceof dt)return er(f,r,l.parent,s);if(Array.isArray(f)){for(var p=he(f)||[],d=new Array(p.length),m=0;m<p.length;m++)d[m]=er(p[m],r,l.parent,s);return d}}(t,f,e,r,s);var p=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}!function(t){for(var e=t.hook||(t.hook={}),r=0;r<ir.length;r++){var n=ir[r];e[n]=nr[n]}}(e);var m=t.options.name||u;return new dt("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:f,listeners:p,tag:u,children:s},l)}}}var ar=1,sr=2;function cr(t,e,r,n,u,h){return(Array.isArray(r)||s(r))&&(u=n,n=r,r=void 0),a(h)&&(u=sr),function(t,e,r,n,s){if(o(r)&&o(r.__ob__))return vt();o(r)&&o(r.is)&&(e=r.is);if(!e)return vt();0;Array.isArray(n)&&"function"==typeof n[0]&&((r=r||{}).scopedSlots={default:n[0]},n.length=0);s===sr?n=he(n):s===ar&&(n=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(n));var u,h;if("string"==typeof e){var l;h=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e),u=V.isReservedTag(e)?new dt(V.parsePlatformTagName(e),r,n,void 0,void 0,t):o(l=Bt(t.$options,"components",e))?or(l,r,t,n,e):new dt(e,r,n,void 0,void 0,t)}else u=or(e,r,t,n);return Array.isArray(u)?u:o(u)?(o(h)&&function t(e,r,n){e.ns=r;"foreignObject"===e.tag&&(r=void 0,n=!0);if(o(e.children))for(var s=0,c=e.children.length;s<c;s++){var u=e.children[s];o(u.tag)&&(i(u.ns)||a(n)&&"svg"!==u.tag)&&t(u,r,n)}}(u,h),o(r)&&function(t){c(t.style)&&ne(t.style);c(t.class)&&ne(t.class)}(r),u):vt()}(t,e,r,n,u)}var ur=0;function hr(t){var e=t.options;if(t.super){var r=hr(t.super);if(r!==t.superOptions){t.superOptions=r;var n=function(t){var e,r=t.options,n=t.extendOptions,i=t.sealedOptions;for(var o in r)r[o]!==i[o]&&(e||(e={}),e[o]=lr(r[o],n[o],i[o]));return e}(t);n&&P(t.extendOptions,n),(e=t.options=Ft(r,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function lr(t,e,r){if(Array.isArray(t)){var n=[];r=Array.isArray(r)?r:[r],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||r.indexOf(t[i])<0)&&n.push(t[i]);return n}return t}function fr(t){this._init(t)}function pr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,n=r.cid,i=t._Ctor||(t._Ctor={});if(i[n])return i[n];var o=t.name||r.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(r.prototype)).constructor=a,a.cid=e++,a.options=Ft(r.options,t),a.super=r,a.options.props&&function(t){var e=t.options.props;for(var r in e)Ie(t.prototype,"_props",r)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var r in e)Be(t.prototype,r,e[r])}(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,B.forEach(function(t){a[t]=r[t]}),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=t,a.sealedOptions=P({},a.options),i[n]=a,a}}function dr(t){return t&&(t.Ctor.options.name||t.tag)}function mr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function vr(t,e){var r=t.cache,n=t.keys,i=t._vnode;for(var o in r){var a=r[o];if(a){var s=dr(a.componentOptions);s&&!e(s)&&gr(r,o,n,i)}}}function gr(t,e,r,n){var i=t[e];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),t[e]=null,y(r,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=ur++,e._isVue=!0,t&&t._isComponent?function(t,e){var r=t.$options=Object.create(t.constructor.options),n=e._parentVnode;r.parent=e.parent,r._parentVnode=n,r._parentElm=e._parentElm,r._refElm=e._refElm;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Ft(hr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&ge(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=ye(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,r,n,i){return cr(t,e,r,n,i,!1)},t.$createElement=function(e,r,n,i){return cr(t,e,r,n,i,!0)};var o=r&&r.data;Ct(t,"$attrs",o&&o.attrs||n,null,!0),Ct(t,"$listeners",e._parentListeners||n,null,!0)}(e),Se(e,"beforeCreate"),function(t){var e=je(t.$options.inject,t);e&&(Tt(!1),Object.keys(e).forEach(function(r){Ct(t,r,e[r])}),Tt(!0))}(e),Ne(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),Se(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(fr),function(t){var e={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",r),t.prototype.$set=Pt,t.prototype.$delete=Ot,t.prototype.$watch=function(t,e,r){if(h(e))return Ve(this,t,e,r);(r=r||{}).user=!0;var n=new ke(this,t,e,r);return r.immediate&&e.call(this,n.value),function(){n.teardown()}}}(fr),function(t){var e=/^hook:/;t.prototype.$on=function(t,r){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)this.$on(t[n],r);else(this._events[t]||(this._events[t]=[])).push(r),e.test(t)&&(this._hasHookEvent=!0);return this},t.prototype.$once=function(t,e){var r=this;function n(){r.$off(t,n),e.apply(r,arguments)}return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)this.$off(t[n],e);return r}var o=r._events[t];if(!o)return r;if(!e)return r._events[t]=null,r;if(e)for(var a,s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return r},t.prototype.$emit=function(t){var e=this,r=e._events[t];if(r){r=r.length>1?C(r):r;for(var n=C(arguments,1),i=0,o=r.length;i<o;i++)try{r[i].apply(e,n)}catch(r){zt(r,e,'event handler for "'+t+'"')}}return e}}(fr),function(t){t.prototype._update=function(t,e){var r=this;r._isMounted&&Se(r,"beforeUpdate");var n=r.$el,i=r._vnode,o=xe;xe=r,r._vnode=t,i?r.$el=r.__patch__(i,t):(r.$el=r.__patch__(r.$el,t,e,!1,r.$options._parentElm,r.$options._refElm),r.$options._parentElm=r.$options._refElm=null),xe=o,n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Se(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Se(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(fr),function(t){Je(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,r=e.$options,i=r.render,o=r._parentVnode;o&&(e.$scopedSlots=o.data.scopedSlots||n),e.$vnode=o;try{t=i.call(e._renderProxy,e.$createElement)}catch(r){zt(r,e,"render"),t=e._vnode}return t instanceof dt||(t=vt()),t.parent=o,t}}(fr);var yr=[String,RegExp,Array],_r={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:yr,exclude:yr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)gr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){vr(t,function(t){return mr(e,t)})}),this.$watch("exclude",function(e){vr(t,function(t){return!mr(e,t)})})},render:function(){var t=this.$slots.default,e=de(t),r=e&&e.componentOptions;if(r){var n=dr(r),i=this.include,o=this.exclude;if(i&&(!n||!mr(i,n))||o&&n&&mr(o,n))return e;var a=this.cache,s=this.keys,c=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,y(s,c),s.push(c)):(a[c]=e,s.push(c),this.max&&s.length>parseInt(this.max)&&gr(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return V}};Object.defineProperty(t,"config",e),t.util={warn:ct,extend:P,mergeOptions:Ft,defineReactive:Ct},t.set=Pt,t.delete=Ot,t.nextTick=ee,t.options=Object.create(null),B.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,P(t.options.components,_r),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=C(arguments,1);return r.unshift(this),"function"==typeof t.install?t.install.apply(t,r):"function"==typeof t&&t.apply(null,r),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Ft(this.options,t),this}}(t),pr(t),function(t){B.forEach(function(e){t[e]=function(t,r){return r?("component"===e&&h(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}(t)}(fr),Object.defineProperty(fr.prototype,"$isServer",{get:nt}),Object.defineProperty(fr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(fr,"FunctionalRenderContext",{value:tr}),fr.version="2.5.16";var br=m("style,class"),xr=m("input,textarea,option,select,progress"),wr=function(t,e,r){return"value"===r&&xr(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},Tr=m("contenteditable,draggable,spellcheck"),Sr=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Mr="http://www.w3.org/1999/xlink",Er=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ar=function(t){return Er(t)?t.slice(6,t.length):""},Cr=function(t){return null==t||!1===t};function Pr(t){for(var e=t.data,r=t,n=t;o(n.componentInstance);)(n=n.componentInstance._vnode)&&n.data&&(e=Or(n.data,e));for(;o(r=r.parent);)r&&r.data&&(e=Or(e,r.data));return function(t,e){if(o(t)||o(e))return Rr(t,Lr(e));return""}(e.staticClass,e.class)}function Or(t,e){return{staticClass:Rr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Rr(t,e){return t?e?t+" "+e:t:e||""}function Lr(t){return Array.isArray(t)?function(t){for(var e,r="",n=0,i=t.length;n<i;n++)o(e=Lr(t[n]))&&""!==e&&(r&&(r+=" "),r+=e);return r}(t):c(t)?function(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}(t):"string"==typeof t?t:""}var kr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Dr=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ir=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Nr=function(t){return Dr(t)||Ir(t)};function Fr(t){return Ir(t)?"svg":"math"===t?"math":void 0}var Br=Object.create(null);var Ur=m("text,number,password,search,email,tel,url");function Vr(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var jr=Object.freeze({createElement:function(t,e){var r=document.createElement(t);return"select"!==t?r:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)},createElementNS:function(t,e){return document.createElementNS(kr[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,r){t.insertBefore(e,r)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Gr={create:function(t,e){zr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(zr(t,!0),zr(e))},destroy:function(t){zr(t,!0)}};function zr(t,e){var r=t.data.ref;if(o(r)){var n=t.context,i=t.componentInstance||t.elm,a=n.$refs;e?Array.isArray(a[r])?y(a[r],i):a[r]===i&&(a[r]=void 0):t.data.refInFor?Array.isArray(a[r])?a[r].indexOf(i)<0&&a[r].push(i):a[r]=[i]:a[r]=i}}var Hr=new dt("",{},[]),Wr=["create","activate","update","remove","destroy"];function Xr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&function(t,e){if("input"!==t.tag)return!0;var r,n=o(r=t.data)&&o(r=r.attrs)&&r.type,i=o(r=e.data)&&o(r=r.attrs)&&r.type;return n===i||Ur(n)&&Ur(i)}(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function $r(t,e,r){var n,i,a={};for(n=e;n<=r;++n)o(i=t[n].key)&&(a[i]=n);return a}var qr={create:Yr,update:Yr,destroy:function(t){Yr(t,Hr)}};function Yr(t,e){(t.data.directives||e.data.directives)&&function(t,e){var r,n,i,o=t===Hr,a=e===Hr,s=Qr(t.data.directives,t.context),c=Qr(e.data.directives,e.context),u=[],h=[];for(r in c)n=s[r],i=c[r],n?(i.oldValue=n.value,Jr(i,"update",e,t),i.def&&i.def.componentUpdated&&h.push(i)):(Jr(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var l=function(){for(var r=0;r<u.length;r++)Jr(u[r],"inserted",e,t)};o?ce(e,"insert",l):l()}h.length&&ce(e,"postpatch",function(){for(var r=0;r<h.length;r++)Jr(h[r],"componentUpdated",e,t)});if(!o)for(r in s)c[r]||Jr(s[r],"unbind",t,t,a)}(t,e)}var Kr=Object.create(null);function Qr(t,e){var r,n,i=Object.create(null);if(!t)return i;for(r=0;r<t.length;r++)(n=t[r]).modifiers||(n.modifiers=Kr),i[Zr(n)]=n,n.def=Bt(e.$options,"directives",n.name);return i}function Zr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Jr(t,e,r,n,i){var o=t.def&&t.def[e];if(o)try{o(r.elm,t,r,n,i)}catch(n){zt(n,r.context,"directive "+t.name+" "+e+" hook")}}var tn=[Gr,qr];function en(t,e){var r=e.componentOptions;if(!(o(r)&&!1===r.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var n,a,s=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(n in o(u.__ob__)&&(u=e.data.attrs=P({},u)),u)a=u[n],c[n]!==a&&rn(s,n,a);for(n in(K||Z)&&u.value!==c.value&&rn(s,"value",u.value),c)i(u[n])&&(Er(n)?s.removeAttributeNS(Mr,Ar(n)):Tr(n)||s.removeAttribute(n))}}function rn(t,e,r){t.tagName.indexOf("-")>-1?nn(t,e,r):Sr(e)?Cr(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r)):Tr(e)?t.setAttribute(e,Cr(r)||"false"===r?"false":"true"):Er(e)?Cr(r)?t.removeAttributeNS(Mr,Ar(e)):t.setAttributeNS(Mr,e,r):nn(t,e,r)}function nn(t,e,r){if(Cr(r))t.removeAttribute(e);else{if(K&&!Q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,r)}}var on={create:en,update:en};function an(t,e){var r=e.elm,n=e.data,a=t.data;if(!(i(n.staticClass)&&i(n.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Pr(e),c=r._transitionClasses;o(c)&&(s=Rr(s,Lr(c))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}var sn,cn,un,hn,ln,fn,pn={create:an,update:an},dn=/[\w).+\-_$\]]/;function mn(t){var e,r,n,i,o,a=!1,s=!1,c=!1,u=!1,h=0,l=0,f=0,p=0;for(n=0;n<t.length;n++)if(r=e,e=t.charCodeAt(n),a)39===e&&92!==r&&(a=!1);else if(s)34===e&&92!==r&&(s=!1);else if(c)96===e&&92!==r&&(c=!1);else if(u)47===e&&92!==r&&(u=!1);else if(124!==e||124===t.charCodeAt(n+1)||124===t.charCodeAt(n-1)||h||l||f){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:l++;break;case 93:l--;break;case 123:h++;break;case 125:h--}if(47===e){for(var d=n-1,m=void 0;d>=0&&" "===(m=t.charAt(d));d--);m&&dn.test(m)||(u=!0)}}else void 0===i?(p=n+1,i=t.slice(0,n).trim()):v();function v(){(o||(o=[])).push(t.slice(p,n).trim()),p=n+1}if(void 0===i?i=t.slice(0,n).trim():0!==p&&v(),o)for(n=0;n<o.length;n++)i=vn(i,o[n]);return i}function vn(t,e){var r=e.indexOf("(");if(r<0)return'_f("'+e+'")('+t+")";var n=e.slice(0,r),i=e.slice(r+1);return'_f("'+n+'")('+t+(")"!==i?","+i:i)}function gn(t){console.error("[Vue compiler]: "+t)}function yn(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function _n(t,e,r){(t.props||(t.props=[])).push({name:e,value:r}),t.plain=!1}function bn(t,e,r){(t.attrs||(t.attrs=[])).push({name:e,value:r}),t.plain=!1}function xn(t,e,r){t.attrsMap[e]=r,t.attrsList.push({name:e,value:r})}function wn(t,e,r,n,i,o){(t.directives||(t.directives=[])).push({name:e,rawName:r,value:n,arg:i,modifiers:o}),t.plain=!1}function Tn(t,e,r,i,o,a){var s;(i=i||n).capture&&(delete i.capture,e="!"+e),i.once&&(delete i.once,e="~"+e),i.passive&&(delete i.passive,e="&"+e),"click"===e&&(i.right?(e="contextmenu",delete i.right):i.middle&&(e="mouseup")),i.native?(delete i.native,s=t.nativeEvents||(t.nativeEvents={})):s=t.events||(t.events={});var c={value:r.trim()};i!==n&&(c.modifiers=i);var u=s[e];Array.isArray(u)?o?u.unshift(c):u.push(c):s[e]=u?o?[c,u]:[u,c]:c,t.plain=!1}function Sn(t,e,r){var n=Mn(t,":"+e)||Mn(t,"v-bind:"+e);if(null!=n)return mn(n);if(!1!==r){var i=Mn(t,e);if(null!=i)return JSON.stringify(i)}}function Mn(t,e,r){var n;if(null!=(n=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return r&&delete t.attrsMap[e],n}function En(t,e,r){var n=r||{},i=n.number,o="$$v";n.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(o="_n("+o+")");var a=An(e,o);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+a+"}"}}function An(t,e){var r=function(t){if(t=t.trim(),sn=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<sn-1)return(hn=t.lastIndexOf("."))>-1?{exp:t.slice(0,hn),key:'"'+t.slice(hn+1)+'"'}:{exp:t,key:null};cn=t,hn=ln=fn=0;for(;!Pn();)On(un=Cn())?Ln(un):91===un&&Rn(un);return{exp:t.slice(0,ln),key:t.slice(ln+1,fn)}}(t);return null===r.key?t+"="+e:"$set("+r.exp+", "+r.key+", "+e+")"}function Cn(){return cn.charCodeAt(++hn)}function Pn(){return hn>=sn}function On(t){return 34===t||39===t}function Rn(t){var e=1;for(ln=hn;!Pn();)if(On(t=Cn()))Ln(t);else if(91===t&&e++,93===t&&e--,0===e){fn=hn;break}}function Ln(t){for(var e=t;!Pn()&&(t=Cn())!==e;);}var kn,Dn="__r",In="__c";function Nn(t,e,r,n,i){var o;e=(o=e)._withTask||(o._withTask=function(){Qt=!0;var t=o.apply(null,arguments);return Qt=!1,t}),r&&(e=function(t,e,r){var n=kn;return function i(){null!==t.apply(null,arguments)&&Fn(e,i,r,n)}}(e,t,n)),kn.addEventListener(t,e,et?{capture:n,passive:i}:n)}function Fn(t,e,r,n){(n||kn).removeEventListener(t,e._withTask||e,r)}function Bn(t,e){if(!i(t.data.on)||!i(e.data.on)){var r=e.data.on||{},n=t.data.on||{};kn=e.elm,function(t){if(o(t[Dn])){var e=K?"change":"input";t[e]=[].concat(t[Dn],t[e]||[]),delete t[Dn]}o(t[In])&&(t.change=[].concat(t[In],t.change||[]),delete t[In])}(r),se(r,n,Nn,Fn,e.context),kn=void 0}}var Un={create:Bn,update:Bn};function Vn(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var r,n,a=e.elm,s=t.data.domProps||{},c=e.data.domProps||{};for(r in o(c.__ob__)&&(c=e.data.domProps=P({},c)),s)i(c[r])&&(a[r]="");for(r in c){if(n=c[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),n===s[r])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===r){a._value=n;var u=i(n)?"":String(n);jn(a,u)&&(a.value=u)}else a[r]=n}}}function jn(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var r=!0;try{r=document.activeElement!==t}catch(t){}return r&&t.value!==e}(t,e)||function(t,e){var r=t.value,n=t._vModifiers;if(o(n)){if(n.lazy)return!1;if(n.number)return d(r)!==d(e);if(n.trim)return r.trim()!==e.trim()}return r!==e}(t,e))}var Gn={create:Vn,update:Vn},zn=x(function(t){var e={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function Hn(t){var e=Wn(t.style);return t.staticStyle?P(t.staticStyle,e):e}function Wn(t){return Array.isArray(t)?O(t):"string"==typeof t?zn(t):t}var Xn,$n=/^--/,qn=/\s*!important$/,Yn=function(t,e,r){if($n.test(e))t.style.setProperty(e,r);else if(qn.test(r))t.style.setProperty(e,r.replace(qn,""),"important");else{var n=Qn(e);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)t.style[n]=r[i];else t.style[n]=r}},Kn=["Webkit","Moz","ms"],Qn=x(function(t){if(Xn=Xn||document.createElement("div").style,"filter"!==(t=T(t))&&t in Xn)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<Kn.length;r++){var n=Kn[r]+e;if(n in Xn)return n}});function Zn(t,e){var r=e.data,n=t.data;if(!(i(r.staticStyle)&&i(r.style)&&i(n.staticStyle)&&i(n.style))){var a,s,c=e.elm,u=n.staticStyle,h=n.normalizedStyle||n.style||{},l=u||h,f=Wn(e.data.style)||{};e.data.normalizedStyle=o(f.__ob__)?P({},f):f;var p=function(t,e){var r,n={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(r=Hn(i.data))&&P(n,r);(r=Hn(t.data))&&P(n,r);for(var o=t;o=o.parent;)o.data&&(r=Hn(o.data))&&P(n,r);return n}(e,!0);for(s in l)i(p[s])&&Yn(c,s,"");for(s in p)(a=p[s])!==l[s]&&Yn(c,s,null==a?"":a)}}var Jn={create:Zn,update:Zn};function ti(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function ei(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var r=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";r.indexOf(n)>=0;)r=r.replace(n," ");(r=r.trim())?t.setAttribute("class",r):t.removeAttribute("class")}}function ri(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&P(e,ni(t.name||"v")),P(e,t),e}return"string"==typeof t?ni(t):void 0}}var ni=x(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),ii=X&&!Q,oi="transition",ai="animation",si="transition",ci="transitionend",ui="animation",hi="animationend";ii&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(si="WebkitTransition",ci="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ui="WebkitAnimation",hi="webkitAnimationEnd"));var li=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function fi(t){li(function(){li(t)})}function pi(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),ti(t,e))}function di(t,e){t._transitionClasses&&y(t._transitionClasses,e),ei(t,e)}function mi(t,e,r){var n=gi(t,e),i=n.type,o=n.timeout,a=n.propCount;if(!i)return r();var s=i===oi?ci:hi,c=0,u=function(){t.removeEventListener(s,h),r()},h=function(e){e.target===t&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),t.addEventListener(s,h)}var vi=/\b(transform|all)(,|$)/;function gi(t,e){var r,n=window.getComputedStyle(t),i=n[si+"Delay"].split(", "),o=n[si+"Duration"].split(", "),a=yi(i,o),s=n[ui+"Delay"].split(", "),c=n[ui+"Duration"].split(", "),u=yi(s,c),h=0,l=0;return e===oi?a>0&&(r=oi,h=a,l=o.length):e===ai?u>0&&(r=ai,h=u,l=c.length):l=(r=(h=Math.max(a,u))>0?a>u?oi:ai:null)?r===oi?o.length:c.length:0,{type:r,timeout:h,propCount:l,hasTransform:r===oi&&vi.test(n[si+"Property"])}}function yi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,r){return _i(e)+_i(t[r])}))}function _i(t){return 1e3*Number(t.slice(0,-1))}function bi(t,e){var r=t.elm;o(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var n=ri(t.data.transition);if(!i(n)&&!o(r._enterCb)&&1===r.nodeType){for(var a=n.css,s=n.type,u=n.enterClass,h=n.enterToClass,l=n.enterActiveClass,f=n.appearClass,p=n.appearToClass,m=n.appearActiveClass,v=n.beforeEnter,g=n.enter,y=n.afterEnter,_=n.enterCancelled,b=n.beforeAppear,x=n.appear,w=n.afterAppear,T=n.appearCancelled,S=n.duration,M=xe,E=xe.$vnode;E&&E.parent;)M=(E=E.parent).context;var A=!M._isMounted||!t.isRootInsert;if(!A||x||""===x){var C=A&&f?f:u,P=A&&m?m:l,O=A&&p?p:h,R=A&&b||v,L=A&&"function"==typeof x?x:g,k=A&&w||y,D=A&&T||_,I=d(c(S)?S.enter:S);0;var F=!1!==a&&!Q,B=Ti(L),U=r._enterCb=N(function(){F&&(di(r,O),di(r,P)),U.cancelled?(F&&di(r,C),D&&D(r)):k&&k(r),r._enterCb=null});t.data.show||ce(t,"insert",function(){var e=r.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),L&&L(r,U)}),R&&R(r),F&&(pi(r,C),pi(r,P),fi(function(){di(r,C),U.cancelled||(pi(r,O),B||(wi(I)?setTimeout(U,I):mi(r,s,U)))})),t.data.show&&(e&&e(),L&&L(r,U)),F||B||U()}}}function xi(t,e){var r=t.elm;o(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var n=ri(t.data.transition);if(i(n)||1!==r.nodeType)return e();if(!o(r._leaveCb)){var a=n.css,s=n.type,u=n.leaveClass,h=n.leaveToClass,l=n.leaveActiveClass,f=n.beforeLeave,p=n.leave,m=n.afterLeave,v=n.leaveCancelled,g=n.delayLeave,y=n.duration,_=!1!==a&&!Q,b=Ti(p),x=d(c(y)?y.leave:y);0;var w=r._leaveCb=N(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),_&&(di(r,h),di(r,l)),w.cancelled?(_&&di(r,u),v&&v(r)):(e(),m&&m(r)),r._leaveCb=null});g?g(T):T()}function T(){w.cancelled||(t.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),f&&f(r),_&&(pi(r,u),pi(r,l),fi(function(){di(r,u),w.cancelled||(pi(r,h),b||(wi(x)?setTimeout(w,x):mi(r,s,w)))})),p&&p(r,w),_||b||w())}}function wi(t){return"number"==typeof t&&!isNaN(t)}function Ti(t){if(i(t))return!1;var e=t.fns;return o(e)?Ti(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Si(t,e){!0!==e.data.show&&bi(e)}var Mi=function(t){var e,r,n={},c=t.modules,u=t.nodeOps;for(e=0;e<Wr.length;++e)for(n[Wr[e]]=[],r=0;r<c.length;++r)o(c[r][Wr[e]])&&n[Wr[e]].push(c[r][Wr[e]]);function h(t){var e=u.parentNode(t);o(e)&&u.removeChild(e,t)}function l(t,e,r,i,s,c,h){if(o(t.elm)&&o(c)&&(t=c[h]=yt(t)),t.isRootInsert=!s,!function(t,e,r,i){var s=t.data;if(o(s)){var c=o(t.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(t,!1,r,i),o(t.componentInstance))return f(t,e),a(c)&&function(t,e,r,i){for(var a,s=t;s.componentInstance;)if(s=s.componentInstance._vnode,o(a=s.data)&&o(a=a.transition)){for(a=0;a<n.activate.length;++a)n.activate[a](Hr,s);e.push(s);break}p(r,t.elm,i)}(t,e,r,i),!0}}(t,e,r,i)){var l=t.data,m=t.children,v=t.tag;o(v)?(t.elm=t.ns?u.createElementNS(t.ns,v):u.createElement(v,t),y(t),d(t,m,e),o(l)&&g(t,e),p(r,t.elm,i)):a(t.isComment)?(t.elm=u.createComment(t.text),p(r,t.elm,i)):(t.elm=u.createTextNode(t.text),p(r,t.elm,i))}}function f(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(g(t,e),y(t)):(zr(t),e.push(t))}function p(t,e,r){o(t)&&(o(r)?r.parentNode===t&&u.insertBefore(t,e,r):u.appendChild(t,e))}function d(t,e,r){if(Array.isArray(e))for(var n=0;n<e.length;++n)l(e[n],r,t.elm,null,!0,e,n);else s(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function g(t,r){for(var i=0;i<n.create.length;++i)n.create[i](Hr,t);o(e=t.data.hook)&&(o(e.create)&&e.create(Hr,t),o(e.insert)&&r.push(t))}function y(t){var e;if(o(e=t.fnScopeId))u.setStyleScope(t.elm,e);else for(var r=t;r;)o(e=r.context)&&o(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),r=r.parent;o(e=xe)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function _(t,e,r,n,i,o){for(;n<=i;++n)l(r[n],o,t,e,!1,r,n)}function b(t){var e,r,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<n.destroy.length;++e)n.destroy[e](t);if(o(e=t.children))for(r=0;r<t.children.length;++r)b(t.children[r])}function x(t,e,r,n){for(;r<=n;++r){var i=e[r];o(i)&&(o(i.tag)?(w(i),b(i)):h(i.elm))}}function w(t,e){if(o(e)||o(t.data)){var r,i=n.remove.length+1;for(o(e)?e.listeners+=i:e=function(t,e){function r(){0==--r.listeners&&h(t)}return r.listeners=e,r}(t.elm,i),o(r=t.componentInstance)&&o(r=r._vnode)&&o(r.data)&&w(r,e),r=0;r<n.remove.length;++r)n.remove[r](t,e);o(r=t.data.hook)&&o(r=r.remove)?r(t,e):e()}else h(t.elm)}function T(t,e,r,n){for(var i=r;i<n;i++){var a=e[i];if(o(a)&&Xr(t,a))return i}}function S(t,e,r,s){if(t!==e){var c=e.elm=t.elm;if(a(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?A(t.elm,e,r):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,f=e.data;o(f)&&o(h=f.hook)&&o(h=h.prepatch)&&h(t,e);var p=t.children,d=e.children;if(o(f)&&v(e)){for(h=0;h<n.update.length;++h)n.update[h](t,e);o(h=f.hook)&&o(h=h.update)&&h(t,e)}i(e.text)?o(p)&&o(d)?p!==d&&function(t,e,r,n,a){for(var s,c,h,f=0,p=0,d=e.length-1,m=e[0],v=e[d],g=r.length-1,y=r[0],b=r[g],w=!a;f<=d&&p<=g;)i(m)?m=e[++f]:i(v)?v=e[--d]:Xr(m,y)?(S(m,y,n),m=e[++f],y=r[++p]):Xr(v,b)?(S(v,b,n),v=e[--d],b=r[--g]):Xr(m,b)?(S(m,b,n),w&&u.insertBefore(t,m.elm,u.nextSibling(v.elm)),m=e[++f],b=r[--g]):Xr(v,y)?(S(v,y,n),w&&u.insertBefore(t,v.elm,m.elm),v=e[--d],y=r[++p]):(i(s)&&(s=$r(e,f,d)),i(c=o(y.key)?s[y.key]:T(y,e,f,d))?l(y,n,t,m.elm,!1,r,p):Xr(h=e[c],y)?(S(h,y,n),e[c]=void 0,w&&u.insertBefore(t,h.elm,m.elm)):l(y,n,t,m.elm,!1,r,p),y=r[++p]);f>d?_(t,i(r[g+1])?null:r[g+1].elm,r,p,g,n):p>g&&x(0,e,f,d)}(c,p,d,r,s):o(d)?(o(t.text)&&u.setTextContent(c,""),_(c,null,d,0,d.length-1,r)):o(p)?x(0,p,0,p.length-1):o(t.text)&&u.setTextContent(c,""):t.text!==e.text&&u.setTextContent(c,e.text),o(f)&&o(h=f.hook)&&o(h=h.postpatch)&&h(t,e)}}}function M(t,e,r){if(a(r)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var E=m("attrs,class,staticClass,staticStyle,key");function A(t,e,r,n){var i,s=e.tag,c=e.data,u=e.children;if(n=n||c&&c.pre,e.elm=t,a(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(c)&&(o(i=c.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return f(e,r),!0;if(o(s)){if(o(u))if(t.hasChildNodes())if(o(i=c)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var h=!0,l=t.firstChild,p=0;p<u.length;p++){if(!l||!A(l,u[p],r,n)){h=!1;break}l=l.nextSibling}if(!h||l)return!1}else d(e,u,r);if(o(c)){var m=!1;for(var v in c)if(!E(v)){m=!0,g(e,r);break}!m&&c.class&&ne(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,r,s,c,h){if(!i(e)){var f,p=!1,d=[];if(i(t))p=!0,l(e,d,c,h);else{var m=o(t.nodeType);if(!m&&Xr(t,e))S(t,e,d,s);else{if(m){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),r=!0),a(r)&&A(t,e,d))return M(e,d,!0),t;f=t,t=new dt(u.tagName(f).toLowerCase(),{},[],void 0,f)}var g=t.elm,y=u.parentNode(g);if(l(e,d,g._leaveCb?null:y,u.nextSibling(g)),o(e.parent))for(var _=e.parent,w=v(e);_;){for(var T=0;T<n.destroy.length;++T)n.destroy[T](_);if(_.elm=e.elm,w){for(var E=0;E<n.create.length;++E)n.create[E](Hr,_);var C=_.data.hook.insert;if(C.merged)for(var P=1;P<C.fns.length;P++)C.fns[P]()}else zr(_);_=_.parent}o(y)?x(0,[t],0,0):o(t.tag)&&b(t)}}return M(e,d,p),e.elm}o(t)&&b(t)}}({nodeOps:jr,modules:[on,pn,Un,Gn,Jn,X?{create:Si,activate:Si,remove:function(t,e){!0!==t.data.show?xi(t,e):e()}}:{}].concat(tn)});Q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&ki(t,"input")});var Ei={inserted:function(t,e,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?ce(r,"postpatch",function(){Ei.componentUpdated(t,e,r)}):Ai(t,e,r.context),t._vOptions=[].map.call(t.options,Oi)):("textarea"===r.tag||Ur(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ri),t.addEventListener("compositionend",Li),t.addEventListener("change",Li),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){Ai(t,e,r.context);var n=t._vOptions,i=t._vOptions=[].map.call(t.options,Oi);if(i.some(function(t,e){return!D(t,n[e])}))(t.multiple?e.value.some(function(t){return Pi(t,i)}):e.value!==e.oldValue&&Pi(e.value,i))&&ki(t,"change")}}};function Ai(t,e,r){Ci(t,e,r),(K||Z)&&setTimeout(function(){Ci(t,e,r)},0)}function Ci(t,e,r){var n=e.value,i=t.multiple;if(!i||Array.isArray(n)){for(var o,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],i)o=I(n,Oi(a))>-1,a.selected!==o&&(a.selected=o);else if(D(Oi(a),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Pi(t,e){return e.every(function(e){return!D(e,t)})}function Oi(t){return"_value"in t?t._value:t.value}function Ri(t){t.target.composing=!0}function Li(t){t.target.composing&&(t.target.composing=!1,ki(t.target,"input"))}function ki(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function Di(t){return!t.componentInstance||t.data&&t.data.transition?t:Di(t.componentInstance._vnode)}var Ii={model:Ei,show:{bind:function(t,e,r){var n=e.value,i=(r=Di(r)).data&&r.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&i?(r.data.show=!0,bi(r,function(){t.style.display=o})):t.style.display=n?o:"none"},update:function(t,e,r){var n=e.value;!n!=!e.oldValue&&((r=Di(r)).data&&r.data.transition?(r.data.show=!0,n?bi(r,function(){t.style.display=t.__vOriginalDisplay}):xi(r,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none")},unbind:function(t,e,r,n,i){i||(t.style.display=t.__vOriginalDisplay)}}},Ni={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Fi(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Fi(de(e.children)):t}function Bi(t){var e={},r=t.$options;for(var n in r.propsData)e[n]=t[n];var i=r._parentListeners;for(var o in i)e[T(o)]=i[o];return e}function Ui(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Vi={name:"transition",props:Ni,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(function(t){return t.tag||pe(t)})).length){0;var n=this.mode;0;var i=r[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=Fi(i);if(!o)return i;if(this._leaving)return Ui(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var c=(o.data||(o.data={})).transition=Bi(this),u=this._vnode,h=Fi(u);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),h&&h.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,h)&&!pe(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var l=h.data.transition=P({},c);if("out-in"===n)return this._leaving=!0,ce(l,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Ui(t,i);if("in-out"===n){if(pe(o))return u;var f,p=function(){f()};ce(c,"afterEnter",p),ce(c,"enterCancelled",p),ce(l,"delayLeave",function(t){f=t})}}return i}}},ji=P({tag:String,moveClass:String},Ni);function Gi(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function zi(t){t.data.newPos=t.elm.getBoundingClientRect()}function Hi(t){var e=t.data.pos,r=t.data.newPos,n=e.left-r.left,i=e.top-r.top;if(n||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+i+"px)",o.transitionDuration="0s"}}delete ji.mode;var Wi={Transition:Vi,TransitionGroup:{props:ji,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Bi(this),s=0;s<i.length;s++){var c=i[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),r[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(n){for(var u=[],h=[],l=0;l<n.length;l++){var f=n[l];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),r[f.key]?u.push(f):h.push(f)}this.kept=t(e,null,u),this.removed=h}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Gi),t.forEach(zi),t.forEach(Hi),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var r=t.elm,n=r.style;pi(r,e),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(ci,r._moveCb=function t(n){n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(ci,t),r._moveCb=null,di(r,e))})}}))},methods:{hasMove:function(t,e){if(!ii)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ei(r,t)}),ti(r,e),r.style.display="none",this.$el.appendChild(r);var n=gi(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}}};fr.config.mustUseProp=wr,fr.config.isReservedTag=Nr,fr.config.isReservedAttr=br,fr.config.getTagNamespace=Fr,fr.config.isUnknownElement=function(t){if(!X)return!0;if(Nr(t))return!1;if(t=t.toLowerCase(),null!=Br[t])return Br[t];var e=document.createElement(t);return t.indexOf("-")>-1?Br[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Br[t]=/HTMLUnknownElement/.test(e.toString())},P(fr.options.directives,Ii),P(fr.options.components,Wi),fr.prototype.__patch__=X?Mi:R,fr.prototype.$mount=function(t,e){return function(t,e,r){return t.$el=e,t.$options.render||(t.$options.render=vt),Se(t,"beforeMount"),new ke(t,function(){t._update(t._render(),r)},R,null,!0),r=!1,null==t.$vnode&&(t._isMounted=!0,Se(t,"mounted")),t}(this,t=t&&X?Vr(t):void 0,e)},X&&setTimeout(function(){V.devtools&&it&&it.emit("init",fr)},0);var Xi=/\{\{((?:.|\n)+?)\}\}/g,$i=/[-.*+?^${}()|[\]\/\\]/g,qi=x(function(t){var e=t[0].replace($i,"\\$&"),r=t[1].replace($i,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+r,"g")});function Yi(t,e){var r=e?qi(e):Xi;if(r.test(t)){for(var n,i,o,a=[],s=[],c=r.lastIndex=0;n=r.exec(t);){(i=n.index)>c&&(s.push(o=t.slice(c,i)),a.push(JSON.stringify(o)));var u=mn(n[1].trim());a.push("_s("+u+")"),s.push({"@binding":u}),c=i+n[0].length}return c<t.length&&(s.push(o=t.slice(c)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}var Ki={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var r=Mn(t,"class");r&&(t.staticClass=JSON.stringify(r));var n=Sn(t,"class",!1);n&&(t.classBinding=n)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var Qi,Zi={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var r=Mn(t,"style");r&&(t.staticStyle=JSON.stringify(zn(r)));var n=Sn(t,"style",!1);n&&(t.styleBinding=n)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Ji=function(t){return(Qi=Qi||document.createElement("div")).innerHTML=t,Qi.textContent},to=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),eo=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),ro=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),no=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,io="[a-zA-Z_][\\w\\-\\.]*",oo="((?:"+io+"\\:)?"+io+")",ao=new RegExp("^<"+oo),so=/^\s*(\/?)>/,co=new RegExp("^<\\/"+oo+"[^>]*>"),uo=/^<!DOCTYPE [^>]+>/i,ho=/^<!\--/,lo=/^<!\[/,fo=!1;"x".replace(/x(.)?/g,function(t,e){fo=""===e});var po=m("script,style,textarea",!0),mo={},vo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},go=/&(?:lt|gt|quot|amp);/g,yo=/&(?:lt|gt|quot|amp|#10|#9);/g,_o=m("pre,textarea",!0),bo=function(t,e){return t&&_o(t)&&"\n"===e[0]};function xo(t,e){var r=e?yo:go;return t.replace(r,function(t){return vo[t]})}var wo,To,So,Mo,Eo,Ao,Co,Po,Oo=/^@|^v-on:/,Ro=/^v-|^@|^:/,Lo=/([^]*?)\s+(?:in|of)\s+([^]*)/,ko=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Do=/^\(|\)$/g,Io=/:(.*)$/,No=/^:|^v-bind:/,Fo=/\.[^.]+/g,Bo=x(Ji);function Uo(t,e,r){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},r=0,n=t.length;r<n;r++)e[t[r].name]=t[r].value;return e}(e),parent:r,children:[]}}function Vo(t,e){wo=e.warn||gn,Ao=e.isPreTag||L,Co=e.mustUseProp||L,Po=e.getTagNamespace||L,So=yn(e.modules,"transformNode"),Mo=yn(e.modules,"preTransformNode"),Eo=yn(e.modules,"postTransformNode"),To=e.delimiters;var r,n,i=[],o=!1!==e.preserveWhitespace,a=!1,s=!1;function c(t){t.pre&&(a=!1),Ao(t.tag)&&(s=!1);for(var r=0;r<Eo.length;r++)Eo[r](t,e)}return function(t,e){for(var r,n,i=[],o=e.expectHTML,a=e.isUnaryTag||L,s=e.canBeLeftOpenTag||L,c=0;t;){if(r=t,n&&po(n)){var u=0,h=n.toLowerCase(),l=mo[h]||(mo[h]=new RegExp("([\\s\\S]*?)(</"+h+"[^>]*>)","i")),f=t.replace(l,function(t,r,n){return u=n.length,po(h)||"noscript"===h||(r=r.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),bo(h,r)&&(r=r.slice(1)),e.chars&&e.chars(r),""});c+=t.length-f.length,t=f,E(h,c-u,c)}else{var p=t.indexOf("<");if(0===p){if(ho.test(t)){var d=t.indexOf("--\x3e");if(d>=0){e.shouldKeepComment&&e.comment(t.substring(4,d)),T(d+3);continue}}if(lo.test(t)){var m=t.indexOf("]>");if(m>=0){T(m+2);continue}}var v=t.match(uo);if(v){T(v[0].length);continue}var g=t.match(co);if(g){var y=c;T(g[0].length),E(g[1],y,c);continue}var _=S();if(_){M(_),bo(n,t)&&T(1);continue}}var b=void 0,x=void 0,w=void 0;if(p>=0){for(x=t.slice(p);!(co.test(x)||ao.test(x)||ho.test(x)||lo.test(x)||(w=x.indexOf("<",1))<0);)p+=w,x=t.slice(p);b=t.substring(0,p),T(p)}p<0&&(b=t,t=""),e.chars&&b&&e.chars(b)}if(t===r){e.chars&&e.chars(t);break}}function T(e){c+=e,t=t.substring(e)}function S(){var e=t.match(ao);if(e){var r,n,i={tagName:e[1],attrs:[],start:c};for(T(e[0].length);!(r=t.match(so))&&(n=t.match(no));)T(n[0].length),i.attrs.push(n);if(r)return i.unarySlash=r[1],T(r[0].length),i.end=c,i}}function M(t){var r=t.tagName,c=t.unarySlash;o&&("p"===n&&ro(r)&&E(n),s(r)&&n===r&&E(r));for(var u=a(r)||!!c,h=t.attrs.length,l=new Array(h),f=0;f<h;f++){var p=t.attrs[f];fo&&-1===p[0].indexOf('""')&&(""===p[3]&&delete p[3],""===p[4]&&delete p[4],""===p[5]&&delete p[5]);var d=p[3]||p[4]||p[5]||"",m="a"===r&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;l[f]={name:p[1],value:xo(d,m)}}u||(i.push({tag:r,lowerCasedTag:r.toLowerCase(),attrs:l}),n=r),e.start&&e.start(r,l,u,t.start,t.end)}function E(t,r,o){var a,s;if(null==r&&(r=c),null==o&&(o=c),t&&(s=t.toLowerCase()),t)for(a=i.length-1;a>=0&&i[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var u=i.length-1;u>=a;u--)e.end&&e.end(i[u].tag,r,o);i.length=a,n=a&&i[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,r,o):"p"===s&&(e.start&&e.start(t,[],!1,r,o),e.end&&e.end(t,r,o))}E()}(t,{warn:wo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,o,u){var h=n&&n.ns||Po(t);K&&"svg"===h&&(o=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];Wo.test(n.name)||(n.name=n.name.replace(Xo,""),e.push(n))}return e}(o));var l,f=Uo(t,o,n);h&&(f.ns=h),"style"!==(l=f).tag&&("script"!==l.tag||l.attrsMap.type&&"text/javascript"!==l.attrsMap.type)||nt()||(f.forbidden=!0);for(var p=0;p<Mo.length;p++)f=Mo[p](f,e)||f;function d(t){0}if(a||(!function(t){null!=Mn(t,"v-pre")&&(t.pre=!0)}(f),f.pre&&(a=!0)),Ao(f.tag)&&(s=!0),a?function(t){var e=t.attrsList.length;if(e)for(var r=t.attrs=new Array(e),n=0;n<e;n++)r[n]={name:t.attrsList[n].name,value:JSON.stringify(t.attrsList[n].value)};else t.pre||(t.plain=!0)}(f):f.processed||(Go(f),function(t){var e=Mn(t,"v-if");if(e)t.if=e,zo(t,{exp:e,block:t});else{null!=Mn(t,"v-else")&&(t.else=!0);var r=Mn(t,"v-else-if");r&&(t.elseif=r)}}(f),function(t){null!=Mn(t,"v-once")&&(t.once=!0)}(f),jo(f,e)),r?i.length||r.if&&(f.elseif||f.else)&&(d(),zo(r,{exp:f.elseif,block:f})):(r=f,d()),n&&!f.forbidden)if(f.elseif||f.else)!function(t,e){var r=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);r&&r.if&&zo(r,{exp:t.elseif,block:t})}(f,n);else if(f.slotScope){n.plain=!1;var m=f.slotTarget||'"default"';(n.scopedSlots||(n.scopedSlots={}))[m]=f}else n.children.push(f),f.parent=n;u?c(f):(n=f,i.push(f))},end:function(){var t=i[i.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!s&&t.children.pop(),i.length-=1,n=i[i.length-1],c(t)},chars:function(t){if(n&&(!K||"textarea"!==n.tag||n.attrsMap.placeholder!==t)){var e,r,i=n.children;if(t=s||t.trim()?"script"===(e=n).tag||"style"===e.tag?t:Bo(t):o&&i.length?" ":"")!a&&" "!==t&&(r=Yi(t,To))?i.push({type:2,expression:r.expression,tokens:r.tokens,text:t}):" "===t&&i.length&&" "===i[i.length-1].text||i.push({type:3,text:t})}},comment:function(t){n.children.push({type:3,text:t,isComment:!0})}}),r}function jo(t,e){var r,n;(n=Sn(r=t,"key"))&&(r.key=n),t.plain=!t.key&&!t.attrsList.length,function(t){var e=Sn(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){if("slot"===t.tag)t.slotName=Sn(t,"name");else{var e;"template"===t.tag?(e=Mn(t,"scope"),t.slotScope=e||Mn(t,"slot-scope")):(e=Mn(t,"slot-scope"))&&(t.slotScope=e);var r=Sn(t,"slot");r&&(t.slotTarget='""'===r?'"default"':r,"template"===t.tag||t.slotScope||bn(t,"slot",r))}}(t),function(t){var e;(e=Sn(t,"is"))&&(t.component=e);null!=Mn(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var i=0;i<So.length;i++)t=So[i](t,e)||t;!function(t){var e,r,n,i,o,a,s,c=t.attrsList;for(e=0,r=c.length;e<r;e++){if(n=i=c[e].name,o=c[e].value,Ro.test(n))if(t.hasBindings=!0,(a=Ho(n))&&(n=n.replace(Fo,"")),No.test(n))n=n.replace(No,""),o=mn(o),s=!1,a&&(a.prop&&(s=!0,"innerHtml"===(n=T(n))&&(n="innerHTML")),a.camel&&(n=T(n)),a.sync&&Tn(t,"update:"+T(n),An(o,"$event"))),s||!t.component&&Co(t.tag,t.attrsMap.type,n)?_n(t,n,o):bn(t,n,o);else if(Oo.test(n))n=n.replace(Oo,""),Tn(t,n,o,a,!1);else{var u=(n=n.replace(Ro,"")).match(Io),h=u&&u[1];h&&(n=n.slice(0,-(h.length+1))),wn(t,n,i,o,h,a)}else bn(t,n,JSON.stringify(o)),!t.component&&"muted"===n&&Co(t.tag,t.attrsMap.type,n)&&_n(t,n,"true")}}(t)}function Go(t){var e;if(e=Mn(t,"v-for")){var r=function(t){var e=t.match(Lo);if(!e)return;var r={};r.for=e[2].trim();var n=e[1].trim().replace(Do,""),i=n.match(ko);i?(r.alias=n.replace(ko,""),r.iterator1=i[1].trim(),i[2]&&(r.iterator2=i[2].trim())):r.alias=n;return r}(e);r&&P(t,r)}}function zo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Ho(t){var e=t.match(Fo);if(e){var r={};return e.forEach(function(t){r[t.slice(1)]=!0}),r}}var Wo=/^xmlns:NS\d+/,Xo=/^NS\d+:/;function $o(t){return Uo(t.tag,t.attrsList.slice(),t.parent)}var qo=[Ki,Zi,{preTransformNode:function(t,e){if("input"===t.tag){var r,n=t.attrsMap;if(!n["v-model"])return;if((n[":type"]||n["v-bind:type"])&&(r=Sn(t,"type")),n.type||r||!n["v-bind"]||(r="("+n["v-bind"]+").type"),r){var i=Mn(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=Mn(t,"v-else",!0),s=Mn(t,"v-else-if",!0),c=$o(t);Go(c),xn(c,"type","checkbox"),jo(c,e),c.processed=!0,c.if="("+r+")==='checkbox'"+o,zo(c,{exp:c.if,block:c});var u=$o(t);Mn(u,"v-for",!0),xn(u,"type","radio"),jo(u,e),zo(c,{exp:"("+r+")==='radio'"+o,block:u});var h=$o(t);return Mn(h,"v-for",!0),xn(h,":type",r),jo(h,e),zo(c,{exp:i,block:h}),a?c.else=!0:s&&(c.elseif=s),c}}}}];var Yo,Ko,Qo={expectHTML:!0,modules:qo,directives:{model:function(t,e,r){r;var n=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return En(t,n,i),!1;if("select"===o)!function(t,e,r){var n='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r&&r.number?"_n(val)":"val")+"});";n=n+" "+An(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Tn(t,"change",n,null,!0)}(t,n,i);else if("input"===o&&"checkbox"===a)!function(t,e,r){var n=r&&r.number,i=Sn(t,"value")||"null",o=Sn(t,"true-value")||"true",a=Sn(t,"false-value")||"false";_n(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Tn(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(n?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+An(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+An(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+An(e,"$$c")+"}",null,!0)}(t,n,i);else if("input"===o&&"radio"===a)!function(t,e,r){var n=r&&r.number,i=Sn(t,"value")||"null";_n(t,"checked","_q("+e+","+(i=n?"_n("+i+")":i)+")"),Tn(t,"change",An(e,i),null,!0)}(t,n,i);else if("input"===o||"textarea"===o)!function(t,e,r){var n=t.attrsMap.type,i=r||{},o=i.lazy,a=i.number,s=i.trim,c=!o&&"range"!==n,u=o?"change":"range"===n?Dn:"input",h="$event.target.value";s&&(h="$event.target.value.trim()"),a&&(h="_n("+h+")");var l=An(e,h);c&&(l="if($event.target.composing)return;"+l),_n(t,"value","("+e+")"),Tn(t,u,l,null,!0),(s||a)&&Tn(t,"blur","$forceUpdate()")}(t,n,i);else if(!V.isReservedTag(o))return En(t,n,i),!1;return!0},text:function(t,e){e.value&&_n(t,"textContent","_s("+e.value+")")},html:function(t,e){e.value&&_n(t,"innerHTML","_s("+e.value+")")}},isPreTag:function(t){return"pre"===t},isUnaryTag:to,mustUseProp:wr,canBeLeftOpenTag:eo,isReservedTag:Nr,getTagNamespace:Fr,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(qo)},Zo=x(function(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))});function Jo(t,e){t&&(Yo=Zo(e.staticKeys||""),Ko=e.isReservedTag||L,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||v(t.tag)||!Ko(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Yo)))}(e);if(1===e.type){if(!Ko(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var r=0,n=e.children.length;r<n;r++){var i=e.children[r];t(i),i.static||(e.static=!1)}if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++){var s=e.ifConditions[o].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,r){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=r),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,i=e.children.length;n<i;n++)t(e.children[n],r||!!e.for);if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++)t(e.ifConditions[o].block,r)}}(t,!1))}var ta=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,ea=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ra={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},na={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},ia=function(t){return"if("+t+")return null;"},oa={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ia("$event.target !== $event.currentTarget"),ctrl:ia("!$event.ctrlKey"),shift:ia("!$event.shiftKey"),alt:ia("!$event.altKey"),meta:ia("!$event.metaKey"),left:ia("'button' in $event && $event.button !== 0"),middle:ia("'button' in $event && $event.button !== 1"),right:ia("'button' in $event && $event.button !== 2")};function aa(t,e,r){var n=e?"nativeOn:{":"on:{";for(var i in t)n+='"'+i+'":'+sa(i,t[i])+",";return n.slice(0,-1)+"}"}function sa(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return sa(t,e)}).join(",")+"]";var r=ea.test(e.value),n=ta.test(e.value);if(e.modifiers){var i="",o="",a=[];for(var s in e.modifiers)if(oa[s])o+=oa[s],ra[s]&&a.push(s);else if("exact"===s){var c=e.modifiers;o+=ia(["ctrl","shift","alt","meta"].filter(function(t){return!c[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);return a.length&&(i+=function(t){return"if(!('button' in $event)&&"+t.map(ca).join("&&")+")return null;"}(a)),o&&(i+=o),"function($event){"+i+(r?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":e.value)+"}"}return r||n?e.value:"function($event){"+e.value+"}"}function ca(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var r=ra[t],n=na[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(r)+",$event.key,"+JSON.stringify(n)+")"}var ua={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(r){return"_b("+r+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:R},ha=function(t){this.options=t,this.warn=t.warn||gn,this.transforms=yn(t.modules,"transformCode"),this.dataGenFns=yn(t.modules,"genData"),this.directives=P(P({},ua),t.directives);var e=t.isReservedTag||L;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]};function la(t,e){var r=new ha(e);return{render:"with(this){return "+(t?fa(t,r):'_c("div")')+"}",staticRenderFns:r.staticRenderFns}}function fa(t,e){if(t.staticRoot&&!t.staticProcessed)return pa(t,e);if(t.once&&!t.onceProcessed)return da(t,e);if(t.for&&!t.forProcessed)return function(t,e,r,n){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";0;return t.forProcessed=!0,(n||"_l")+"(("+i+"),function("+o+a+s+"){return "+(r||fa)(t,e)+"})"}(t,e);if(t.if&&!t.ifProcessed)return ma(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return function(t,e){var r=t.slotName||'"default"',n=ya(t,e),i="_t("+r+(n?","+n:""),o=t.attrs&&"{"+t.attrs.map(function(t){return T(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];!o&&!a||n||(i+=",null");o&&(i+=","+o);a&&(i+=(o?"":",null")+","+a);return i+")"}(t,e);var r;if(t.component)r=function(t,e,r){var n=e.inlineTemplate?null:ya(e,r,!0);return"_c("+t+","+va(e,r)+(n?","+n:"")+")"}(t.component,t,e);else{var n=t.plain?void 0:va(t,e),i=t.inlineTemplate?null:ya(t,e,!0);r="_c('"+t.tag+"'"+(n?","+n:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)r=e.transforms[o](t,r);return r}return ya(t,e)||"void 0"}function pa(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+fa(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function da(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return ma(t,e);if(t.staticInFor){for(var r="",n=t.parent;n;){if(n.for){r=n.key;break}n=n.parent}return r?"_o("+fa(t,e)+","+e.onceId+++","+r+")":fa(t,e)}return pa(t,e)}function ma(t,e,r,n){return t.ifProcessed=!0,function t(e,r,n,i){if(!e.length)return i||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+t(e,r,n,i):""+a(o.block);function a(t){return n?n(t,r):t.once?da(t,r):fa(t,r)}}(t.ifConditions.slice(),e,r,n)}function va(t,e){var r="{",n=function(t,e){var r=t.directives;if(!r)return;var n,i,o,a,s="directives:[",c=!1;for(n=0,i=r.length;n<i;n++){o=r[n],a=!0;var u=e.directives[o.name];u&&(a=!!u(t,o,e.warn)),a&&(c=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(c)return s.slice(0,-1)+"]"}(t,e);n&&(r+=n+","),t.key&&(r+="key:"+t.key+","),t.ref&&(r+="ref:"+t.ref+","),t.refInFor&&(r+="refInFor:true,"),t.pre&&(r+="pre:true,"),t.component&&(r+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)r+=e.dataGenFns[i](t);if(t.attrs&&(r+="attrs:{"+xa(t.attrs)+"},"),t.props&&(r+="domProps:{"+xa(t.props)+"},"),t.events&&(r+=aa(t.events,!1,e.warn)+","),t.nativeEvents&&(r+=aa(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(r+="slot:"+t.slotTarget+","),t.scopedSlots&&(r+=function(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(r){return ga(r,t[r],e)}).join(",")+"])"}(t.scopedSlots,e)+","),t.model&&(r+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var r=t.children[0];0;if(1===r.type){var n=la(r,e.options);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(r+=o+",")}return r=r.replace(/,$/,"")+"}",t.wrapData&&(r=t.wrapData(r)),t.wrapListeners&&(r=t.wrapListeners(r)),r}function ga(t,e,r){return e.for&&!e.forProcessed?function(t,e,r){var n=e.for,i=e.alias,o=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+n+"),function("+i+o+a+"){return "+ga(t,e,r)+"})"}(t,e,r):"{key:"+t+",fn:"+("function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(ya(e,r)||"undefined")+":undefined":ya(e,r)||"undefined":fa(e,r))+"}")+"}"}function ya(t,e,r,n,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(n||fa)(a,e);var s=r?function(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(1===i.type){if(_a(i)||i.ifConditions&&i.ifConditions.some(function(t){return _a(t.block)})){r=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(r=1)}}return r}(o,e.maybeComponent):0,c=i||ba;return"["+o.map(function(t){return c(t,e)}).join(",")+"]"+(s?","+s:"")}}function _a(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function ba(t,e){return 1===t.type?fa(t,e):3===t.type&&t.isComment?(n=t,"_e("+JSON.stringify(n.text)+")"):"_v("+(2===(r=t).type?r.expression:wa(JSON.stringify(r.text)))+")";var r,n}function xa(t){for(var e="",r=0;r<t.length;r++){var n=t[r];e+='"'+n.name+'":'+wa(n.value)+","}return e.slice(0,-1)}function wa(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function Ta(t,e){try{return new Function(t)}catch(r){return e.push({err:r,code:t}),R}}var Sa,Ma,Ea=(Sa=function(t,e){var r=Vo(t.trim(),e);!1!==e.optimize&&Jo(r,e);var n=la(r,e);return{ast:r,render:n.render,staticRenderFns:n.staticRenderFns}},function(t){function e(e,r){var n=Object.create(t),i=[],o=[];if(n.warn=function(t,e){(e?o:i).push(t)},r)for(var a in r.modules&&(n.modules=(t.modules||[]).concat(r.modules)),r.directives&&(n.directives=P(Object.create(t.directives||null),r.directives)),r)"modules"!==a&&"directives"!==a&&(n[a]=r[a]);var s=Sa(e,n);return s.errors=i,s.tips=o,s}return{compile:e,compileToFunctions:function(t){var e=Object.create(null);return function(r,n,i){(n=P({},n)).warn,delete n.warn;var o=n.delimiters?String(n.delimiters)+r:r;if(e[o])return e[o];var a=t(r,n),s={},c=[];return s.render=Ta(a.render,c),s.staticRenderFns=a.staticRenderFns.map(function(t){return Ta(t,c)}),e[o]=s}}(e)}})(Qo).compileToFunctions;function Aa(t){return(Ma=Ma||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Ma.innerHTML.indexOf("&#10;")>0}var Ca=!!X&&Aa(!1),Pa=!!X&&Aa(!0),Oa=x(function(t){var e=Vr(t);return e&&e.innerHTML}),Ra=fr.prototype.$mount;fr.prototype.$mount=function(t,e){if((t=t&&Vr(t))===document.body||t===document.documentElement)return this;var r=this.$options;if(!r.render){var n=r.template;if(n)if("string"==typeof n)"#"===n.charAt(0)&&(n=Oa(n));else{if(!n.nodeType)return this;n=n.innerHTML}else t&&(n=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(n){0;var i=Ea(n,{shouldDecodeNewlines:Ca,shouldDecodeNewlinesForHref:Pa,delimiters:r.delimiters,comments:r.comments},this),o=i.render,a=i.staticRenderFns;r.render=o,r.staticRenderFns=a}}return Ra.call(this,t,e)},fr.compile=Ea,e.default=fr}.call(e,r(13),r(72).setImmediate)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},function(t,e,r){"use strict";e.c=function(t){void 0===t&&(t={});return function(e,r){Array.isArray(t)||void 0!==t.type||(t.type=Reflect.getMetadata("design:type",e,r)),Object(i.createDecorator)(function(e,r){(e.props||(e.props={}))[r]=t})(e,r)}},e.e=function(t,e){void 0===e&&(e={});var r=e.deep,n=void 0!==r&&r,o=e.immediate,a=void 0!==o&&o;return Object(i.createDecorator)(function(e,r){"object"!=typeof e.watch&&(e.watch=Object.create(null)),e.watch[t]={handler:r,deep:n,immediate:a}})},e.b=function(t){return function(e,r,n){r=c(r);var i=n.value;n.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!1!==i.apply(this,e)&&this.$emit.apply(this,[t||r].concat(e))}}};var n=r(1),i=r(26),o=r.n(i),a=r(27);r.n(a);r.d(e,"a",function(){return o.a}),r.d(e,"d",function(){return n.default});var s=/\B([A-Z])/g,c=function(t){return t.replace(s,"-$1").toLowerCase()}},function(t,e,r){"use strict";var n=r(74),i=r(19);r.d(e,"a",function(){return n.a}),r.d(e,"b",function(){return i.a})},function(t,e,r){"use strict";var n=r(46),i=r(119),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||a(t)||(t=[t]),a(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,i=arguments.length;n<i;n++)u(arguments[n],r);return e},extend:function(t,e,r){return u(e,function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===n.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=i},function(t,e,r){"use strict";(function(t,n){r.d(e,"f",function(){return o});
/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */
const i="undefined"!=typeof window?window:void 0!==t&&t.exports&&void 0!==n?n:this;e.e=i;const o=function(t,e){var r={},n=t.document,i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(i.TweenLite)return i.TweenLite;var o,a,s,c,u,h,l,f=function(t){var e,r=t.split("."),n=i;for(e=0;e<r.length;e++)n[r[e]]=n=n[r[e]]||{};return n},p=f("com.greensock"),d=function(t){var e,r=[],n=t.length;for(e=0;e!==n;r.push(t[e++]));return r},m=function(){},v=(h=Object.prototype.toString,l=h.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&h.call(t)===l)}),g={},y=function(t,e,n,o){this.sc=g[t]?g[t].sc:[],g[t]=this,this.gsClass=null,this.func=n;var a=[];this.check=function(s){for(var c,u,h,l,p=e.length,d=p;--p>-1;)(c=g[e[p]]||new y(e[p],[])).gsClass?(a[p]=c.gsClass,d--):s&&c.sc.push(this);if(0===d&&n)for(h=(u=("com.greensock."+t).split(".")).pop(),l=f(u.join("."))[h]=this.gsClass=n.apply(n,a),o&&(i[h]=r[h]=l),p=0;p<this.sc.length;p++)this.sc[p].check()},this.check(!0)},_=t._gsDefine=function(t,e,r,n){return new y(t,e,r,n)},b=p._class=function(t,e,r){return e=e||function(){},_(t,[],function(){return e},r),e};_.globals=i;var x=[0,0,1,1],w=b("easing.Ease",function(t,e,r,n){this._func=t,this._type=r||0,this._power=n||0,this._params=e?x.concat(e):x},!0),T=w.map={},S=w.register=function(t,e,r,n){for(var i,o,a,s,c=e.split(","),u=c.length,h=(r||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(o=c[u],i=n?b("easing."+o,null,!0):p.easing[o]||{},a=h.length;--a>-1;)s=h[a],T[o+"."+s]=T[s+o]=i[s]=t.getRatio?t:t[s]||new t};for((s=w.prototype)._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,r=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===r?n*=n:2===r?n*=n*n:3===r?n*=n*n*n:4===r&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},a=(o=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--a>-1;)s=o[a]+",Power"+a,S(new w(null,null,1,a),s,"easeOut",!0),S(new w(null,null,2,a),s,"easeIn"+(0===a?",easeNone":"")),S(new w(null,null,3,a),s,"easeInOut");T.linear=p.easing.Linear.easeIn,T.swing=p.easing.Quad.easeInOut;var M=b("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(s=M.prototype).addEventListener=function(t,e,r,n,i){i=i||0;var o,a,s=this._listeners[t],h=0;for(this!==c||u||c.wake(),null==s&&(this._listeners[t]=s=[]),a=s.length;--a>-1;)(o=s[a]).c===e&&o.s===r?s.splice(a,1):0===h&&o.pr<i&&(h=a+1);s.splice(h,0,{c:e,s:r,up:n,pr:i})},s.removeEventListener=function(t,e){var r,n=this._listeners[t];if(n)for(r=n.length;--r>-1;)if(n[r].c===e)return void n.splice(r,1)},s.dispatchEvent=function(t){var e,r,n,i=this._listeners[t];if(i)for((e=i.length)>1&&(i=i.slice(0)),r=this._eventTarget;--e>-1;)(n=i[e])&&(n.up?n.c.call(n.s||r,{type:t,target:r}):n.c.call(n.s||r))};var E=t.requestAnimationFrame,A=t.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},P=C();for(a=(o=["ms","moz","webkit","o"]).length;--a>-1&&!E;)E=t[o[a]+"RequestAnimationFrame"],A=t[o[a]+"CancelAnimationFrame"]||t[o[a]+"CancelRequestAnimationFrame"];b("Ticker",function(t,e){var r,i,o,a,s,h=this,l=C(),f=!(!1===e||!E)&&"auto",p=500,d=33,v=function(t){var e,n,c=C()-P;c>p&&(l+=c-d),P+=c,h.time=(P-l)/1e3,e=h.time-s,(!r||e>0||!0===t)&&(h.frame++,s+=e+(e>=a?.004:a-e),n=!0),!0!==t&&(o=i(v)),n&&h.dispatchEvent("tick")};M.call(h),h.time=h.frame=0,h.tick=function(){v(!0)},h.lagSmoothing=function(t,e){if(!arguments.length)return p<1e10;p=t||1e10,d=Math.min(e,p,0)},h.sleep=function(){null!=o&&(f&&A?A(o):clearTimeout(o),i=m,o=null,h===c&&(u=!1))},h.wake=function(t){null!==o?h.sleep():t?l+=-P+(P=C()):h.frame>10&&(P=C()-p+5),i=0===r?m:f&&E?E:function(t){return setTimeout(t,1e3*(s-h.time)+1|0)},h===c&&(u=!0),v(2)},h.fps=function(t){if(!arguments.length)return r;a=1/((r=t)||60),s=this.time+a,h.wake()},h.useRAF=function(t){if(!arguments.length)return f;h.sleep(),f=t,h.fps(r)},h.fps(t),setTimeout(function(){"auto"===f&&h.frame<5&&"hidden"!==(n||{}).visibilityState&&h.useRAF(!1)},1500)}),(s=p.Ticker.prototype=new p.events.EventDispatcher).constructor=p.Ticker;var O=b("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Y){u||c.wake();var r=this.vars.useFrames?q:Y;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});c=O.ticker=new p.Ticker,(s=O.prototype)._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var R=function(){u&&C()-P>2e3&&("hidden"!==(n||{}).visibilityState||!c.lagSmoothing())&&c.wake();var t=setTimeout(R,2e3);t.unref&&t.unref()};R(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(t,e,r){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},s.isActive=function(){var t,e=this._timeline,r=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<r+this.totalDuration()/this._timeScale-1e-7},s._enabled=function(t,e){return u||c.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(t,e){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,r=t.concat();--e>-1;)"{self}"===t[e]&&(r[e]=this);return r},s._callback=function(t){var e=this.vars,r=e[t],n=e[t+"Params"],i=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:r.call(i);break;case 1:r.call(i,n[0]);break;case 2:r.call(i,n[0],n[1]);break;default:r.apply(i,n)}},s.eventCallback=function(t,e,r,n){if("on"===(t||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[t];null==e?delete i[t]:(i[t]=e,i[t+"Params"]=v(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,i[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,r){if(u||c.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!r&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,i=this._timeline;if(t>n&&!r&&(t=n),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?n-t:t)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(I.length&&Q(),this.render(t,e,!1),I.length&&Q())}return this},s.progress=s.totalProgress=function(t,e){var r=this.duration();return arguments.length?this.totalTime(r*t,e):r?this._time/r:this.ratio},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,r;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(r=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=r-(r-this._startTime)*this._timeScale/t),this._timeScale=t,r=this.timeline;r&&r.timeline;)r._dirty=!0,r.totalDuration(),r=r.timeline;return this},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;var e,r,n=this._timeline;return t!=this._paused&&n&&(u||t||c.wake(),r=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==r&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var L=b("core.SimpleTimeline",function(t){O.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(s=L.prototype=new O).constructor=L,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(t,e,r,n){var i,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(o=t._startTime;i&&i._startTime>o;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(t,e,r){var n,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;i;)n=i._next,(i._active||t>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=n},s.rawTime=function(){return u||c.wake(),this._totalTime};var k=b("TweenLite",function(e,r,n){if(O.call(this,r,n),this.render=k.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:k.selector(e)||e;var i,o,a,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),c=this.vars.overwrite;if(this._overwrite=c=null==c?$[k.defaultOverwrite]:"number"==typeof c?c>>0:$[c],(s||e instanceof Array||e.push&&v(e))&&"number"!=typeof e[0])for(this._targets=a=d(e),this._propLookup=[],this._siblings=[],i=0;i<a.length;i++)(o=a[i])?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(i--,1),this._targets=a=a.concat(d(o))):(this._siblings[i]=Z(o,this,!1),1===c&&this._siblings[i].length>1&&tt(o,this,null,1,this._siblings[i])):"string"==typeof(o=a[i--]=k.selector(o))&&a.splice(i+1,1):a.splice(i--,1);else this._propLookup={},this._siblings=Z(e,this,!1),1===c&&this._siblings.length>1&&tt(e,this,null,1,this._siblings);(this.vars.immediateRender||0===r&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),D=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)};(s=k.prototype=new O).constructor=k,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,k.version="1.20.5",k.defaultEase=s._ease=new w(null,null,1,1),k.defaultOverwrite="auto",k.ticker=c,k.autoSleep=120,k.lagSmoothing=function(t,e){c.lagSmoothing(t,e)},k.selector=t.$||t.jQuery||function(e){var r=t.$||t.jQuery;return r?(k.selector=r,r(e)):(n||(n=t.document),n?n.querySelectorAll?n.querySelectorAll(e):n.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var I=[],N={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,U=function(t){for(var e,r=this._firstPT;r;)e=r.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:r.c*t+r.s,r.m?e=r.m.call(this._tween,e,this._target||r.t,this._tween):e<1e-6&&e>-1e-6&&!r.blob&&(e=0),r.f?r.fp?r.t[r.p](r.fp,e):r.t[r.p](e):r.t[r.p]=e,r=r._next},V=function(t,e,r,n){var i,o,a,s,c,u,h,l=[],f=0,p="",d=0;for(l.start=t,l.end=e,t=l[0]=t+"",e=l[1]=e+"",r&&(r(l),t=l[0],e=l[1]),l.length=0,i=t.match(F)||[],o=e.match(F)||[],n&&(n._next=null,n.blob=1,l._firstPT=l._applyPT=n),c=o.length,s=0;s<c;s++)h=o[s],p+=(u=e.substr(f,e.indexOf(h,f)-f))||!s?u:",",f+=u.length,d?d=(d+1)%5:"rgba("===u.substr(-5)&&(d=1),h===i[s]||i.length<=s?p+=h:(p&&(l.push(p),p=""),a=parseFloat(i[s]),l.push(a),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:a,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-a)||0,f:0,m:d&&d<4?Math.round:0}),f+=h.length;return(p+=e.substr(f))&&l.push(p),l.setRatio=U,B.test(e)&&(l.end=null),l},j=function(t,e,r,n,i,o,a,s,c){"function"==typeof n&&(n=n(c||0,t));var u=typeof t[e],h="function"!==u?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),l="get"!==r?r:h?a?t[h](a):t[h]():t[e],f="string"==typeof n&&"="===n.charAt(1),p={t:t,p:e,s:l,f:"function"===u,pg:0,n:i||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:f?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-l||0};if(("number"!=typeof l||"number"!=typeof n&&!f)&&(a||isNaN(l)||!f&&isNaN(n)||"boolean"==typeof l||"boolean"==typeof n?(p.fp=a,p={t:V(l,f?parseFloat(p.s)+p.c+(p.s+"").replace(/[0-9\-\.]/g,""):n,s||k.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||e,pr:0,m:0}):(p.s=parseFloat(l),f||(p.c=parseFloat(n)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},G=k._internals={isArray:v,isSelector:D,lazyTweens:I,blobDif:V},z=k._plugins={},H=G.tweenLookup={},W=0,X=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},$={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},q=O._rootFramesTimeline=new L,Y=O._rootTimeline=new L,K=30,Q=G.lazyRender=function(){var t,e=I.length;for(N={};--e>-1;)(t=I[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);I.length=0};Y._startTime=c.time,q._startTime=c.frame,Y._active=q._active=!0,setTimeout(Q,1),O._updateRoot=k.render=function(){var t,e,r;if(I.length&&Q(),Y.render((c.time-Y._startTime)*Y._timeScale,!1,!1),q.render((c.frame-q._startTime)*q._timeScale,!1,!1),I.length&&Q(),c.frame>=K){for(r in K=c.frame+(parseInt(k.autoSleep,10)||120),H){for(t=(e=H[r].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete H[r]}if((!(r=Y._first)||r._paused)&&k.autoSleep&&!q._first&&1===c._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||c.sleep()}}},c.addEventListener("tick",O._updateRoot);var Z=function(t,e,r){var n,i,o=t._gsTweenID;if(H[o||(t._gsTweenID=o="t"+W++)]||(H[o]={target:t,tweens:[]}),e&&((n=H[o].tweens)[i=n.length]=e,r))for(;--i>-1;)n[i]===e&&n.splice(i,1);return H[o].tweens},J=function(t,e,r,n){var i,o,a=t.vars.onOverwrite;return a&&(i=a(t,e,r,n)),(a=k.onOverwrite)&&(o=a(t,e,r,n)),!1!==i&&!1!==o},tt=function(t,e,r,n,i){var o,a,s,c;if(1===n||n>=4){for(c=i.length,o=0;o<c;o++)if((s=i[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var u,h=e._startTime+1e-10,l=[],f=0,p=0===e._duration;for(o=i.length;--o>-1;)(s=i[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(u=u||et(e,0,p),0===et(s,u,p)&&(l[f++]=s)):s._startTime<=h&&s._startTime+s.totalDuration()/s._timeScale>h&&((p||!s._initted)&&h-s._startTime<=2e-10||(l[f++]=s)));for(o=f;--o>-1;)if(s=l[o],2===n&&s._kill(r,t,e)&&(a=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!J(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},et=function(t,e,r){for(var n=t._timeline,i=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,i*=n._timeScale,n._paused)return-100;n=n._timeline}return(o/=i)>e?o-e:r&&o===e||!t._initted&&o-e<2e-10?1e-10:(o+=t.totalDuration()/t._timeScale/i)>e+1e-10?0:o-e-1e-10};s._init=function(){var t,e,r,n,i,o,a=this.vars,s=this._overwrittenProps,c=this._duration,u=!!a.immediateRender,h=a.ease;if(a.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={},a.startAt)i[n]=a.startAt[n];if(i.data="isStart",i.overwrite=!1,i.immediateRender=!0,i.lazy=u&&!1!==a.lazy,i.startAt=i.delay=null,i.onUpdate=a.onUpdate,i.onUpdateParams=a.onUpdateParams,i.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=k.to(this.target||{},0,i),u)if(this._time>0)this._startAt=null;else if(0!==c)return}else if(a.runBackwards&&0!==c)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(u=!1),r={},a)X[n]&&"autoCSS"!==n||(r[n]=a[n]);if(r.overwrite=0,r.data="isFromStart",r.lazy=u&&!1!==a.lazy,r.immediateRender=u,this._startAt=k.to(this.target,0,r),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof w?h:"function"==typeof h?new w(h,a.easeParams):T[h]||k.defaultEase:k.defaultEase,a.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&k._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=a.onUpdate,this._initted=!0},s._initProps=function(e,r,n,i,o){var a,s,c,u,h,l;if(null==e)return!1;for(a in N[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==t&&e.nodeType&&z.css&&!1!==this.vars.autoCSS&&function(t,e){var r,n={};for(r in t)X[r]||r in e&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!z[r]||z[r]&&z[r]._autoCSS)||(n[r]=t[r],delete t[r]);t.css=n}(this.vars,e),this.vars)if(l=this.vars[a],X[a])l&&(l instanceof Array||l.push&&v(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[a]=l=this._swapSelfInParams(l,this));else if(z[a]&&(u=new z[a])._onInitTween(e,this.vars[a],this,o)){for(this._firstPT=h={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:u._priority,m:0},s=u._overwriteProps.length;--s>-1;)r[u._overwriteProps[s]]=this._firstPT;(u._priority||u._onInitAllProps)&&(c=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else r[a]=j.call(this,e,a,"get",l,a,0,null,this.vars.stringFilter,o);return i&&this._kill(i,e)?this._initProps(e,r,n,i,o):this._overwrite>1&&this._firstPT&&n.length>1&&tt(e,this,r,this._overwrite,n)?(this._kill(r,e),this._initProps(e,r,n,i,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(N[e._gsTweenID]=!0),c)},s.render=function(t,e,r){var n,i,o,a,s=this._time,c=this._duration,u=this._rawPrevTime;if(t>=c-1e-7&&t>=0)this._totalTime=this._time=c,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,i="onComplete",r=r||this._timeline.autoRemoveChildren),0===c&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(u<0||t<=0&&t>=-1e-7||1e-10===u&&"isPause"!==this.data)&&u!==t&&(r=!0,u>1e-10&&(i="onReverseComplete")),this._rawPrevTime=a=!e||t||u===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===c&&u>0)&&(i="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===c&&(this._initted||!this.vars.lazy||r)&&(u>=0&&(1e-10!==u||"isPause"!==this.data)&&(r=!0),this._rawPrevTime=a=!e||t||u===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(r=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/c,l=this._easeType,f=this._easePower;(1===l||3===l&&h>=.5)&&(h=1-h),3===l&&(h*=2),1===f?h*=h:2===f?h*=h*h:3===f?h*=h*h*h:4===f&&(h*=h*h*h*h),this.ratio=1===l?1-h:2===l?h:t/c<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/c);if(this._time!==s||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=u,I.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/c):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,!0,r):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==c||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,r),e||(this._time!==s||n||r)&&this._callback("onUpdate")),i&&(this._gc&&!r||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,r),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this._callback(i),0===c&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},s._kill=function(t,e,r){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:k.selector(e)||e;var n,i,o,a,s,c,u,h,l,f=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline;if((v(e)||D(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],r)&&(c=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(u=t||s,h=t!==i&&"all"!==i&&t!==s&&("object"!=typeof t||!t._tempKill),r&&(k.onOverwrite||this.vars.onOverwrite)){for(o in u)s[o]&&(l||(l=[]),l.push(o));if((l||!t)&&!J(this,r,e,l))return!1}for(o in u)(a=s[o])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,c=!0),a.pg&&a.t._kill(u)&&(c=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),h&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return c},s.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},s._enabled=function(t,e){if(u||c.wake(),t&&this._gc){var r,n=this._targets;if(n)for(r=n.length;--r>-1;)this._siblings[r]=Z(n[r],this,!0);else this._siblings=Z(this.target,this,!0)}return O.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&k._onPluginEvent(t?"_onEnable":"_onDisable",this)},k.to=function(t,e,r){return new k(t,e,r)},k.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new k(t,e,r)},k.fromTo=function(t,e,r,n){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,new k(t,e,n)},k.delayedCall=function(t,e,r,n,i){return new k(e,0,{delay:t,onComplete:e,onCompleteParams:r,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},k.set=function(t,e){return new k(t,0,e)},k.getTweensOf=function(t,e){if(null==t)return[];var r,n,i,o;if(t="string"!=typeof t?t:k.selector(t)||t,(v(t)||D(t))&&"number"!=typeof t[0]){for(r=t.length,n=[];--r>-1;)n=n.concat(k.getTweensOf(t[r],e));for(r=n.length;--r>-1;)for(o=n[r],i=r;--i>-1;)o===n[i]&&n.splice(r,1)}else if(t._gsTweenID)for(r=(n=Z(t).concat()).length;--r>-1;)(n[r]._gc||e&&!n[r].isActive())&&n.splice(r,1);return n||[]},k.killTweensOf=k.killDelayedCallsTo=function(t,e,r){"object"==typeof e&&(r=e,e=!1);for(var n=k.getTweensOf(t,e),i=n.length;--i>-1;)n[i]._kill(r,t)};var rt=b("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=rt.prototype},!0);if(s=rt.prototype,rt.version="1.19.0",rt.API=2,s._firstPT=null,s._addTween=j,s.setRatio=U,s._kill=function(t){var e,r=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=r.length;--e>-1;)null!=t[r[e]]&&r.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._mod=s._roundProps=function(t){for(var e,r=this._firstPT;r;)(e=t[this._propName]||null!=r.n&&t[r.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===r.f?r.t._applyPT.m=e:r.m=e),r=r._next},k._onPluginEvent=function(t,e){var r,n,i,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,n=i;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:o)?s._prev._next=s:i=s,(s._next=n)?n._prev=s:o=s,s=a}s=e._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(r=!0),s=s._next;return r},rt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===rt.API&&(z[(new t[e])._propName]=t[e]);return!0},_.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,r=t.propName,n=t.priority||0,i=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=b("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){rt.call(this,r,n),this._overwriteProps=i||[]},!0===t.global),s=a.prototype=new rt(r);for(e in s.constructor=a,a.API=t.API,o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,rt.activate([a]),a},o=t._gsQueue){for(a=0;a<o.length;a++)o[a]();for(s in g)g[s].func||t.console.log("GSAP encountered missing dependency: "+s)}return u=!1,k}(i),a=i.com.greensock,s=a.core.SimpleTimeline;e.c=s;const c=a.core.Animation;e.a=c;const{Ease:u,Linear:h,Power0:l,Power1:f,Power2:p,Power3:d,Power4:m,TweenPlugin:v}=i;e.b=u,e.d=v;a.events.EventDispatcher}).call(e,r(160)(t),r(13))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(0);function o(t,e,r,i,o){var a={},s="number"==typeof o,c=void 0!==o&&s?o.toString():r;if(s&&void 0!==r)throw new Error(n.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var u=a[c];if(Array.isArray(u))for(var h=0,l=u;h<l.length;h++){var f=l[h];if(f.key===i.key)throw new Error(n.DUPLICATED_METADATA+" "+f.key)}else u=[];u.push(i),a[c]=u,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}e.tagParameter=function(t,e,r,n){o(i.TAGGED,t,e,n,r)},e.tagProperty=function(t,e,r){o(i.TAGGED_PROP,t.constructor,e,r)},e.decorate=function(t,e,r){"number"==typeof r?a([function(t,e){return function(r,n){e(r,n,t)}}(r,t)],e):"string"==typeof r?Reflect.decorate([t],e,r):a([t],e)}},function(t,e,r){var n,i,o,a,s,c,u,h,l,f,p,d,m,v,g,y,_,b,x,w,T,S,M,E,A,C,P,O,R,L,k,D,I,N,F,B,U,V,j,G,z,H,W,X,$,q,Y=Y||{},K={REVISION:"73"};void 0===(i="function"==typeof(n=K)?n.call(e,r,e,t):n)||(t.exports=i),void 0!==Y.requestAnimationFrame&&void 0!==Y.cancelAnimationFrame||function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!Y.requestAnimationFrame;++r)Y.requestAnimationFrame=Y[e[r]+"RequestAnimationFrame"],Y.cancelAnimationFrame=Y[e[r]+"CancelAnimationFrame"]||Y[e[r]+"CancelRequestAnimationFrame"];void 0===Y.requestAnimationFrame&&void 0!==Y.setTimeout&&(Y.requestAnimationFrame=function(e){var r=Date.now(),n=Math.max(0,16-(r-t)),i=Y.setTimeout(function(){e(r+n)},n);return t=r+n,i}),void 0===Y.cancelAnimationFrame&&void 0!==Y.clearTimeout&&(Y.cancelAnimationFrame=function(t){Y.clearTimeout(t)})}(),void 0===Y.performance&&(Y.performance={}),void 0===Y.performance.now&&(o=Date.now(),Y.performance.now=function(){return Date.now()-o}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),K.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},K.CullFaceNone=0,K.CullFaceBack=1,K.CullFaceFront=2,K.CullFaceFrontBack=3,K.FrontFaceDirectionCW=0,K.FrontFaceDirectionCCW=1,K.BasicShadowMap=0,K.PCFShadowMap=1,K.PCFSoftShadowMap=2,K.FrontSide=0,K.BackSide=1,K.DoubleSide=2,K.FlatShading=1,K.SmoothShading=2,K.NoColors=0,K.FaceColors=1,K.VertexColors=2,K.NoBlending=0,K.NormalBlending=1,K.AdditiveBlending=2,K.SubtractiveBlending=3,K.MultiplyBlending=4,K.CustomBlending=5,K.AddEquation=100,K.SubtractEquation=101,K.ReverseSubtractEquation=102,K.MinEquation=103,K.MaxEquation=104,K.ZeroFactor=200,K.OneFactor=201,K.SrcColorFactor=202,K.OneMinusSrcColorFactor=203,K.SrcAlphaFactor=204,K.OneMinusSrcAlphaFactor=205,K.DstAlphaFactor=206,K.OneMinusDstAlphaFactor=207,K.DstColorFactor=208,K.OneMinusDstColorFactor=209,K.SrcAlphaSaturateFactor=210,K.NeverDepth=0,K.AlwaysDepth=1,K.LessDepth=2,K.LessEqualDepth=3,K.EqualDepth=4,K.GreaterEqualDepth=5,K.GreaterDepth=6,K.NotEqualDepth=7,K.MultiplyOperation=0,K.MixOperation=1,K.AddOperation=2,K.UVMapping=300,K.CubeReflectionMapping=301,K.CubeRefractionMapping=302,K.EquirectangularReflectionMapping=303,K.EquirectangularRefractionMapping=304,K.SphericalReflectionMapping=305,K.RepeatWrapping=1e3,K.ClampToEdgeWrapping=1001,K.MirroredRepeatWrapping=1002,K.NearestFilter=1003,K.NearestMipMapNearestFilter=1004,K.NearestMipMapLinearFilter=1005,K.LinearFilter=1006,K.LinearMipMapNearestFilter=1007,K.LinearMipMapLinearFilter=1008,K.UnsignedByteType=1009,K.ByteType=1010,K.ShortType=1011,K.UnsignedShortType=1012,K.IntType=1013,K.UnsignedIntType=1014,K.FloatType=1015,K.HalfFloatType=1025,K.UnsignedShort4444Type=1016,K.UnsignedShort5551Type=1017,K.UnsignedShort565Type=1018,K.AlphaFormat=1019,K.RGBFormat=1020,K.RGBAFormat=1021,K.LuminanceFormat=1022,K.LuminanceAlphaFormat=1023,K.RGBEFormat=K.RGBAFormat,K.RGB_S3TC_DXT1_Format=2001,K.RGBA_S3TC_DXT1_Format=2002,K.RGBA_S3TC_DXT3_Format=2003,K.RGBA_S3TC_DXT5_Format=2004,K.RGB_PVRTC_4BPPV1_Format=2100,K.RGB_PVRTC_2BPPV1_Format=2101,K.RGBA_PVRTC_4BPPV1_Format=2102,K.RGBA_PVRTC_2BPPV1_Format=2103,K.LoopOnce=2200,K.LoopRepeat=2201,K.LoopPingPong=2202,K.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(t,e){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},K.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},K.Color=function(t){return 3===arguments.length?this.fromArray(arguments):this.set(t)},K.Color.prototype={constructor:K.Color,r:1,g:1,b:1,set:function(t){return t instanceof K.Color?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,r){return this.r=t,this.g=e,this.b=r,this},setHSL:function(){function t(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}return function(e,r,n){if(e=K.Math.euclideanModulo(e,1),r=K.Math.clamp(r,0,1),n=K.Math.clamp(n,0,1),0===r)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+r):n+r-n*r,o=2*n-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(a,s,c)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u,h=(u=r[1]).length;if(3===h)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(u=K.ColorKeywords[t])?this.setHex(u):console.warn("THREE.Color: Unknown color "+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},convertGammaToLinear:function(){var t=this.r,e=this.g,r=this.b;return this.r=t*t,this.g=e*e,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,r,n=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),c=Math.min(i,o,a),u=(c+s)/2;if(c===s)e=0,r=0;else{var h=s-c;switch(r=u<=.5?h/(s+c):h/(2-s-c),s){case i:e=(o-a)/h+(o<a?6:0);break;case o:e=(a-i)/h+2;break;case a:e=(i-o)/h+4}e/=6}return n.h=e,n.s=r,n.l=u,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,r){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=r,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},K.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},K.Quaternion=function(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1},K.Quaternion.prototype={constructor:K.Quaternion,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(t instanceof K.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=Math.cos(t._x/2),n=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),c=t.order;return"XYZ"===c?(this._x=o*n*i+r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i-o*a*s):"YXZ"===c?(this._x=o*n*i+r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i+o*a*s):"ZXY"===c?(this._x=o*n*i-r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i-o*a*s):"ZYX"===c?(this._x=o*n*i-r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i+o*a*s):"YZX"===c?(this._x=o*n*i+r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i-o*a*s):"XZY"===c&&(this._x=o*n*i-r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,r=t.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],c=r[9],u=r[2],h=r[6],l=r[10],f=n+s+l;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(h-c)*e,this._y=(o-u)*e,this._z=(a-i)*e):n>s&&n>l?(e=2*Math.sqrt(1+n-s-l),this._w=(h-c)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+u)/e):s>l?(e=2*Math.sqrt(1+s-n-l),this._w=(o-u)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(c+h)/e):(e=2*Math.sqrt(1+l-n-s),this._w=(a-i)/e,this._x=(o+u)/e,this._y=(c+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){return void 0===a&&(a=new K.Vector3),(s=t.dot(e)+1)<1e-6?(s=0,Math.abs(t.x)>Math.abs(t.z)?a.set(-t.y,t.x,0):a.set(0,-t.z,t.y)):a.crossVectors(t,e),this._x=a.x,this._y=a.y,this._z=a.z,this._w=s,this.normalize(),this},inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,u=e._w;return this._x=r*u+o*a+n*c-i*s,this._y=n*u+o*s+i*a-r*c,this._z=i*u+o*c+r*s-n*a,this._w=o*u-r*a-n*s-i*c,this.onChangeCallback(),this},multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=Math.acos(a),c=Math.sqrt(1-a*a);if(Math.abs(c)<.001)return this._w=.5*(o+this._w),this._x=.5*(r+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var u=Math.sin((1-e)*s)/c,h=Math.sin(e*s)/c;return this._w=o*u+this._w*h,this._x=r*u+this._x*h,this._y=n*u+this._y*h,this._z=i*u+this._z*h,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},K.Quaternion.slerp=function(t,e,r,n){return r.copy(t).slerp(e,n)},K.Vector2=function(t,e){this.x=t||0,this.y=e||0},K.Vector2.prototype={constructor:K.Vector2,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return void 0===c&&(c=new K.Vector2,u=new K.Vector2),c.set(t,t),u.set(e,e),this.clamp(c,u)},clampLength:function(t,e){var r=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,r))/r),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t),this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,r){return void 0===r&&(r=0),e=e*t.itemSize+r,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*n+t.x,this.y=i*n+o*r+t.y,this}},K.Vector3=function(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0},K.Vector3.prototype={constructor:K.Vector3,set:function(t,e,r){return this.x=t,this.y=e,this.z=r,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return t instanceof K.Euler==0&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===l&&(l=new K.Quaternion),this.applyQuaternion(l.setFromEuler(t)),this},applyAxisAngle:function(){var t;return function(e,r){return void 0===t&&(t=new K.Quaternion),this.applyQuaternion(t.setFromAxisAngle(e,r)),this}}(),applyMatrix3:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n+i[12],this.y=i[1]*e+i[5]*r+i[9]*n+i[13],this.z=i[2]*e+i[6]*r+i[10]*n+i[14],this},applyProjection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(t){var e=this.x,r=this.y,n=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*n-a*r,u=s*r+a*e-i*n,h=s*n+i*r-o*e,l=-i*e-o*r-a*n;return this.x=c*s+l*-i+u*-a-h*-o,this.y=u*s+l*-o+h*-i-c*-a,this.z=h*s+l*-a+c*-o-u*-i,this},project:function(t){return void 0===h&&(h=new K.Matrix4),h.multiplyMatrices(t.projectionMatrix,h.getInverse(t.matrixWorld)),this.applyProjection(h)},unproject:function(){var t;return function(e){return void 0===t&&(t=new K.Matrix4),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new K.Vector3,e=new K.Vector3),t.set(r,r,r),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,r))/r),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t),this},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var r=this.x,n=this.y,i=this.z;return this.x=n*t.z-i*t.y,this.y=i*t.x-r*t.z,this.z=r*t.y-n*t.x,this},crossVectors:function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(){var t,e;return function(r){return void 0===t&&(t=new K.Vector3),t.copy(r).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new K.Vector3),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new K.Vector3),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/(this.length()*t.length());return Math.acos(K.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},setEulerFromRotationMatrix:function(t,e){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(t,e){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),r=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),n=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=r,this.z=n,this},setFromMatrixColumn:function(t,e){var r=4*t,n=e.elements;return this.x=n[r],this.y=n[r+1],this.z=n[r+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,r){return void 0===r&&(r=0),e=e*t.itemSize+r,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},K.Vector4=function(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=void 0!==n?n:1},K.Vector4.prototype={constructor:K.Vector4,set:function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*e+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*e+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*e+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,r,n,i,o=t.elements,a=o[0],s=o[4],c=o[8],u=o[1],h=o[5],l=o[9],f=o[2],p=o[6],d=o[10];if(Math.abs(s-u)<.01&&Math.abs(c-f)<.01&&Math.abs(l-p)<.01){if(Math.abs(s+u)<.1&&Math.abs(c+f)<.1&&Math.abs(l+p)<.1&&Math.abs(a+h+d-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,v=(h+1)/2,g=(d+1)/2,y=(s+u)/4,_=(c+f)/4,b=(l+p)/4;return m>v&&m>g?m<.01?(r=0,n=.707106781,i=.707106781):(n=y/(r=Math.sqrt(m)),i=_/r):v>g?v<.01?(r=.707106781,n=0,i=.707106781):(r=y/(n=Math.sqrt(v)),i=b/n):g<.01?(r=.707106781,n=.707106781,i=0):(r=_/(i=Math.sqrt(g)),n=b/i),this.set(r,n,i,e),this}var x=Math.sqrt((p-l)*(p-l)+(c-f)*(c-f)+(u-s)*(u-s));return Math.abs(x)<.001&&(x=1),this.x=(p-l)/x,this.y=(c-f)/x,this.z=(u-s)/x,this.w=Math.acos((a+h+d-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new K.Vector4,e=new K.Vector4),t.set(r,r,r,r),e.set(n,n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t),this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,r){return void 0===r&&(r=0),e=e*t.itemSize+r,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},K.Euler=function(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._order=n||K.Euler.DefaultOrder},K.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],K.Euler.DefaultOrder="XYZ",K.Euler.prototype={constructor:K.Euler,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,r){var n=K.Math.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],u=i[5],h=i[9],l=i[2],f=i[6],p=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-l,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-l,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-l,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-h,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==r&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,r,n){return void 0===t&&(t=new K.Matrix4),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,r,n),this}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(f=new K.Quaternion,function(t){f.setFromEuler(this),this.setFromQuaternion(f,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new K.Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},K.Line3=function(t,e){this.start=void 0!==t?t:new K.Vector3,this.end=void 0!==e?e:new K.Vector3},K.Line3.prototype={constructor:K.Line3,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},center:function(t){return(t||new K.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new K.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var r=e||new K.Vector3;return this.delta(r).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(p=new K.Vector3,d=new K.Vector3,function(t,e){p.subVectors(t,this.start),d.subVectors(this.end,this.start);var r=d.dot(d),n=d.dot(p)/r;return e&&(n=K.Math.clamp(n,0,1)),n}),closestPointToPoint:function(t,e,r){var n=this.closestPointToPointParameter(t,e),i=r||new K.Vector3;return this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},K.Box2=function(t,e){this.min=void 0!==t?t:new K.Vector2(1/0,1/0),this.max=void 0!==e?e:new K.Vector2(-1/0,-1/0)},K.Box2.prototype={constructor:K.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new K.Vector2;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(t){return(t||new K.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new K.Vector2).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new K.Vector2).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new K.Vector2).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new K.Vector2;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},K.Box3=function(t,e){this.min=void 0!==t?t:new K.Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new K.Vector3(-1/0,-1/0,-1/0)},K.Box3.prototype={constructor:K.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new K.Vector3;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(){var t=new K.Vector3;return function(e){var r=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){var n=e.geometry;if(void 0!==n)if(n instanceof K.Geometry)for(var i=n.vertices,o=0,a=i.length;o<a;o++)t.copy(i[o]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t);else if(n instanceof K.BufferGeometry&&void 0!==n.attributes.position){var s=n.attributes.position.array;for(o=0,a=s.length;o<a;o+=3)t.set(s[o],s[o+1],s[o+2]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t)}}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){return(t||new K.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new K.Vector3).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new K.Vector3).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},clampPoint:function(t,e){return(e||new K.Vector3).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new K.Vector3;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new K.Vector3;return function(e){var r=e||new K.Sphere;return r.center=this.center(),r.radius=.5*this.size(t).length(),r}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(m=[new K.Vector3,new K.Vector3,new K.Vector3,new K.Vector3,new K.Vector3,new K.Vector3,new K.Vector3,new K.Vector3],function(t){return m[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),m[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),m[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),m[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),m[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),m[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),m[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),m[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(m),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},K.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},K.Matrix3.prototype={constructor:K.Matrix3,set:function(t,e,r,n,i,o,a,s,c){var u=this.elements;return u[0]=t,u[3]=e,u[6]=r,u[1]=n,u[4]=i,u[7]=o,u[2]=a,u[5]=s,u[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t;return function(e,r,n){void 0===t&&(t=new K.Vector3),void 0===r&&(r=0),void 0===n&&(n=e.length);for(var i=0,o=r;i<n;i+=3,o+=3)t.fromArray(e,o),t.applyMatrix3(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,r,n){void 0===t&&(t=new K.Vector3),void 0===r&&(r=0),void 0===n&&(n=e.length/e.itemSize);for(var i=0,o=r;i<n;i++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix3(this),e.setXYZ(t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],u=t[8];return e*o*u-e*a*c-r*i*u+r*a*s+n*i*c-n*o*s},getInverse:function(t,e){var r=t.elements,n=this.elements;n[0]=r[10]*r[5]-r[6]*r[9],n[1]=-r[10]*r[1]+r[2]*r[9],n[2]=r[6]*r[1]-r[2]*r[5],n[3]=-r[10]*r[4]+r[6]*r[8],n[4]=r[10]*r[0]-r[2]*r[8],n[5]=-r[6]*r[0]+r[2]*r[4],n[6]=r[9]*r[4]-r[5]*r[8],n[7]=-r[9]*r[0]+r[1]*r[8],n[8]=r[5]*r[0]-r[1]*r[4];var i=r[0]*n[0]+r[1]*n[3]+r[2]*n[6];if(0===i){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/i),this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t},getNormalMatrix:function(t){return this.getInverse(t).transpose(),this},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}},K.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},K.Matrix4.prototype={constructor:K.Matrix4,set:function(t,e,r,n,i,o,a,s,c,u,h,l,f,p,d,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=r,v[12]=n,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=c,v[6]=u,v[10]=h,v[14]=l,v[3]=f,v[7]=p,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new K.Matrix4).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},copyPosition:function(t){var e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this},extractBasis:function(t,e,r){var n=this.elements;return t.set(n[0],n[1],n[2]),e.set(n[4],n[5],n[6]),r.set(n[8],n[9],n[10]),this},makeBasis:function(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new K.Vector3);var r=this.elements,n=e.elements,i=1/t.set(n[0],n[1],n[2]).length(),o=1/t.set(n[4],n[5],n[6]).length(),a=1/t.set(n[8],n[9],n[10]).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,this}}(),makeRotationFromEuler:function(t){t instanceof K.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,r=t.x,n=t.y,i=t.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),c=Math.sin(n),u=Math.cos(i),h=Math.sin(i);if("XYZ"===t.order){var l=o*u,f=o*h,p=a*u,d=a*h;e[0]=s*u,e[4]=-s*h,e[8]=c,e[1]=f+p*c,e[5]=l-d*c,e[9]=-a*s,e[2]=d-l*c,e[6]=p+f*c,e[10]=o*s}else if("YXZ"===t.order){var m=s*u,v=s*h,g=c*u,y=c*h;e[0]=m+y*a,e[4]=g*a-v,e[8]=o*c,e[1]=o*h,e[5]=o*u,e[9]=-a,e[2]=v*a-g,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){m=s*u,v=s*h,g=c*u,y=c*h;e[0]=m-y*a,e[4]=-o*h,e[8]=g+v*a,e[1]=v+g*a,e[5]=o*u,e[9]=y-m*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){l=o*u,f=o*h,p=a*u,d=a*h;e[0]=s*u,e[4]=p*c-f,e[8]=l*c+d,e[1]=s*h,e[5]=d*c+l,e[9]=f*c-p,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var _=o*s,b=o*c,x=a*s,w=a*c;e[0]=s*u,e[4]=w-_*h,e[8]=x*h+b,e[1]=h,e[5]=o*u,e[9]=-a*u,e[2]=-c*u,e[6]=b*h+x,e[10]=_-w*h}else if("XZY"===t.order){_=o*s,b=o*c,x=a*s,w=a*c;e[0]=s*u,e[4]=-h,e[8]=c*u,e[1]=_*h+w,e[5]=o*u,e[9]=b*h-x,e[2]=x*h-b,e[6]=a*u,e[10]=w*h+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},makeRotationFromQuaternion:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z,o=t.w,a=r+r,s=n+n,c=i+i,u=r*a,h=r*s,l=r*c,f=n*s,p=n*c,d=i*c,m=o*a,v=o*s,g=o*c;return e[0]=1-(f+d),e[4]=h-g,e[8]=l+v,e[1]=h+g,e[5]=1-(u+d),e[9]=p-m,e[2]=l-v,e[6]=p+m,e[10]=1-(u+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(t,e,r){void 0===v&&(v=new K.Vector3),void 0===g&&(g=new K.Vector3),void 0===y&&(y=new K.Vector3);var n=this.elements;return y.subVectors(t,e).normalize(),0===y.lengthSq()&&(y.z=1),v.crossVectors(r,y).normalize(),0===v.lengthSq()&&(y.x+=1e-4,v.crossVectors(r,y).normalize()),g.crossVectors(y,v),n[0]=v.x,n[4]=g.x,n[8]=y.x,n[1]=v.y,n[5]=g.y,n[9]=y.y,n[2]=v.z,n[6]=g.z,n[10]=y.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],u=r[1],h=r[5],l=r[9],f=r[13],p=r[2],d=r[6],m=r[10],v=r[14],g=r[3],y=r[7],_=r[11],b=r[15],x=n[0],w=n[4],T=n[8],S=n[12],M=n[1],E=n[5],A=n[9],C=n[13],P=n[2],O=n[6],R=n[10],L=n[14],k=n[3],D=n[7],I=n[11],N=n[15];return i[0]=o*x+a*M+s*P+c*k,i[4]=o*w+a*E+s*O+c*D,i[8]=o*T+a*A+s*R+c*I,i[12]=o*S+a*C+s*L+c*N,i[1]=u*x+h*M+l*P+f*k,i[5]=u*w+h*E+l*O+f*D,i[9]=u*T+h*A+l*R+f*I,i[13]=u*S+h*C+l*L+f*N,i[2]=p*x+d*M+m*P+v*k,i[6]=p*w+d*E+m*O+v*D,i[10]=p*T+d*A+m*R+v*I,i[14]=p*S+d*C+m*L+v*N,i[3]=g*x+y*M+_*P+b*k,i[7]=g*w+y*E+_*O+b*D,i[11]=g*T+y*A+_*R+b*I,i[15]=g*S+y*C+_*L+b*N,this},multiplyToArray:function(t,e,r){var n=this.elements;return this.multiplyMatrices(t,e),r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t;return function(e,r,n){void 0===t&&(t=new K.Vector3),void 0===r&&(r=0),void 0===n&&(n=e.length);for(var i=0,o=r;i<n;i+=3,o+=3)t.fromArray(e,o),t.applyMatrix4(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,r,n){void 0===t&&(t=new K.Vector3),void 0===r&&(r=0),void 0===n&&(n=e.length/e.itemSize);for(var i=0,o=r;i<n;i++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix4(this),e.setXYZ(t.x,t.y,t.z);return e}}(),rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},determinant:function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],u=t[2],h=t[6],l=t[10],f=t[14];return t[3]*(+i*s*h-n*c*h-i*a*l+r*c*l+n*a*f-r*s*f)+t[7]*(+e*s*f-e*c*l+i*o*l-n*o*f+n*c*u-i*s*u)+t[11]*(+e*c*h-e*a*f-i*o*h+r*o*f+i*a*u-r*c*u)+t[15]*(-n*a*u-e*s*h+e*a*l+n*o*h-r*o*l+r*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t},getPosition:function(){var t;return function(){void 0===t&&(t=new K.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var e=this.elements;return t.set(e[12],e[13],e[14])}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var r=this.elements,n=t.elements,i=n[0],o=n[4],a=n[8],s=n[12],c=n[1],u=n[5],h=n[9],l=n[13],f=n[2],p=n[6],d=n[10],m=n[14],v=n[3],g=n[7],y=n[11],_=n[15];r[0]=h*m*g-l*d*g+l*p*y-u*m*y-h*p*_+u*d*_,r[4]=s*d*g-a*m*g-s*p*y+o*m*y+a*p*_-o*d*_,r[8]=a*l*g-s*h*g+s*u*y-o*l*y-a*u*_+o*h*_,r[12]=s*h*p-a*l*p-s*u*d+o*l*d+a*u*m-o*h*m,r[1]=l*d*v-h*m*v-l*f*y+c*m*y+h*f*_-c*d*_,r[5]=a*m*v-s*d*v+s*f*y-i*m*y-a*f*_+i*d*_,r[9]=s*h*v-a*l*v-s*c*y+i*l*y+a*c*_-i*h*_,r[13]=a*l*f-s*h*f+s*c*d-i*l*d-a*c*m+i*h*m,r[2]=u*m*v-l*p*v+l*f*g-c*m*g-u*f*_+c*p*_,r[6]=s*p*v-o*m*v-s*f*g+i*m*g+o*f*_-i*p*_,r[10]=o*l*v-s*u*v+s*c*g-i*l*g-o*c*_+i*u*_,r[14]=s*u*f-o*l*f-s*c*p+i*l*p+o*c*m-i*u*m,r[3]=h*p*v-u*d*v-h*f*g+c*d*g+u*f*y-c*p*y,r[7]=o*d*v-a*p*v+a*f*g-i*d*g-o*f*y+i*p*y,r[11]=a*u*v-o*h*v-a*c*g+i*h*g+o*c*y-i*u*y,r[15]=o*h*f-a*u*f+a*c*p-i*h*p-o*c*d+i*u*d;var b=i*r[0]+c*r[4]+f*r[8]+v*r[12];if(0===b){var x="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(x);return console.warn(x),this.identity(),this}return this.multiplyScalar(1/b),this},translate:function(t){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(t){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(t){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(t){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(t,e){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))},makeTranslation:function(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=1-r,o=t.x,a=t.y,s=t.z,c=i*o,u=i*a;return this.set(c*o+r,c*a-n*s,c*s+n*a,0,c*a+n*s,u*a+r,u*s-n*o,0,c*s-n*a,u*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this},compose:function(t,e,r){return this.makeRotationFromQuaternion(e),this.scale(r),this.setPosition(t),this},decompose:function(){var t,e;return function(r,n,i){void 0===t&&(t=new K.Vector3),void 0===e&&(e=new K.Matrix4);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),c=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],e.elements.set(this.elements);var u=1/a,h=1/s,l=1/c;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=h,e.elements[5]*=h,e.elements[6]*=h,e.elements[8]*=l,e.elements[9]*=l,e.elements[10]*=l,n.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=c,this}}(),makeFrustum:function(t,e,r,n,i,o){var a=this.elements,s=2*i/(e-t),c=2*i/(n-r),u=(e+t)/(e-t),h=(n+r)/(n-r),l=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,r,n){var i=r*Math.tan(K.Math.degToRad(.5*t)),o=-i,a=o*e,s=i*e;return this.makeFrustum(a,s,o,i,r,n)},makeOrthographic:function(t,e,r,n,i,o){var a=this.elements,s=e-t,c=r-n,u=o-i,h=(e+t)/s,l=(r+n)/c,f=(o+i)/u;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2/c,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2/u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}},K.Ray=function(t,e){this.origin=void 0!==t?t:new K.Vector3,this.direction=void 0!==e?e:new K.Vector3},K.Ray.prototype={constructor:K.Ray,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new K.Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)},recast:function(){var t=new K.Vector3;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var r=e||new K.Vector3;r.subVectors(t,this.origin);var n=r.dot(this.direction);return n<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new K.Vector3;return function(e){var r=t.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(b=new K.Vector3,x=new K.Vector3,w=new K.Vector3,function(t,e,r,n){b.copy(t).add(e).multiplyScalar(.5),x.copy(e).sub(t).normalize(),w.copy(this.origin).sub(b);var i,o,a,s,c=.5*t.distanceTo(e),u=-this.direction.dot(x),h=w.dot(this.direction),l=-w.dot(x),f=w.lengthSq(),p=Math.abs(1-u*u);if(p>0)if(o=u*h-l,s=c*p,(i=u*l-h)>=0)if(o>=-s)if(o<=s){var d=1/p;a=(i*=d)*(i+u*(o*=d)+2*h)+o*(u*i+o+2*l)+f}else o=c,a=-(i=Math.max(0,-(u*o+h)))*i+o*(o+2*l)+f;else o=-c,a=-(i=Math.max(0,-(u*o+h)))*i+o*(o+2*l)+f;else o<=-s?a=-(i=Math.max(0,-(-u*c+h)))*i+(o=i>0?-c:Math.min(Math.max(-c,-l),c))*(o+2*l)+f:o<=s?(i=0,a=(o=Math.min(Math.max(-c,-l),c))*(o+2*l)+f):a=-(i=Math.max(0,-(u*c+h)))*i+(o=i>0?c:Math.min(Math.max(-c,-l),c))*(o+2*l)+f;else o=u>0?-c:c,a=-(i=Math.max(0,-(u*o+h)))*i+o*(o+2*l)+f;return r&&r.copy(this.direction).multiplyScalar(i).add(this.origin),n&&n.copy(x).multiplyScalar(o).add(b),a}),isIntersectionSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},intersectSphere:function(){var t=new K.Vector3;return function(e,r){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),i=t.dot(t)-n*n,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,c=n+a;return s<0&&c<0?null:s<0?this.at(c,r):this.at(s,r)}}(),isIntersectionPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null},intersectPlane:function(t,e){var r=this.distanceToPlane(t);return null===r?null:this.at(r,e)},isIntersectionBox:(_=new K.Vector3,function(t){return null!==this.intersectBox(t,_)}),intersectBox:function(t,e){var r,n,i,o,a,s,c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,l=this.origin;return c>=0?(r=(t.min.x-l.x)*c,n=(t.max.x-l.x)*c):(r=(t.max.x-l.x)*c,n=(t.min.x-l.x)*c),u>=0?(i=(t.min.y-l.y)*u,o=(t.max.y-l.y)*u):(i=(t.max.y-l.y)*u,o=(t.min.y-l.y)*u),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),h>=0?(a=(t.min.z-l.z)*h,s=(t.max.z-l.z)*h):(a=(t.max.z-l.z)*h,s=(t.min.z-l.z)*h),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,e)))},intersectTriangle:function(){var t=new K.Vector3,e=new K.Vector3,r=new K.Vector3,n=new K.Vector3;return function(i,o,a,s,c){e.subVectors(o,i),r.subVectors(a,i),n.crossVectors(e,r);var u,h=this.direction.dot(n);if(h>0){if(s)return null;u=1}else{if(!(h<0))return null;u=-1,h=-h}t.subVectors(this.origin,i);var l=u*this.direction.dot(r.crossVectors(t,r));if(l<0)return null;var f=u*this.direction.dot(e.cross(t));if(f<0)return null;if(l+f>h)return null;var p=-u*t.dot(n);return p<0?null:this.at(p/h,c)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},K.Sphere=function(t,e){this.center=void 0!==t?t:new K.Vector3,this.radius=void 0!==e?e:0},K.Sphere.prototype={constructor:K.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(T=new K.Box3,function(t,e){var r=this.center;void 0!==e?r.copy(e):T.setFromPoints(t).center(r);for(var n=0,i=0,o=t.length;i<o;i++)n=Math.max(n,r.distanceToSquared(t[i]));return this.radius=Math.sqrt(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},clampPoint:function(t,e){var r=this.center.distanceToSquared(t),n=e||new K.Vector3;return n.copy(t),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var e=t||new K.Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},K.Frustum=function(t,e,r,n,i,o){this.planes=[void 0!==t?t:new K.Plane,void 0!==e?e:new K.Plane,void 0!==r?r:new K.Plane,void 0!==n?n:new K.Plane,void 0!==i?i:new K.Plane,void 0!==o?o:new K.Plane]},K.Frustum.prototype={constructor:K.Frustum,set:function(t,e,r,n,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,r=0;r<6;r++)e[r].copy(t.planes[r]);return this},setFromMatrix:function(t){var e=this.planes,r=t.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],u=r[6],h=r[7],l=r[8],f=r[9],p=r[10],d=r[11],m=r[12],v=r[13],g=r[14],y=r[15];return e[0].setComponents(a-n,h-s,d-l,y-m).normalize(),e[1].setComponents(a+n,h+s,d+l,y+m).normalize(),e[2].setComponents(a+i,h+c,d+f,y+v).normalize(),e[3].setComponents(a-i,h-c,d-f,y-v).normalize(),e[4].setComponents(a-o,h-u,d-p,y-g).normalize(),e[5].setComponents(a+o,h+u,d+p,y+g).normalize(),this},intersectsObject:(E=new K.Sphere,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),E.copy(e.boundingSphere),E.applyMatrix4(t.matrixWorld),this.intersectsSphere(E)}),intersectsSphere:function(t){for(var e=this.planes,r=t.center,n=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(r)<n)return!1}return!0},intersectsBox:(S=new K.Vector3,M=new K.Vector3,function(t){for(var e=this.planes,r=0;r<6;r++){var n=e[r];S.x=n.normal.x>0?t.min.x:t.max.x,M.x=n.normal.x>0?t.max.x:t.min.x,S.y=n.normal.y>0?t.min.y:t.max.y,M.y=n.normal.y>0?t.max.y:t.min.y,S.z=n.normal.z>0?t.min.z:t.max.z,M.z=n.normal.z>0?t.max.z:t.min.z;var i=n.distanceToPoint(S),o=n.distanceToPoint(M);if(i<0&&o<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0}},K.Plane=function(t,e){this.normal=void 0!==t?t:new K.Vector3(1,0,0),this.constant=void 0!==e?e:0},K.Plane.prototype={constructor:K.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,r,n){return this.normal.set(t,e,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new K.Vector3,e=new K.Vector3;return function(r,n,i){var o=t.subVectors(i,n).cross(e.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var r=this.distanceToPoint(t);return(e||new K.Vector3).copy(this.normal).multiplyScalar(r)},isIntersectionLine:function(t){var e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0},intersectLine:function(){var t=new K.Vector3;return function(e,r){var n=r||new K.Vector3,i=e.delta(t),o=this.normal.dot(i);if(0===o)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/o;return a<0||a>1?void 0:n.copy(i).multiplyScalar(a).add(e.start)}}(),coplanarPoint:function(t){return(t||new K.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new K.Vector3,e=new K.Vector3,r=new K.Matrix3;return function(n,i){var o=i||r.getNormalMatrix(n),a=t.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(e);return s.applyMatrix4(n),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},K.Math={generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),n=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?r[i]="-":14===i?r[i]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,r[i]=e[19===i?3&t|8:t]);return r.join("")}}(),clamp:function(t,e,r){return Math.max(e,Math.min(r,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:(C=Math.PI/180,function(t){return t*C}),radToDeg:(A=180/Math.PI,function(t){return t*A}),isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}},K.Spline=function(t){this.points=t;var e,r,n,i,o,a,s,c,u,h=[],l={x:0,y:0,z:0};function f(t,e,r,n,i,o,a){var s=.5*(r-t),c=.5*(n-e);return(2*(e-r)+s+c)*a+(-3*(e-r)-2*s-c)*o+s*i+e}this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return e=(this.points.length-1)*t,r=Math.floor(e),n=e-r,h[0]=0===r?r:r-1,h[1]=r,h[2]=r>this.points.length-2?this.points.length-1:r+1,h[3]=r>this.points.length-3?this.points.length-1:r+2,a=this.points[h[0]],s=this.points[h[1]],c=this.points[h[2]],u=this.points[h[3]],o=n*(i=n*n),l.x=f(a.x,s.x,c.x,u.x,n,i,o),l.y=f(a.y,s.y,c.y,u.y,n,i,o),l.z=f(a.z,s.z,c.z,u.z,n,i,o),l},this.getControlPointsArray=function(){var t,e,r=this.points.length,n=[];for(t=0;t<r;t++)e=this.points[t],n[t]=[e.x,e.y,e.z];return n},this.getLength=function(t){var e,r,n,i,o=0,a=0,s=0,c=new K.Vector3,u=new K.Vector3,h=[],l=0;for(h[0]=0,t||(t=100),n=this.points.length*t,c.copy(this.points[0]),e=1;e<n;e++)r=e/n,i=this.getPoint(r),u.copy(i),l+=u.distanceTo(c),c.copy(i),o=(this.points.length-1)*r,(a=Math.floor(o))!==s&&(h[a]=l,s=a);return h[h.length]=l,{chunks:h,total:l}},this.reparametrizeByArcLength=function(t){var e,r,n,i,o,a,s,c,u=[],h=new K.Vector3,l=this.getLength();for(u.push(h.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(a=l.chunks[e]-l.chunks[e-1],s=Math.ceil(t*a/l.total),i=(e-1)/(this.points.length-1),o=e/(this.points.length-1),r=1;r<s-1;r++)n=i+r*(1/s)*(o-i),c=this.getPoint(n),u.push(h.copy(c).clone());u.push(h.copy(this.points[e]).clone())}this.points=u}},K.Triangle=function(t,e,r){this.a=void 0!==t?t:new K.Vector3,this.b=void 0!==e?e:new K.Vector3,this.c=void 0!==r?r:new K.Vector3},K.Triangle.normal=(P=new K.Vector3,function(t,e,r,n){var i=n||new K.Vector3;i.subVectors(r,e),P.subVectors(t,e),i.cross(P);var o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}),K.Triangle.barycoordFromPoint=function(){var t=new K.Vector3,e=new K.Vector3,r=new K.Vector3;return function(n,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),r.subVectors(n,i);var c=t.dot(t),u=t.dot(e),h=t.dot(r),l=e.dot(e),f=e.dot(r),p=c*l-u*u,d=s||new K.Vector3;if(0===p)return d.set(-2,-1,-1);var m=1/p,v=(l*h-u*f)*m,g=(c*f-u*h)*m;return d.set(1-v-g,g,v)}}(),K.Triangle.containsPoint=function(){var t=new K.Vector3;return function(e,r,n,i){var o=K.Triangle.barycoordFromPoint(e,r,n,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),K.Triangle.prototype={constructor:K.Triangle,set:function(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this},setFromPointsAndIndices:function(t,e,r,n){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new K.Vector3,e=new K.Vector3;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new K.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return K.Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new K.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return K.Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return K.Triangle.containsPoint(t,this.a,this.b,this.c)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},K.Channels=function(){this.mask=1},K.Channels.prototype={constructor:K.Channels,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)}},K.Clock=function(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},K.Clock.prototype={constructor:K.Clock,start:function(){this.startTime=Y.performance.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=Y.performance.now();t=.001*(e-this.oldTime),this.oldTime=e,this.elapsedTime+=t}return t}},K.EventDispatcher=function(){},K.EventDispatcher.prototype={constructor:K.EventDispatcher,apply:function(t){t.addEventListener=K.EventDispatcher.prototype.addEventListener,t.hasEventListener=K.EventDispatcher.prototype.hasEventListener,t.removeEventListener=K.EventDispatcher.prototype.removeEventListener,t.dispatchEvent=K.EventDispatcher.prototype.dispatchEvent},addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[t]&&(r[t]=[]),-1===r[t].indexOf(e)&&r[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[t]&&-1!==r[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var r=this._listeners[t];if(void 0!==r){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var r=[],n=e.length,i=0;i<n;i++)r[i]=e[i];for(i=0;i<n;i++)r[i].call(this,t)}}}},function(t){function e(t,e){return t.distance-e.distance}function r(t,e,n,i){if(!1!==t.visible&&(t.raycast(e,n),!0===i))for(var o=t.children,a=0,s=o.length;a<s;a++)r(o[a],e,n,!0)}t.Raycaster=function(e,r,n,i){this.ray=new t.Ray(e,r),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})},t.Raycaster.prototype={constructor:t.Raycaster,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(e,r){r instanceof t.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(r).sub(this.ray.origin).normalize()):r instanceof t.OrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,n){var i=[];return r(t,this,i,n),i.sort(e),i},intersectObjects:function(t,n){var i=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var o=0,a=t.length;o<a;o++)r(t[o],this,i,n);return i.sort(e),i}}}(K),K.Object3D=function(){Object.defineProperty(this,"id",{value:K.Object3DIdCount++}),this.uuid=K.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.channels=new K.Channels,this.children=[],this.up=K.Object3D.DefaultUp.clone();var t=new K.Vector3,e=new K.Euler,r=new K.Quaternion,n=new K.Vector3(1,1,1);e.onChange(function(){r.setFromEuler(e,!1)}),r.onChange(function(){e.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new K.Matrix4},normalMatrix:{value:new K.Matrix3}}),this.rotationAutoUpdate=!0,this.matrix=new K.Matrix4,this.matrixWorld=new K.Matrix4,this.matrixAutoUpdate=K.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},K.Object3D.DefaultUp=new K.Vector3(0,1,0),K.Object3D.DefaultMatrixAutoUpdate=!0,K.Object3D.prototype={constructor:K.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set eulerOrder(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set renderDepth(t){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(k=new K.Quaternion,function(t,e){return k.setFromAxisAngle(t,e),this.quaternion.multiply(k),this}),rotateX:function(){var t=new K.Vector3(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new K.Vector3(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new K.Vector3(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new K.Vector3;return function(e,r){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},translateX:function(){var t=new K.Vector3(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new K.Vector3(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new K.Vector3(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(L=new K.Matrix4,function(t){return t.applyMatrix4(L.getInverse(this.matrixWorld))}),lookAt:function(){var t=new K.Matrix4;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t instanceof K.Object3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var r=this.children.indexOf(t);-1!==r&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(r,1))},getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){var e=t||new K.Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(O=new K.Vector3,R=new K.Vector3,function(t){var e=t||new K.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(O,e,R),e}),getWorldRotation:function(){var t=new K.Quaternion;return function(e){var r=e||new K.Euler;return this.getWorldQuaternion(t),r.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new K.Vector3,e=new K.Quaternion;return function(r){var n=r||new K.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new K.Quaternion;return function(e){var r=e||new K.Vector3;return this.getWorldQuaternion(t),r.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=0,r=this.children.length;e<r;e++)this.children[e].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t,r={};e&&(t={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var n={};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),n.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),n.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),n.material=this.material.uuid),this.children.length>0){n.children=[];for(var i=0;i<this.children.length;i++)n.children.push(this.children[i].toJSON(t).object)}if(e){var o=u(t.geometries),a=u(t.materials),s=u(t.textures),c=u(t.images);o.length>0&&(r.geometries=o),a.length>0&&(r.materials=a),s.length>0&&(r.textures=s),c.length>0&&(r.images=c)}return r.object=n,r;function u(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.rotationAutoUpdate=t.rotationAutoUpdate,this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var r=0;r<t.children.length;r++){var n=t.children[r];this.add(n.clone())}return this}},K.EventDispatcher.prototype.apply(K.Object3D.prototype),K.Object3DIdCount=0,K.Face3=function(t,e,r,n,i,o){this.a=t,this.b=e,this.c=r,this.normal=n instanceof K.Vector3?n:new K.Vector3,this.vertexNormals=Array.isArray(n)?n:[],this.color=i instanceof K.Color?i:new K.Color,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0},K.Face3.prototype={constructor:K.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,r=t.vertexNormals.length;e<r;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,r=t.vertexColors.length;e<r;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},K.Face4=function(t,e,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new K.Face3(t,e,r,i,o,a)},K.BufferAttribute=function(t,e){this.uuid=K.Math.generateUUID(),this.array=t,this.itemSize=e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},K.BufferAttribute.prototype={constructor:K.BufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.array.length/this.itemSize},set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.itemSize,r*=e.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=e.array[r+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new K.Color),e[r++]=o.r,e[r++]=o.g,e[r++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];e[r++]=o.a,e[r++]=o.b,e[r++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new K.Vector2),e[r++]=o.x,e[r++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new K.Vector3),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new K.Vector4),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z,e[r++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},clone:function(){return(new this.constructor).copy(this)}},K.Int8Attribute=function(t,e){return new K.BufferAttribute(new Int8Array(t),e)},K.Uint8Attribute=function(t,e){return new K.BufferAttribute(new Uint8Array(t),e)},K.Uint8ClampedAttribute=function(t,e){return new K.BufferAttribute(new Uint8ClampedArray(t),e)},K.Int16Attribute=function(t,e){return new K.BufferAttribute(new Int16Array(t),e)},K.Uint16Attribute=function(t,e){return new K.BufferAttribute(new Uint16Array(t),e)},K.Int32Attribute=function(t,e){return new K.BufferAttribute(new Int32Array(t),e)},K.Uint32Attribute=function(t,e){return new K.BufferAttribute(new Uint32Array(t),e)},K.Float32Attribute=function(t,e){return new K.BufferAttribute(new Float32Array(t),e)},K.Float64Attribute=function(t,e){return new K.BufferAttribute(new Float64Array(t),e)},K.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new K.BufferAttribute(t,e).setDynamic(!0)},K.InstancedBufferAttribute=function(t,e,r){K.BufferAttribute.call(this,t,e),this.meshPerAttribute=r||1},K.InstancedBufferAttribute.prototype=Object.create(K.BufferAttribute.prototype),K.InstancedBufferAttribute.prototype.constructor=K.InstancedBufferAttribute,K.InstancedBufferAttribute.prototype.copy=function(t){return K.BufferAttribute.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},K.InterleavedBuffer=function(t,e){this.uuid=K.Math.generateUUID(),this.array=t,this.stride=e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},K.InterleavedBuffer.prototype={constructor:K.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){this.array=new t.array.constructor(t.array),this.stride=t.stride,this.dynamic=t.dynamic},copyAt:function(t,e,r){t*=this.stride,r*=e.stride;for(var n=0,i=this.stride;n<i;n++)this.array[t+n]=e.array[r+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},K.InstancedInterleavedBuffer=function(t,e,r){K.InterleavedBuffer.call(this,t,e),this.meshPerAttribute=r||1},K.InstancedInterleavedBuffer.prototype=Object.create(K.InterleavedBuffer.prototype),K.InstancedInterleavedBuffer.prototype.constructor=K.InstancedInterleavedBuffer,K.InstancedInterleavedBuffer.prototype.copy=function(t){return K.InterleavedBuffer.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},K.InterleavedBufferAttribute=function(t,e,r){this.uuid=K.Math.generateUUID(),this.data=t,this.itemSize=e,this.offset=r},K.InterleavedBufferAttribute.prototype={constructor:K.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.array.length/this.data.stride},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this.data.array[t+3]=i,this}},K.Geometry=function(){Object.defineProperty(this,"id",{value:K.GeometryIdCount++}),this.uuid=K.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},K.Geometry.prototype={constructor:K.Geometry,applyMatrix:function(t){for(var e=(new K.Matrix3).getNormalMatrix(t),r=0,n=this.vertices.length;r<n;r++){this.vertices[r].applyMatrix4(t)}for(r=0,n=this.faces.length;r<n;r++){var i=this.faces[r];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0},rotateX:function(){var t;return function(e){return void 0===t&&(t=new K.Matrix4),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new K.Matrix4),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new K.Matrix4),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,r,n){return void 0===t&&(t=new K.Matrix4),t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,r,n){return void 0===t&&(t=new K.Matrix4),t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(t){void 0===D&&(D=new K.Object3D),D.lookAt(t),D.updateMatrix(),this.applyMatrix(D.matrix)},fromBufferGeometry:function(t){var e=this,r=null!==t.index?t.index.array:void 0,n=t.attributes,i=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,a=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var u=[],h=[],l=[],f=0,p=0,d=0;f<i.length;f+=3,p+=2,d+=4)e.vertices.push(new K.Vector3(i[f],i[f+1],i[f+2])),void 0!==o&&u.push(new K.Vector3(o[f],o[f+1],o[f+2])),void 0!==a&&e.colors.push(new K.Color(a[f],a[f+1],a[f+2])),void 0!==s&&h.push(new K.Vector2(s[p],s[p+1])),void 0!==c&&l.push(new K.Vector2(c[p],c[p+1]));function m(t,r,n){var i=void 0!==o?[u[t].clone(),u[r].clone(),u[n].clone()]:[],f=void 0!==a?[e.colors[t].clone(),e.colors[r].clone(),e.colors[n].clone()]:[],p=new K.Face3(t,r,n,i,f);e.faces.push(p),void 0!==s&&e.faceVertexUvs[0].push([h[t].clone(),h[r].clone(),h[n].clone()]),void 0!==c&&e.faceVertexUvs[1].push([l[t].clone(),l[r].clone(),l[n].clone()])}if(void 0!==r){var v=t.groups;if(v.length>0)for(f=0;f<v.length;f++)for(var g=v[f],y=g.start,_=(p=y,y+g.count);p<_;p+=3)m(r[p],r[p+1],r[p+2]);else for(f=0;f<r.length;f+=3)m(r[f],r[f+1],r[f+2])}else for(f=0;f<i.length/3;f+=3)m(f,f+1,f+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.center().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,r=0===e?1:1/e,n=new K.Matrix4;return n.set(r,0,0,-r*t.x,0,r,0,-r*t.y,0,0,r,-r*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new K.Vector3,e=new K.Vector3,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,r,n,i,o,a;for(a=new Array(this.vertices.length),e=0,r=this.vertices.length;e<r;e++)a[e]=new K.Vector3;if(t){var s,c,u,h=new K.Vector3,l=new K.Vector3;for(n=0,i=this.faces.length;n<i;n++)o=this.faces[n],s=this.vertices[o.a],c=this.vertices[o.b],u=this.vertices[o.c],h.subVectors(u,c),l.subVectors(s,c),h.cross(l),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(n=0,i=this.faces.length;n<i;n++)a[(o=this.faces[n]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,r=this.vertices.length;e<r;e++)a[e].normalize();for(n=0,i=this.faces.length;n<i;n++){var f=(o=this.faces[n]).vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}},computeMorphNormals:function(){var t,e,r,n,i;for(r=0,n=this.faces.length;r<n;r++)for((i=this.faces[r]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new K.Geometry;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)c=new K.Vector3,u={a:new K.Vector3,b:new K.Vector3,c:new K.Vector3},a.push(c),s.push(u)}var c,u,h=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,n=this.faces.length;r<n;r++)i=this.faces[r],c=h.faceNormals[r],u=h.vertexNormals[r],c.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)(i=this.faces[r]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var t=0,e=this.vertices,r=0,n=e.length;r<n;r++)r>0&&(t+=e[r].distanceTo(e[r-1])),this.lineDistances[r]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new K.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new K.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,r){if(t instanceof K.Geometry!=!1){var n,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,u=this.faceVertexUvs[0],h=t.faceVertexUvs[0];void 0===r&&(r=0),void 0!==e&&(n=(new K.Matrix3).getNormalMatrix(e));for(var l=0,f=a.length;l<f;l++){var p=a[l].clone();void 0!==e&&p.applyMatrix4(e),o.push(p)}for(l=0,f=c.length;l<f;l++){var d,m,v,g=c[l],y=g.vertexNormals,_=g.vertexColors;(d=new K.Face3(g.a+i,g.b+i,g.c+i)).normal.copy(g.normal),void 0!==n&&d.normal.applyMatrix3(n).normalize();for(var b=0,x=y.length;b<x;b++)m=y[b].clone(),void 0!==n&&m.applyMatrix3(n).normalize(),d.vertexNormals.push(m);d.color.copy(g.color);for(b=0,x=_.length;b<x;b++)v=_[b],d.vertexColors.push(v.clone());d.materialIndex=g.materialIndex+r,s.push(d)}for(l=0,f=h.length;l<f;l++){var w=h[l],T=[];if(void 0!==w){for(b=0,x=w.length;b<x;b++)T.push(w[b].clone());u.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t instanceof K.Mesh!=!1?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,r,n,i,o,a,s,c={},u=[],h=[],l=Math.pow(10,4);for(r=0,n=this.vertices.length;r<n;r++)t=this.vertices[r],void 0===c[e=Math.round(t.x*l)+"_"+Math.round(t.y*l)+"_"+Math.round(t.z*l)]?(c[e]=r,u.push(this.vertices[r]),h[r]=u.length-1):h[r]=h[c[e]];var f=[];for(r=0,n=this.faces.length;r<n;r++){(i=this.faces[r]).a=h[i.a],i.b=h[i.b],i.c=h[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){p,f.push(r);break}}for(r=f.length-1;r>=0;r--){var d=f[r];for(this.faces.splice(d,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(d,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,r=0;r<e;r++)t[r]._id=r;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(n=[]),a&&a.length===e&&(i=[]);for(r=0;r<e;r++){var s=t[r]._id;n&&n.push(o[s]),i&&i.push(a[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}for(var n=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];n.push(o.x,o.y,o.z)}var a=[],s=[],c={},u=[],h={},l=[],f={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],d=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,v=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,_=0;if(_=T(_=T(_=T(_=T(_=T(_=T(_=T(_=T(_,0,0),1,!1),2,!1),3,d),4,m),5,v),6,g),7,y),a.push(_),a.push(p.a,p.b,p.c),d){var b=this.faceVertexUvs[0][i];a.push(E(b[0]),E(b[1]),E(b[2]))}if(m&&a.push(S(p.normal)),v){var x=p.vertexNormals;a.push(S(x[0]),S(x[1]),S(x[2]))}if(g&&a.push(M(p.color)),y){var w=p.vertexColors;a.push(M(w[0]),M(w[1]),M(w[2]))}}function T(t,e,r){return r?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]?c[e]:(c[e]=s.length/3,s.push(t.x,t.y,t.z),c[e])}function M(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]?h[e]:(h[e]=u.length,u.push(t.getHex()),h[e])}function E(t){var e=t.x.toString()+t.y.toString();return void 0!==f[e]?f[e]:(f[e]=l.length/2,l.push(t.x,t.y),f[e])}return t.data={},t.data.vertices=n,t.data.normals=s,u.length>0&&(t.data.colors=u),l.length>0&&(t.data.uvs=[l]),t.data.faces=a,t},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var e=t.vertices,r=0,n=e.length;r<n;r++)this.vertices.push(e[r].clone());var i=t.faces;for(r=0,n=i.length;r<n;r++)this.faces.push(i[r].clone());for(r=0,n=t.faceVertexUvs.length;r<n;r++){var o=t.faceVertexUvs[r];void 0===this.faceVertexUvs[r]&&(this.faceVertexUvs[r]=[]);for(var a=0,s=o.length;a<s;a++){for(var c=o[a],u=[],h=0,l=c.length;h<l;h++){var f=c[h];u.push(f.clone())}this.faceVertexUvs[r].push(u)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},K.EventDispatcher.prototype.apply(K.Geometry.prototype),K.GeometryIdCount=0,K.DirectGeometry=function(){Object.defineProperty(this,"id",{value:K.GeometryIdCount++}),this.uuid=K.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},K.DirectGeometry.prototype={constructor:K.DirectGeometry,computeBoundingBox:K.Geometry.prototype.computeBoundingBox,computeBoundingSphere:K.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(t){for(var e,r,n=[],i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e=t.faces,r=t.vertices,n=t.faceVertexUvs,i=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,a=t.morphTargets,s=a.length;if(s>0){for(var c=[],u=0;u<s;u++)c[u]=[];this.morphTargets.position=c}var h=t.morphNormals,l=h.length;if(l>0){var f=[];for(u=0;u<l;u++)f[u]=[];this.morphTargets.normal=f}var p=t.skinIndices,d=t.skinWeights,m=p.length===r.length,v=d.length===r.length;for(u=0;u<e.length;u++){var g=e[u];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var b,x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=g.color;this.colors.push(w,w,w)}if(!0===i)void 0!==(b=n[0][u])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new K.Vector2,new K.Vector2,new K.Vector2));if(!0===o)void 0!==(b=n[1][u])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new K.Vector2,new K.Vector2,new K.Vector2));for(var T=0;T<s;T++){var S=a[T].vertices;c[T].push(S[g.a],S[g.b],S[g.c])}for(T=0;T<l;T++){var M=h[T].vertexNormals[u];f[T].push(M.a,M.b,M.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(d[g.a],d[g.b],d[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},K.EventDispatcher.prototype.apply(K.DirectGeometry.prototype),K.BufferGeometry=function(){Object.defineProperty(this,"id",{value:K.GeometryIdCount++}),this.uuid=K.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},K.BufferGeometry.prototype={constructor:K.BufferGeometry,addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){return e instanceof K.BufferAttribute==!1&&e instanceof K.InterleavedBufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new K.BufferAttribute(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):void(this.attributes[t]=e)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){delete this.attributes[t]},get drawcalls(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups},get offsets(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups},addDrawCall:function(t,e,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},addGroup:function(t,e,r){this.groups.push({start:t,count:e,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var r=this.attributes.normal;void 0!==r&&((new K.Matrix3).getNormalMatrix(t).applyToVector3Array(r.array),r.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere()},rotateX:function(){var t;return function(e){return void 0===t&&(t=new K.Matrix4),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new K.Matrix4),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new K.Matrix4),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,r,n){return void 0===t&&(t=new K.Matrix4),t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,r,n){return void 0===t&&(t=new K.Matrix4),t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new K.Object3D),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.center().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t instanceof K.Points||t instanceof K.Line){var r=new K.Float32Attribute(3*e.vertices.length,3),n=new K.Float32Attribute(3*e.colors.length,3);if(this.addAttribute("position",r.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new K.Float32Attribute(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t instanceof K.Mesh&&e instanceof K.Geometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e,r=t.geometry;if(t instanceof K.Mesh){var n=r.__directGeometry;if(void 0===n)return this.fromGeometry(r);n.verticesNeedUpdate=r.verticesNeedUpdate,n.normalsNeedUpdate=r.normalsNeedUpdate,n.colorsNeedUpdate=r.colorsNeedUpdate,n.uvsNeedUpdate=r.uvsNeedUpdate,n.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=n}!0===r.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(r.vertices),e.needsUpdate=!0),r.verticesNeedUpdate=!1);!0===r.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(r.normals),e.needsUpdate=!0),r.normalsNeedUpdate=!1);!0===r.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(r.colors),e.needsUpdate=!0),r.colorsNeedUpdate=!1);r.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(r.uvs),e.needsUpdate=!0),r.uvsNeedUpdate=!1);r.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(r.lineDistances),e.needsUpdate=!0),r.lineDistancesNeedUpdate=!1);return r.groupsNeedUpdate&&(r.computeGroups(t.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new K.DirectGeometry).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new K.BufferAttribute(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var r=new Float32Array(3*t.normals.length);this.addAttribute("normal",new K.BufferAttribute(r,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new K.BufferAttribute(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new K.BufferAttribute(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new K.BufferAttribute(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=new(t.vertices.length>65535?Uint32Array:Uint16Array)(3*t.indices.length);this.setIndex(new K.BufferAttribute(a,1).copyIndicesArray(t.indices))}for(var s in this.groups=t.groups,t.morphTargets){for(var c=[],u=t.morphTargets[s],h=0,l=u.length;h<l;h++){var f=u[h],p=new K.Float32Attribute(3*f.length,3);c.push(p.copyVector3sArray(f))}this.morphAttributes[s]=c}if(t.skinIndices.length>0){var d=new K.Float32Attribute(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var m=new K.Float32Attribute(4*t.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:(I=new K.Vector3,function(){null===this.boundingBox&&(this.boundingBox=new K.Box3);var t=this.attributes.position.array;if(t){var e=this.boundingBox;e.makeEmpty();for(var r=0,n=t.length;r<n;r+=3)I.fromArray(t,r),e.expandByPoint(I)}void 0!==t&&0!==t.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}),computeBoundingSphere:function(){var t=new K.Box3,e=new K.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new K.Sphere);var r=this.attributes.position.array;if(r){t.makeEmpty();for(var n=this.boundingSphere.center,i=0,o=r.length;i<o;i+=3)e.fromArray(r,i),t.expandByPoint(e);t.center(n);var a=0;for(i=0,o=r.length;i<o;i+=3)e.fromArray(r,i),a=Math.max(a,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,r=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new K.BufferAttribute(new Float32Array(n.length),3));else for(var i=0,o=(u=e.normal.array).length;i<o;i++)u[i]=0;var a,s,c,u=e.normal.array,h=new K.Vector3,l=new K.Vector3,f=new K.Vector3,p=new K.Vector3,d=new K.Vector3;if(t){var m=t.array;0===r.length&&this.addGroup(0,m.length);for(var v=0,g=r.length;v<g;++v){var y=r[v],_=y.start;for(i=_,o=_+y.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],c=3*m[i+2],h.fromArray(n,a),l.fromArray(n,s),f.fromArray(n,c),p.subVectors(f,l),d.subVectors(h,l),p.cross(d),u[a]+=p.x,u[a+1]+=p.y,u[a+2]+=p.z,u[s]+=p.x,u[s+1]+=p.y,u[s+2]+=p.z,u[c]+=p.x,u[c+1]+=p.y,u[c+2]+=p.z}}else for(i=0,o=n.length;i<o;i+=9)h.fromArray(n,i),l.fromArray(n,i+3),f.fromArray(n,i+6),p.subVectors(f,l),d.subVectors(h,l),p.cross(d),u[i]=p.x,u[i+1]=p.y,u[i+2]=p.z,u[i+3]=p.x,u[i+4]=p.y,u[i+5]=p.z,u[i+6]=p.x,u[i+7]=p.y,u[i+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(t){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},merge:function(t,e){if(t instanceof K.BufferGeometry!=!1){void 0===e&&(e=0);var r=this.attributes;for(var n in r)if(void 0!==t.attributes[n])for(var i=r[n].array,o=t.attributes[n],a=o.array,s=0,c=o.itemSize*e;s<a.length;s++,c++)i[c]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t,e,r,n,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],r=i[o+2],n=1/Math.sqrt(t*t+e*e+r*r),i[o]*=n,i[o+1]*=n,i[o+2]*=n},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:i}}var o=this.attributes;for(var r in o){var a=o[r];i=Array.prototype.slice.call(a.array);t.data.attributes[r]={itemSize:a.itemSize,type:a.array.constructor.name,array:i}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new this.constructor).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var r=t.attributes;for(var n in r){var i=r[n];this.addAttribute(n,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var c=o[a];this.addGroup(c.start,c.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},K.EventDispatcher.prototype.apply(K.BufferGeometry.prototype),K.BufferGeometry.MaxIndex=65535,K.InstancedBufferGeometry=function(){K.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},K.InstancedBufferGeometry.prototype=Object.create(K.BufferGeometry.prototype),K.InstancedBufferGeometry.prototype.constructor=K.InstancedBufferGeometry,K.InstancedBufferGeometry.prototype.addGroup=function(t,e,r){this.groups.push({start:t,count:e,instances:r})},K.InstancedBufferGeometry.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var r=t.attributes;for(var n in r){var i=r[n];this.addAttribute(n,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var c=o[a];this.addGroup(c.start,c.count,c.instances)}return this},K.EventDispatcher.prototype.apply(K.InstancedBufferGeometry.prototype),K.AnimationAction=function(t,e,r,n,i){if(void 0===t)throw new Error("clip is null");this.clip=t,this.localRoot=null,this.startTime=e||0,this.timeScale=r||1,this.weight=n||1,this.loop=i||K.LoopRepeat,this.loopCount=0,this.enabled=!0,this.actionTime=-this.startTime,this.clipTime=0,this.propertyBindings=[]},K.AnimationAction.prototype={constructor:K.AnimationAction,setLocalRoot:function(t){return this.localRoot=t,this},updateTime:function(t){var e=this.clipTime,r=this.loopCount,n=(this.actionTime,this.clip.duration);if(this.actionTime=this.actionTime+t,this.loop===K.LoopOnce)return this.loopCount=0,this.clipTime=Math.min(Math.max(this.actionTime,0),n),this.clipTime!==e&&(this.clipTime===n?this.mixer.dispatchEvent({type:"finished",action:this,direction:1}):0===this.clipTime&&this.mixer.dispatchEvent({type:"finished",action:this,direction:-1})),this.clipTime;this.loopCount=Math.floor(this.actionTime/n);var i=this.actionTime-this.loopCount*n;return i%=n,this.loop==K.LoopPingPong&&1===Math.abs(this.loopCount%2)&&(i=n-i),this.clipTime=i,this.loopCount!==r&&this.mixer.dispatchEvent({type:"loop",action:this,loopDelta:this.loopCount-this.loopCount}),this.clipTime},syncWith:function(t){return this.actionTime=t.actionTime,this.timeScale=t.timeScale,this},warpToDuration:function(t){return this.timeScale=this.clip.duration/t,this},init:function(t){return this.clipTime=t-this.startTime,this},update:function(t){return this.updateTime(t),this.clip.getAt(this.clipTime)},getTimeScaleAt:function(t){return this.timeScale.getAt?this.timeScale.getAt(t):this.timeScale},getWeightAt:function(t){return this.weight.getAt?this.weight.getAt(t):this.weight}},K.AnimationClip=function(t,e,r){if(this.name=t,this.tracks=r,this.duration=void 0!==e?e:-1,this.duration<0)for(var n=0;n<this.tracks.length;n++){var i=this.tracks[n];this.duration=Math.max(i.keys[i.keys.length-1].time)}this.trim(),this.optimize(),this.results=[]},K.AnimationClip.prototype={constructor:K.AnimationClip,getAt:function(t){t=Math.max(0,Math.min(t,this.duration));for(var e=0;e<this.tracks.length;e++){var r=this.tracks[e];this.results[e]=r.getAt(t)}return this.results},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},K.AnimationClip.CreateFromMorphTargetSequence=function(t,e,r){for(var n=e.length,i=[],o=0;o<n;o++){var a=[];a.push({time:(o+n-1)%n,value:0}),a.push({time:o,value:1}),a.push({time:(o+1)%n,value:0}),a.sort(K.KeyframeTrack.keyComparer),0===a[0].time&&a.push({time:n,value:a[0].value}),i.push(new K.NumberKeyframeTrack(".morphTargetInfluences["+e[o].name+"]",a).scale(1/r))}return new K.AnimationClip(t,-1,i)},K.AnimationClip.findByName=function(t,e){for(var r=0;r<t.length;r++)if(t[r].name===e)return t[r];return null},K.AnimationClip.CreateClipsFromMorphTargetSequences=function(t,e){for(var r={},n=/^([\w-]*?)([\d]+)$/,i=0,o=t.length;i<o;i++){var a=t[i],s=a.name.match(n);if(s&&s.length>1){var c=r[h=s[1]];c||(r[h]=c=[]),c.push(a)}}var u=[];for(var h in r)u.push(K.AnimationClip.CreateFromMorphTargetSequence(h,r[h],e));return u},K.AnimationClip.parse=function(t){for(var e=[],r=0;r<t.tracks.length;r++)e.push(K.KeyframeTrack.parse(t.tracks[r]).scale(1/t.fps));return new K.AnimationClip(t.name,t.duration,e)},K.AnimationClip.parseAnimation=function(t,e,r){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,r,n,i){for(var o=[],a=0;a<e.length;a++){var s=e[a];void 0!==s[r]&&o.push({time:s.time,value:i(s)})}return o.length>0?new n(t,o):null},i=[],o=t.name||"default",a=t.length||-1,s=t.fps||30,c=t.hierarchy||[],u=0;u<c.length;u++){var h=c[u].keys;if(h&&0!=h.length)if(h[0].morphTargets){for(var l={},f=0;f<h.length;f++)if(h[f].morphTargets)for(var p=0;p<h[f].morphTargets.length;p++)l[h[f].morphTargets[p]]=-1;for(var d in l){var m=[];for(p=0;p<h[f].morphTargets.length;p++){var v=h[f];m.push({time:v.time,value:v.morphTarget===d?1:0})}i.push(new K.NumberKeyframeTrack(r+".morphTargetInfluence["+d+"]",m))}a=l.length*(s||1)}else{var g=r+".bones["+e[u].name+"]",y=n(g+".position",h,"pos",K.VectorKeyframeTrack,function(t){return(new K.Vector3).fromArray(t.pos)});y&&i.push(y);var _=n(g+".quaternion",h,"rot",K.QuaternionKeyframeTrack,function(t){return t.rot.slerp?t.rot.clone():(new K.Quaternion).fromArray(t.rot)});_&&i.push(_);var b=n(g+".scale",h,"scl",K.VectorKeyframeTrack,function(t){return(new K.Vector3).fromArray(t.scl)});b&&i.push(b)}}return 0===i.length?null:new K.AnimationClip(o,a,i)},K.AnimationMixer=function(t){this.root=t,this.time=0,this.timeScale=1,this.actions=[],this.propertyBindingMap={}},K.AnimationMixer.prototype={constructor:K.AnimationMixer,addAction:function(t){this.actions.push(t),t.init(this.time),t.mixer=this;for(var e=t.clip.tracks,r=t.localRoot||this.root,n=0;n<e.length;n++){var i=e[n],o=r.uuid+"-"+i.name,a=this.propertyBindingMap[o];void 0===a&&(a=new K.PropertyBinding(r,i.name),this.propertyBindingMap[o]=a),t.propertyBindings.push(a),a.referenceCount+=1}},removeAllActions:function(){for(var t=0;t<this.actions.length;t++)this.actions[t].mixer=null;for(var e in this.propertyBindingMap)this.propertyBindingMap[e].unbind();return this.actions=[],this.propertyBindingMap={},this},removeAction:function(t){var e=this.actions.indexOf(t);-1!==e&&(this.actions.splice(e,1),t.mixer=null);for(var r=t.localRoot||this.root,n=t.clip.tracks,i=0;i<n.length;i++){var o=n[i],a=r.uuid+"-"+o.name,s=this.propertyBindingMap[a];s.referenceCount-=1,s.referenceCount<=0&&(s.unbind(),delete this.propertyBindingMap[a])}return this},findActionByName:function(t){for(var e=0;e<this.actions.length;e++)if(this.actions[e].name===t)return this.actions[e];return null},play:function(t,e){return t.startTime=this.time,this.addAction(t),this},fadeOut:function(t,e){var r=[];return r.push({time:this.time,value:1}),r.push({time:this.time+e,value:0}),t.weight=new K.NumberKeyframeTrack("weight",r),this},fadeIn:function(t,e){var r=[];return r.push({time:this.time,value:0}),r.push({time:this.time+e,value:1}),t.weight=new K.NumberKeyframeTrack("weight",r),this},warp:function(t,e,r,n){var i=[];return i.push({time:this.time,value:e}),i.push({time:this.time+n,value:r}),t.timeScale=new K.NumberKeyframeTrack("timeScale",i),this},crossFade:function(t,e,r,n){if(this.fadeOut(t,r),this.fadeIn(e,r),n){var i=t.clip.duration/e.clip.duration,o=1/i;this.warp(t,1,i,r),this.warp(e,o,1,r)}return this},update:function(t){var e=t*this.timeScale;this.time+=e;for(var r=0;r<this.actions.length;r++){var n=this.actions[r],i=n.getWeightAt(this.time),o=e*n.getTimeScaleAt(this.time),a=n.update(o);if(!(n.weight<=0)&&n.enabled)for(var s=0;s<a.length;s++){n.clip.tracks[s].name;n.propertyBindings[s].accumulate(a[s],i)}}for(var c in this.propertyBindingMap)this.propertyBindingMap[c].apply();return this}},K.EventDispatcher.prototype.apply(K.AnimationMixer.prototype),K.AnimationUtils={getEqualsFunc:function(t){return t.equals?function(t,e){return t.equals(e)}:function(t,e){return t===e}},clone:function(t){if("object"===typeof t){if(t.clone)return t.clone();console.error("can not figure out how to copy exemplarValue",t)}return t},lerp:function(t,e,r,n){return K.AnimationUtils.getLerpFunc(t,n)(t,e,r)},lerp_object:function(t,e,r){return t.lerp(e,r)},slerp_object:function(t,e,r){return t.slerp(e,r)},lerp_number:function(t,e,r){return t*(1-r)+e*r},lerp_boolean:function(t,e,r){return r<.5?t:e},lerp_boolean_immediate:function(t,e,r){return t},lerp_string:function(t,e,r){return r<.5?t:e},lerp_string_immediate:function(t,e,r){return t},getLerpFunc:function(t,e){if(void 0===t||null===t)throw new Error("examplarValue is null");switch(typeof t){case"object":if(t.lerp)return K.AnimationUtils.lerp_object;if(t.slerp)return K.AnimationUtils.slerp_object;break;case"number":return K.AnimationUtils.lerp_number;case"boolean":return e?K.AnimationUtils.lerp_boolean:K.AnimationUtils.lerp_boolean_immediate;case"string":return e?K.AnimationUtils.lerp_string:K.AnimationUtils.lerp_string_immediate}}},K.KeyframeTrack=function(t,e){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keys in track named "+t);this.name=t,this.keys=e,this.lastIndex=0,this.validate(),this.optimize()},K.KeyframeTrack.prototype={constructor:K.KeyframeTrack,getAt:function(t){for(;this.lastIndex<this.keys.length&&t>=this.keys[this.lastIndex].time;)this.lastIndex++;for(;this.lastIndex>0&&t<this.keys[this.lastIndex-1].time;)this.lastIndex--;if(this.lastIndex>=this.keys.length)return this.setResult(this.keys[this.keys.length-1].value),this.result;if(0===this.lastIndex)return this.setResult(this.keys[0].value),this.result;var e=this.keys[this.lastIndex-1];if(this.setResult(e.value),e.constantToNext)return this.result;var r=this.keys[this.lastIndex],n=(t-e.time)/(r.time-e.time);return this.result=this.lerpValues(this.result,r.value,n),this.result},shift:function(t){if(0!==t)for(var e=0;e<this.keys.length;e++)this.keys[e].time+=t;return this},scale:function(t){if(1!==t)for(var e=0;e<this.keys.length;e++)this.keys[e].time*=t;return this},trim:function(t,e){for(var r=0,n=1;n<this.keys.length;n++)this.keys[n]<=t&&r++;var i=0;for(n=this.keys.length-2;n>0&&this.keys[n]>=e;n++)i++;return r+i>0&&(this.keys=this.keys.splice(r,this.keys.length-i-r)),this},validate:function(){var t=null;if(0!==this.keys.length){for(var e=0;e<this.keys.length;e++){var r=this.keys[e];if(!r)return void console.error("  key is null in track",this,e);if("number"!=typeof r.time||isNaN(r.time))return void console.error("  key.time is not a valid number",this,e,r);if(void 0===r.value||null===r.value)return void console.error("  key.value is null in track",this,e,r);if(t&&t.time>r.time)return void console.error("  key.time is less than previous key time, out of order keys",this,e,r,t);t=r}return this}console.error("  track is empty, no keys",this)},optimize:function(){var t=[],e=this.keys[0];t.push(e);K.AnimationUtils.getEqualsFunc(e.value);for(var r=1;r<this.keys.length-1;r++){var n=this.keys[r],i=this.keys[r+1];e.time!==n.time&&(this.compareValues(e.value,n.value)&&this.compareValues(n.value,i.value)||(e.constantToNext=this.compareValues(e.value,n.value),t.push(n),e=n))}return t.push(this.keys[this.keys.length-1]),this.keys=t,this}},K.KeyframeTrack.keyComparer=function(t,e){return t.time-e.time},K.KeyframeTrack.parse=function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");return K.KeyframeTrack.GetTrackTypeForTypeName(t.type).parse(t)},K.KeyframeTrack.GetTrackTypeForTypeName=function(t){switch(t.toLowerCase()){case"vector":case"vector2":case"vector3":case"vector4":return K.VectorKeyframeTrack;case"quaternion":return K.QuaternionKeyframeTrack;case"integer":case"scalar":case"double":case"float":case"number":return K.NumberKeyframeTrack;case"bool":case"boolean":return K.BooleanKeyframeTrack;case"string":return K.StringKeyframeTrack}throw new Error("Unsupported typeName: "+t)},K.PropertyBinding=function(t,e){this.rootNode=t,this.trackName=e,this.referenceCount=0,this.originalValue=null;var r=K.PropertyBinding.parseTrackName(e);this.directoryName=r.directoryName,this.nodeName=r.nodeName,this.objectName=r.objectName,this.objectIndex=r.objectIndex,this.propertyName=r.propertyName,this.propertyIndex=r.propertyIndex,this.node=K.PropertyBinding.findNode(t,this.nodeName)||t,this.cumulativeValue=null,this.cumulativeWeight=0},K.PropertyBinding.prototype={constructor:K.PropertyBinding,reset:function(){this.cumulativeValue=null,this.cumulativeWeight=0},accumulate:function(t,e){if(this.isBound||this.bind(),0===this.cumulativeWeight)e>0&&(null===this.cumulativeValue&&(this.cumulativeValue=K.AnimationUtils.clone(t)),this.cumulativeWeight=e);else{var r=e/(this.cumulativeWeight+e);this.cumulativeValue=this.lerpValue(this.cumulativeValue,t,r),this.cumulativeWeight+=e}},unbind:function(){this.isBound&&(this.setValue(this.originalValue),this.setValue=null,this.getValue=null,this.lerpValue=null,this.equalsValue=null,this.triggerDirty=null,this.isBound=!1)},bind:function(){if(!this.isBound){var t=this.node;if(t){if(this.objectName){if("materials"===this.objectName){if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials}else if("bones"===this.objectName){if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var e=0;e<t.length;e++)if(t[e].name===this.objectIndex){this.objectIndex=e;break}}else{if(void 0===t[this.objectName])return void console.error("  can not bind to objectName of node, undefined",this);t=t[this.objectName]}if(void 0!==this.objectIndex){if(void 0===t[this.objectIndex])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[this.objectIndex]}}var r=t[this.propertyName];if(r){if(void 0!==this.propertyIndex){if("morphTargetInfluences"===this.propertyName){t.geometry||console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this),t.geometry.morphTargets||console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(e=0;e<this.node.geometry.morphTargets.length;e++)if(t.geometry.morphTargets[e].name===this.propertyIndex){this.propertyIndex=e;break}}this.setValue=function(t){return!this.equalsValue(r[this.propertyIndex],t)&&(r[this.propertyIndex]=t,!0)},this.getValue=function(){return r[this.propertyIndex]}}else r.copy?(this.setValue=function(t){return!this.equalsValue(r,t)&&(r.copy(t),!0)},this.getValue=function(){return r}):(this.setValue=function(e){return!this.equalsValue(t[this.propertyName],e)&&(t[this.propertyName]=e,!0)},this.getValue=function(){return t[this.propertyName]});void 0!==t.needsUpdate?this.triggerDirty=function(){this.node.needsUpdate=!0}:void 0!==t.matrixWorldNeedsUpdate&&(this.triggerDirty=function(){t.matrixWorldNeedsUpdate=!0}),this.originalValue=this.getValue(),this.equalsValue=K.AnimationUtils.getEqualsFunc(this.originalValue),this.lerpValue=K.AnimationUtils.getLerpFunc(this.originalValue,!0),this.isBound=!0}else console.error("  trying to update property for track: "+this.nodeName+"."+this.propertyName+" but it wasn't found.",t)}else console.error("  trying to update node for track: "+this.trackName+" but it wasn't found.")}},apply:function(){if(this.isBound||this.bind(),this.cumulativeWeight>0){if(this.cumulativeWeight<1){var t=1-this.cumulativeWeight,e=t/(this.cumulativeWeight+t);this.cumulativeValue=this.lerpValue(this.cumulativeValue,this.originalValue,e)}this.setValue(this.cumulativeValue)&&this.triggerDirty&&this.triggerDirty(),this.cumulativeValue=null,this.cumulativeWeight=0}}},K.PropertyBinding.parseTrackName=function(t){var e=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_. ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,r=e.exec(t);if(!r)throw new Error("cannot parse trackName at all: "+t);r.index===e.lastIndex&&e.lastIndex++;var n={directoryName:r[1],nodeName:r[3],objectName:r[5],objectIndex:r[7],propertyName:r[9],propertyIndex:r[11]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return n},K.PropertyBinding.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var r=function(t){for(var r=0;r<t.bones.length;r++){var n=t.bones[r];if(n.name===e)return n}return null}(t.skeleton);if(r)return r}if(t.children){var n=function t(r){for(var n=0;n<r.length;n++){var i=r[n];if(i.name===e||i.uuid===e)return i;var o=t(i.children);if(o)return o}return null}(t.children);if(n)return n}return null},K.VectorKeyframeTrack=function(t,e){K.KeyframeTrack.call(this,t,e),this.result=this.keys[0].value.clone()},K.VectorKeyframeTrack.prototype=Object.create(K.KeyframeTrack.prototype),K.VectorKeyframeTrack.prototype.constructor=K.VectorKeyframeTrack,K.VectorKeyframeTrack.prototype.setResult=function(t){this.result.copy(t)},K.VectorKeyframeTrack.prototype.lerpValues=function(t,e,r){return t.lerp(e,r)},K.VectorKeyframeTrack.prototype.compareValues=function(t,e){return t.equals(e)},K.VectorKeyframeTrack.prototype.clone=function(){for(var t=[],e=0;e<this.keys.length;e++){var r=this.keys[e];t.push({time:r.time,value:r.value.clone()})}return new K.VectorKeyframeTrack(this.name,t)},K.VectorKeyframeTrack.parse=function(t){for(var e=t.keys[0].value.length,r=K["Vector"+e],n=[],i=0;i<t.keys.length;i++){var o=t.keys[i];n.push({value:(new r).fromArray(o.value),time:o.time})}return new K.VectorKeyframeTrack(t.name,n)},K.QuaternionKeyframeTrack=function(t,e){K.KeyframeTrack.call(this,t,e),this.result=this.keys[0].value.clone()},K.QuaternionKeyframeTrack.prototype=Object.create(K.KeyframeTrack.prototype),K.QuaternionKeyframeTrack.prototype.constructor=K.QuaternionKeyframeTrack,K.QuaternionKeyframeTrack.prototype.setResult=function(t){this.result.copy(t)},K.QuaternionKeyframeTrack.prototype.lerpValues=function(t,e,r){return t.slerp(e,r)},K.QuaternionKeyframeTrack.prototype.compareValues=function(t,e){return t.equals(e)},K.QuaternionKeyframeTrack.prototype.multiply=function(t){for(var e=0;e<this.keys.length;e++)this.keys[e].value.multiply(t);return this},K.QuaternionKeyframeTrack.prototype.clone=function(){for(var t=[],e=0;e<this.keys.length;e++){var r=this.keys[e];t.push({time:r.time,value:r.value.clone()})}return new K.QuaternionKeyframeTrack(this.name,t)},K.QuaternionKeyframeTrack.parse=function(t){for(var e=[],r=0;r<t.keys.length;r++){var n=t.keys[r];e.push({value:(new K.Quaternion).fromArray(n.value),time:n.time})}return new K.QuaternionKeyframeTrack(t.name,e)},K.StringKeyframeTrack=function(t,e){K.KeyframeTrack.call(this,t,e),this.result=this.keys[0].value},K.StringKeyframeTrack.prototype=Object.create(K.KeyframeTrack.prototype),K.StringKeyframeTrack.prototype.constructor=K.StringKeyframeTrack,K.StringKeyframeTrack.prototype.setResult=function(t){this.result=t},K.StringKeyframeTrack.prototype.lerpValues=function(t,e,r){return r<1?t:e},K.StringKeyframeTrack.prototype.compareValues=function(t,e){return t===e},K.StringKeyframeTrack.prototype.clone=function(){for(var t=[],e=0;e<this.keys.length;e++){var r=this.keys[e];t.push({time:r.time,value:r.value})}return new K.StringKeyframeTrack(this.name,t)},K.StringKeyframeTrack.parse=function(t){return new K.StringKeyframeTrack(t.name,t.keys)},K.BooleanKeyframeTrack=function(t,e){K.KeyframeTrack.call(this,t,e),this.result=this.keys[0].value},K.BooleanKeyframeTrack.prototype=Object.create(K.KeyframeTrack.prototype),K.BooleanKeyframeTrack.prototype.constructor=K.BooleanKeyframeTrack,K.BooleanKeyframeTrack.prototype.setResult=function(t){this.result=t},K.BooleanKeyframeTrack.prototype.lerpValues=function(t,e,r){return r<1?t:e},K.BooleanKeyframeTrack.prototype.compareValues=function(t,e){return t===e},K.BooleanKeyframeTrack.prototype.clone=function(){for(var t=[],e=0;e<this.keys.length;e++){var r=this.keys[e];t.push({time:r.time,value:r.value})}return new K.BooleanKeyframeTrack(this.name,t)},K.BooleanKeyframeTrack.parse=function(t){return new K.BooleanKeyframeTrack(t.name,t.keys)},K.NumberKeyframeTrack=function(t,e){K.KeyframeTrack.call(this,t,e),this.result=this.keys[0].value},K.NumberKeyframeTrack.prototype=Object.create(K.KeyframeTrack.prototype),K.NumberKeyframeTrack.prototype.constructor=K.NumberKeyframeTrack,K.NumberKeyframeTrack.prototype.setResult=function(t){this.result=t},K.NumberKeyframeTrack.prototype.lerpValues=function(t,e,r){return t*(1-r)+e*r},K.NumberKeyframeTrack.prototype.compareValues=function(t,e){return t===e},K.NumberKeyframeTrack.prototype.clone=function(){for(var t=[],e=0;e<this.keys.length;e++){var r=this.keys[e];t.push({time:r.time,value:r.value})}return new K.NumberKeyframeTrack(this.name,t)},K.NumberKeyframeTrack.parse=function(t){return new K.NumberKeyframeTrack(t.name,t.keys)},K.Camera=function(){K.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new K.Matrix4,this.projectionMatrix=new K.Matrix4},K.Camera.prototype=Object.create(K.Object3D.prototype),K.Camera.prototype.constructor=K.Camera,K.Camera.prototype.getWorldDirection=function(){var t=new K.Quaternion;return function(e){var r=e||new K.Vector3;return this.getWorldQuaternion(t),r.set(0,0,-1).applyQuaternion(t)}}(),K.Camera.prototype.lookAt=function(){var t=new K.Matrix4;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),K.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},K.Camera.prototype.copy=function(t){return K.Object3D.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},K.CubeCamera=function(t,e,r){K.Object3D.call(this),this.type="CubeCamera";var n=new K.PerspectiveCamera(90,1,t,e);n.up.set(0,-1,0),n.lookAt(new K.Vector3(1,0,0)),this.add(n);var i=new K.PerspectiveCamera(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new K.Vector3(-1,0,0)),this.add(i);var o=new K.PerspectiveCamera(90,1,t,e);o.up.set(0,0,1),o.lookAt(new K.Vector3(0,1,0)),this.add(o);var a=new K.PerspectiveCamera(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new K.Vector3(0,-1,0)),this.add(a);var s=new K.PerspectiveCamera(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new K.Vector3(0,0,1)),this.add(s);var c=new K.PerspectiveCamera(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new K.Vector3(0,0,-1)),this.add(c),this.renderTarget=new K.WebGLRenderTargetCube(r,r,{format:K.RGBFormat,magFilter:K.LinearFilter,minFilter:K.LinearFilter}),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,u=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,t.render(e,n,r),r.activeCubeFace=1,t.render(e,i,r),r.activeCubeFace=2,t.render(e,o,r),r.activeCubeFace=3,t.render(e,a,r),r.activeCubeFace=4,t.render(e,s,r),r.texture.generateMipmaps=u,r.activeCubeFace=5,t.render(e,c,r),t.setRenderTarget(null)}},K.CubeCamera.prototype=Object.create(K.Object3D.prototype),K.CubeCamera.prototype.constructor=K.CubeCamera,K.OrthographicCamera=function(t,e,r,n,i,o){K.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()},K.OrthographicCamera.prototype=Object.create(K.Camera.prototype),K.OrthographicCamera.prototype.constructor=K.OrthographicCamera,K.OrthographicCamera.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(r-t,r+t,n+e,n-e,this.near,this.far)},K.OrthographicCamera.prototype.copy=function(t){return K.Camera.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this},K.OrthographicCamera.prototype.toJSON=function(t){var e=K.Object3D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,e},K.PerspectiveCamera=function(t,e,r,n){K.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==t?t:50,this.aspect=void 0!==e?e:1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},K.PerspectiveCamera.prototype=Object.create(K.Camera.prototype),K.PerspectiveCamera.prototype.constructor=K.PerspectiveCamera,K.PerspectiveCamera.prototype.setLens=function(t,e){void 0===e&&(e=24),this.fov=2*K.Math.radToDeg(Math.atan(e/(2*t))),this.updateProjectionMatrix()},K.PerspectiveCamera.prototype.setViewOffset=function(t,e,r,n,i,o){this.fullWidth=t,this.fullHeight=e,this.x=r,this.y=n,this.width=i,this.height=o,this.updateProjectionMatrix()},K.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var t=K.Math.radToDeg(2*Math.atan(Math.tan(.5*K.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var e=this.fullWidth/this.fullHeight,r=Math.tan(K.Math.degToRad(.5*t))*this.near,n=-r,i=e*n,o=e*r,a=Math.abs(o-i),s=Math.abs(r-n);this.projectionMatrix.makeFrustum(i+this.x*a/this.fullWidth,i+(this.x+this.width)*a/this.fullWidth,r-(this.y+this.height)*s/this.fullHeight,r-this.y*s/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(t,this.aspect,this.near,this.far)},K.PerspectiveCamera.prototype.copy=function(t){return K.Camera.prototype.copy.call(this,t),this.fov=t.fov,this.aspect=t.aspect,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this},K.PerspectiveCamera.prototype.toJSON=function(t){var e=K.Object3D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.fov=this.fov,e.object.aspect=this.aspect,e.object.near=this.near,e.object.far=this.far,e},K.Light=function(t){K.Object3D.call(this),this.type="Light",this.color=new K.Color(t),this.receiveShadow=void 0},K.Light.prototype=Object.create(K.Object3D.prototype),K.Light.prototype.constructor=K.Light,Object.defineProperties(K.Light.prototype,{onlyShadow:{set:function(t){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow ) instead.")}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(t){this.shadow.darkness=t}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),K.Light.prototype.copy=function(t){return K.Object3D.prototype.copy.call(this,t),this.color.copy(t.color),this},K.Light.prototype.toJSON=function(t){var e=K.Object3D.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.intensity&&(e.object.intensity=this.intensity),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.exponent&&(e.object.exponent=this.exponent),e},K.LightShadow=function(t){this.camera=t,this.bias=0,this.darkness=1,this.mapSize=new K.Vector2(512,512),this.map=null,this.matrix=null},K.LightShadow.prototype={constructor:K.LightShadow,copy:function(t){this.camera=t.camera.clone(),this.bias=t.bias,this.darkness=t.darkness,this.mapSize.copy(t.mapSize)},clone:function(){return(new this.constructor).copy(this)}},K.AmbientLight=function(t){K.Light.call(this,t),this.type="AmbientLight",this.castShadow=void 0},K.AmbientLight.prototype=Object.create(K.Light.prototype),K.AmbientLight.prototype.constructor=K.AmbientLight,K.DirectionalLight=function(t,e){K.Light.call(this,t),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new K.Object3D,this.intensity=void 0!==e?e:1,this.shadow=new K.LightShadow(new K.OrthographicCamera(-500,500,500,-500,50,5e3))},K.DirectionalLight.prototype=Object.create(K.Light.prototype),K.DirectionalLight.prototype.constructor=K.DirectionalLight,K.DirectionalLight.prototype.copy=function(t){return K.Light.prototype.copy.call(this,t),this.intensity=t.intensity,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this},K.HemisphereLight=function(t,e,r){K.Light.call(this,t),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new K.Color(e),this.intensity=void 0!==r?r:1},K.HemisphereLight.prototype=Object.create(K.Light.prototype),K.HemisphereLight.prototype.constructor=K.HemisphereLight,K.HemisphereLight.prototype.copy=function(t){return K.Light.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this.intensity=t.intensity,this},K.PointLight=function(t,e,r,n){K.Light.call(this,t),this.type="PointLight",this.intensity=void 0!==e?e:1,this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new K.LightShadow(new K.PerspectiveCamera(90,1,1,500))},K.PointLight.prototype=Object.create(K.Light.prototype),K.PointLight.prototype.constructor=K.PointLight,K.PointLight.prototype.copy=function(t){return K.Light.prototype.copy.call(this,t),this.intensity=t.intensity,this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this},K.SpotLight=function(t,e,r,n,i,o){K.Light.call(this,t),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new K.Object3D,this.intensity=void 0!==e?e:1,this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.exponent=void 0!==i?i:10,this.decay=void 0!==o?o:1,this.shadow=new K.LightShadow(new K.PerspectiveCamera(50,1,50,5e3))},K.SpotLight.prototype=Object.create(K.Light.prototype),K.SpotLight.prototype.constructor=K.SpotLight,K.SpotLight.prototype.copy=function(t){return K.Light.prototype.copy.call(this,t),this.intensity=t.intensity,this.distance=t.distance,this.angle=t.angle,this.exponent=t.exponent,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this},K.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},K.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},K.Loader.prototype={constructor:K.Loader,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,r){for(var n=[],i=0;i<t.length;++i)n[i]=this.createMaterial(t[i],e,r);return n},createMaterial:function(t,e,r){void 0===N&&(N=new K.Color),void 0===F&&(F=new K.TextureLoader),void 0===B&&(B=new K.MaterialLoader);var n={};function i(t,i,o,a,s){var c,u=e+t,h=K.Loader.Handlers.get(u);null!==h?c=h.load(u):(F.setCrossOrigin(r),c=F.load(u)),void 0!==i&&(c.repeat.fromArray(i),1!==i[0]&&(c.wrapS=K.RepeatWrapping),1!==i[1]&&(c.wrapT=K.RepeatWrapping)),void 0!==o&&c.offset.fromArray(o),void 0!==a&&("repeat"===a[0]&&(c.wrapS=K.RepeatWrapping),"mirror"===a[0]&&(c.wrapS=K.MirroredRepeatWrapping),"repeat"===a[1]&&(c.wrapT=K.RepeatWrapping),"mirror"===a[1]&&(c.wrapT=K.MirroredRepeatWrapping)),void 0!==s&&(c.anisotropy=s);var l=K.Math.generateUUID();return n[l]=c,l}var o={uuid:K.Math.generateUUID(),type:"MeshLambertMaterial"};for(var a in t){var s=t[a];switch(a){case"DbgColor":o.color=s;break;case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":o.name=s;break;case"blending":o.blending=K[s];break;case"colorDiffuse":o.color=N.fromArray(s).getHex();break;case"colorSpecular":o.specular=N.fromArray(s).getHex();break;case"colorEmissive":o.emissive=N.fromArray(s).getHex();break;case"specularCoef":o.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(o.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(o.type="MeshPhongMaterial");break;case"mapDiffuse":o.map=i(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":o.lightMap=i(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":o.aoMap=i(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":o.bumpMap=i(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":o.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":o.normalMap=i(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":o.normalScale=[s,s];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":o.specularMap=i(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":o.alphaMap=i(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":o.side=K.BackSide;break;case"doubleSided":o.side=K.DoubleSide;break;case"transparency":console.warn("THREE.Loader: transparency has been renamed to opacity"),o.opacity=s;break;case"opacity":case"transparent":case"depthTest":case"depthWrite":case"transparent":case"visible":case"wireframe":o[a]=s;break;case"vertexColors":!0===s&&(o.vertexColors=K.VertexColors),"face"===s&&(o.vertexColors=K.FaceColors);break;default:console.error("Loader.createMaterial: Unsupported",a,s)}}return"MeshPhongMaterial"!==o.type&&delete o.specular,o.opacity<1&&(o.transparent=!0),B.setTextures(n),B.parse(o)}},K.Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,r=0,n=e.length;r<n;r+=2){var i=e[r],o=e[r+1];if(i.test(t))return o}return null}},K.XHRLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager},K.XHRLoader.prototype={constructor:K.XHRLoader,load:function(t,e,r,n){var i=this,o=K.Cache.get(t);if(void 0!==o)return e&&setTimeout(function(){e(o)},0),o;var a=new XMLHttpRequest;return a.open("GET",t,!0),a.addEventListener("load",function(r){var n=r.target.response;K.Cache.add(t,n),e&&e(n),i.manager.itemEnd(t)},!1),void 0!==r&&a.addEventListener("progress",function(t){r(t)},!1),a.addEventListener("error",function(e){n&&n(e),i.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.send(null),i.manager.itemStart(t),a},setResponseType:function(t){this.responseType=t},setCrossOrigin:function(t){this.crossOrigin=t},setWithCredentials:function(t){this.withCredentials=t}},K.ImageLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager},K.ImageLoader.prototype={constructor:K.ImageLoader,load:function(t,e,r,n){var i=this,o=K.Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),e?setTimeout(function(){e(o),i.manager.itemEnd(t)},0):i.manager.itemEnd(t),o;var a=document.createElement("img");return a.addEventListener("load",function(r){K.Cache.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),void 0!==r&&a.addEventListener("progress",function(t){r(t)},!1),a.addEventListener("error",function(e){n&&n(e),i.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){this.crossOrigin=t}},K.JSONLoader=function(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:K.DefaultLoadingManager,this.withCredentials=!1},K.JSONLoader.prototype={constructor:K.JSONLoader,get statusDomElement(){return void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div")),console.warn("THREE.JSONLoader: .statusDomElement has been removed."),this._statusDomElement},load:function(t,e,r,n){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:K.Loader.prototype.extractUrlBase(t),a=new K.XHRLoader(this.manager);a.setCrossOrigin(this.crossOrigin),a.setWithCredentials(this.withCredentials),a.load(t,function(r){var n=JSON.parse(r),a=n.metadata;if(void 0!==a){if("object"===a.type)return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.type)return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}var s=i.parse(n,o);e(s.geometry,s.materials)})},setCrossOrigin:function(t){this.crossOrigin=t},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var r=new K.Geometry,n=void 0!==t.scale?1/t.scale:1;if(function(e){function n(t,e){return t&1<<e}var i,o,a,s,c,u,h,l,f,p,d,m,v,g,y,_,b,x,w,T,S,M,E,A,C,P,O,R=t.faces,L=t.vertices,k=t.normals,D=t.colors,I=0;if(void 0!==t.uvs){for(i=0;i<t.uvs.length;i++)t.uvs[i].length&&I++;for(i=0;i<I;i++)r.faceVertexUvs[i]=[]}s=0,c=L.length;for(;s<c;)(x=new K.Vector3).x=L[s++]*e,x.y=L[s++]*e,x.z=L[s++]*e,r.vertices.push(x);s=0,c=R.length;for(;s<c;)if(p=R[s++],d=n(p,0),m=n(p,1),v=n(p,3),g=n(p,4),y=n(p,5),_=n(p,6),b=n(p,7),d){if((T=new K.Face3).a=R[s],T.b=R[s+1],T.c=R[s+3],(S=new K.Face3).a=R[s+1],S.b=R[s+2],S.c=R[s+3],s+=4,m&&(f=R[s++],T.materialIndex=f,S.materialIndex=f),a=r.faces.length,v)for(i=0;i<I;i++)for(A=t.uvs[i],r.faceVertexUvs[i][a]=[],r.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)l=R[s++],P=A[2*l],O=A[2*l+1],C=new K.Vector2(P,O),2!==o&&r.faceVertexUvs[i][a].push(C),0!==o&&r.faceVertexUvs[i][a+1].push(C);if(g&&(h=3*R[s++],T.normal.set(k[h++],k[h++],k[h]),S.normal.copy(T.normal)),y)for(i=0;i<4;i++)h=3*R[s++],E=new K.Vector3(k[h++],k[h++],k[h]),2!==i&&T.vertexNormals.push(E),0!==i&&S.vertexNormals.push(E);if(_&&(u=R[s++],M=D[u],T.color.setHex(M),S.color.setHex(M)),b)for(i=0;i<4;i++)u=R[s++],M=D[u],2!==i&&T.vertexColors.push(new K.Color(M)),0!==i&&S.vertexColors.push(new K.Color(M));r.faces.push(T),r.faces.push(S)}else{if((w=new K.Face3).a=R[s++],w.b=R[s++],w.c=R[s++],m&&(f=R[s++],w.materialIndex=f),a=r.faces.length,v)for(i=0;i<I;i++)for(A=t.uvs[i],r.faceVertexUvs[i][a]=[],o=0;o<3;o++)l=R[s++],P=A[2*l],O=A[2*l+1],C=new K.Vector2(P,O),r.faceVertexUvs[i][a].push(C);if(g&&(h=3*R[s++],w.normal.set(k[h++],k[h++],k[h])),y)for(i=0;i<3;i++)h=3*R[s++],E=new K.Vector3(k[h++],k[h++],k[h]),w.vertexNormals.push(E);if(_&&(u=R[s++],w.color.setHex(D[u])),b)for(i=0;i<3;i++)u=R[s++],w.vertexColors.push(new K.Color(D[u]));r.faces.push(w)}}(n),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,i=t.skinWeights.length;n<i;n+=e){var o=t.skinWeights[n],a=e>1?t.skinWeights[n+1]:0,s=e>2?t.skinWeights[n+2]:0,c=e>3?t.skinWeights[n+3]:0;r.skinWeights.push(new K.Vector4(o,a,s,c))}if(t.skinIndices)for(var n=0,i=t.skinIndices.length;n<i;n+=e){var u=t.skinIndices[n],h=e>1?t.skinIndices[n+1]:0,l=e>2?t.skinIndices[n+2]:0,f=e>3?t.skinIndices[n+3]:0;r.skinIndices.push(new K.Vector4(u,h,l,f))}r.bones=t.bones,r.bones&&r.bones.length>0&&(r.skinWeights.length!==r.skinIndices.length||r.skinIndices.length!==r.vertices.length)&&console.warn("When skinning, number of vertices ("+r.vertices.length+"), skinIndices ("+r.skinIndices.length+"), and skinWeights ("+r.skinWeights.length+") should match.")}(),function(e){if(void 0!==t.morphTargets)for(var n=0,i=t.morphTargets.length;n<i;n++){r.morphTargets[n]={},r.morphTargets[n].name=t.morphTargets[n].name,r.morphTargets[n].vertices=[];for(var o=r.morphTargets[n].vertices,a=t.morphTargets[n].vertices,s=0,c=a.length;s<c;s+=3){var u=new K.Vector3;u.x=a[s]*e,u.y=a[s+1]*e,u.z=a[s+2]*e,o.push(u)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=r.faces,l=t.morphColors[0].colors,n=0,i=h.length;n<i;n++)h[n].color.fromArray(l,3*n)}}(n),function(){var e=[],n=[];void 0!==t.animation&&n.push(t.animation);void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var i=0;i<n.length;i++){var o=K.AnimationClip.parseAnimation(n[i],r.bones);o&&e.push(o)}if(r.morphTargets){var a=K.AnimationClip.CreateClipsFromMorphTargetSequences(r.morphTargets,10);e=e.concat(a)}e.length>0&&(r.animations=e)}(),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:r};var i=K.Loader.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:r,materials:i}}},K.LoadingManager=function(t,e,r){var n=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(t){a++,!1===i&&void 0!==n.onStart&&n.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==n.onProgress&&n.onProgress(t,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)}},K.DefaultLoadingManager=new K.LoadingManager,K.BufferGeometryLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager},K.BufferGeometryLoader.prototype={constructor:K.BufferGeometryLoader,load:function(t,e,r,n){var i=this,o=new K.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=new K.BufferGeometry,r=t.data.index;if(void 0!==r){var n=new Y[r.type](r.array);e.setIndex(new K.BufferAttribute(n,1))}var i=t.data.attributes;for(var o in i){var a=i[o];n=new Y[a.type](a.array);e.addAttribute(o,new K.BufferAttribute(n,a.itemSize))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,u=s.length;c!==u;++c){var h=s[c];e.addGroup(h.start,h.count)}var l=t.data.boundingSphere;if(void 0!==l){var f=new K.Vector3;void 0!==l.center&&f.fromArray(l.center),e.boundingSphere=new K.Sphere(f,l.radius)}return e}},K.MaterialLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager,this.textures={}},K.MaterialLoader.prototype={constructor:K.MaterialLoader,load:function(t,e,r,n){var i=this,o=new K.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},setCrossOrigin:function(t){this.crossOrigin=t},setTextures:function(t){this.textures=t},getTexture:function(t){var e=this.textures;return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]},parse:function(t){var e=new K[t.type];if(e.uuid=t.uuid,void 0!==t.name&&(e.name=t.name),void 0!==t.color&&e.color.setHex(t.color),void 0!==t.emissive&&e.emissive.setHex(t.emissive),void 0!==t.specular&&e.specular.setHex(t.specular),void 0!==t.shininess&&(e.shininess=t.shininess),void 0!==t.uniforms&&(e.uniforms=t.uniforms),void 0!==t.vertexShader&&(e.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(e.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(e.vertexColors=t.vertexColors),void 0!==t.shading&&(e.shading=t.shading),void 0!==t.blending&&(e.blending=t.blending),void 0!==t.side&&(e.side=t.side),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.transparent&&(e.transparent=t.transparent),void 0!==t.alphaTest&&(e.alphaTest=t.alphaTest),void 0!==t.depthTest&&(e.depthTest=t.depthTest),void 0!==t.depthWrite&&(e.depthWrite=t.depthWrite),void 0!==t.wireframe&&(e.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(e.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.size&&(e.size=t.size),void 0!==t.sizeAttenuation&&(e.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(e.map=this.getTexture(t.map)),void 0!==t.alphaMap&&(e.alphaMap=this.getTexture(t.alphaMap),e.transparent=!0),void 0!==t.bumpMap&&(e.bumpMap=this.getTexture(t.bumpMap)),void 0!==t.bumpScale&&(e.bumpScale=t.bumpScale),void 0!==t.normalMap&&(e.normalMap=this.getTexture(t.normalMap)),t.normalScale&&(e.normalScale=new K.Vector2(t.normalScale,t.normalScale)),void 0!==t.displacementMap&&(e.displacementMap=this.getTexture(t.displacementMap)),void 0!==t.displacementScale&&(e.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(e.displacementBias=t.displacementBias),void 0!==t.specularMap&&(e.specularMap=this.getTexture(t.specularMap)),void 0!==t.envMap&&(e.envMap=this.getTexture(t.envMap),e.combine=K.MultiplyOperation),t.reflectivity&&(e.reflectivity=t.reflectivity),void 0!==t.lightMap&&(e.lightMap=this.getTexture(t.lightMap)),void 0!==t.lightMapIntensity&&(e.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(e.aoMap=this.getTexture(t.aoMap)),void 0!==t.aoMapIntensity&&(e.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials)for(var r=0,n=t.materials.length;r<n;r++)e.materials.push(this.parse(t.materials[r]));return e}},K.ObjectLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager,this.texturePath=""},K.ObjectLoader.prototype={constructor:K.ObjectLoader,load:function(t,e,r,n){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this,o=new K.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(t,function(t){i.parse(JSON.parse(t),e)},r,n)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var r=this.parseGeometries(t.geometries),n=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,r,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var r=new K.JSONLoader,n=new K.BufferGeometryLoader,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new K[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"CubeGeometry":a=new K.BoxGeometry(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleBufferGeometry":a=new K.CircleBufferGeometry(s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CircleGeometry":a=new K.CircleGeometry(s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":a=new K.CylinderGeometry(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":a=new K.SphereGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"SphereBufferGeometry":a=new K.SphereBufferGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":a=new K.DodecahedronGeometry(s.radius,s.detail);break;case"IcosahedronGeometry":a=new K.IcosahedronGeometry(s.radius,s.detail);break;case"OctahedronGeometry":a=new K.OctahedronGeometry(s.radius,s.detail);break;case"TetrahedronGeometry":a=new K.TetrahedronGeometry(s.radius,s.detail);break;case"RingGeometry":a=new K.RingGeometry(s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":a=new K.TorusGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":a=new K.TorusKnotGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.p,s.q,s.heightScale);break;case"BufferGeometry":a=n.parse(s);break;case"Geometry":a=r.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var r={};if(void 0!==t){var n=new K.MaterialLoader;n.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=n.parse(t[i]);r[a.uuid]=a}}return r},parseAnimations:function(t){for(var e=[],r=0;r<t.length;r++){var n=K.AnimationClip.parse(t[r]);e.push(n)}return e},parseImages:function(t,e){var r=this,n={};function i(t){return r.manager.itemStart(t),a.load(t,function(){r.manager.itemEnd(t)})}if(void 0!==t&&t.length>0){var o=new K.LoadingManager(e),a=new K.ImageLoader(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,c=t.length;s<c;s++){var u=t[s],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:r.texturePath+u.url;n[u.uuid]=i(h)}}return n},parseTextures:function(t,e){function r(t){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),K[t])}var n={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a=t[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new K.Texture(e[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=r(a.mapping)),void 0!==a.offset&&(s.offset=new K.Vector2(a.offset[0],a.offset[1])),void 0!==a.repeat&&(s.repeat=new K.Vector2(a.repeat[0],a.repeat[1])),void 0!==a.minFilter&&(s.minFilter=r(a.minFilter)),void 0!==a.magFilter&&(s.magFilter=r(a.magFilter)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),Array.isArray(a.wrap)&&(s.wrapS=r(a.wrap[0]),s.wrapT=r(a.wrap[1])),n[a.uuid]=s}return n},parseObject:function(){var t=new K.Matrix4;return function(e,r,n){var i;function o(t){return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),r[t]}function a(t){if(void 0!==t)return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}switch(e.type){case"Scene":i=new K.Scene;break;case"PerspectiveCamera":i=new K.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);break;case"OrthographicCamera":i=new K.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":i=new K.AmbientLight(e.color);break;case"DirectionalLight":i=new K.DirectionalLight(e.color,e.intensity);break;case"PointLight":i=new K.PointLight(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":i=new K.SpotLight(e.color,e.intensity,e.distance,e.angle,e.exponent,e.decay);break;case"HemisphereLight":i=new K.HemisphereLight(e.color,e.groundColor,e.intensity);break;case"Mesh":i=new K.Mesh(o(e.geometry),a(e.material));break;case"LOD":i=new K.LOD;break;case"Line":i=new K.Line(o(e.geometry),a(e.material),e.mode);break;case"PointCloud":case"Points":i=new K.Points(o(e.geometry),a(e.material));break;case"Sprite":i=new K.Sprite(a(e.material));break;case"Group":i=new K.Group;break;default:i=new K.Object3D}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.children)for(var s in e.children)i.add(this.parseObject(e.children[s],r,n));if("LOD"===e.type)for(var c=e.levels,u=0;u<c.length;u++){var h=c[u];void 0!==(s=i.getObjectByProperty("uuid",h.object))&&i.addLevel(s,h.distance)}return i}}()},K.TextureLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager},K.TextureLoader.prototype={constructor:K.TextureLoader,load:function(t,e,r,n){var i=new K.Texture,o=new K.ImageLoader(this.manager);return o.setCrossOrigin(this.crossOrigin),o.load(t,function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)},r,n),i},setCrossOrigin:function(t){this.crossOrigin=t}},K.CubeTextureLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager},K.CubeTextureLoader.prototype={constructor:K.CubeTextureLoader,load:function(t,e,r,n){var i=new K.CubeTexture([]),o=new K.ImageLoader;o.setCrossOrigin(this.crossOrigin);var a=0;function s(r){o.load(t[r],function(t){i.images[r]=t,6===++a&&(i.needsUpdate=!0,e&&e(i))},void 0,n)}for(var c=0;c<t.length;++c)s(c);return i},setCrossOrigin:function(t){this.crossOrigin=t}},K.DataTextureLoader=K.BinaryTextureLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager,this._parser=null},K.BinaryTextureLoader.prototype={constructor:K.BinaryTextureLoader,load:function(t,e,r,n){var i=this,o=new K.DataTexture,a=new K.XHRLoader(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setResponseType("arraybuffer"),a.load(t,function(t){var r=i._parser(t);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:K.ClampToEdgeWrapping,o.wrapT=void 0!==r.wrapT?r.wrapT:K.ClampToEdgeWrapping,o.magFilter=void 0!==r.magFilter?r.magFilter:K.LinearFilter,o.minFilter=void 0!==r.minFilter?r.minFilter:K.LinearMipMapLinearFilter,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps),1===r.mipmapCount&&(o.minFilter=K.LinearFilter),o.needsUpdate=!0,e&&e(o,r))},r,n),o},setCrossOrigin:function(t){this.crossOrigin=t}},K.CompressedTextureLoader=function(t){this.manager=void 0!==t?t:K.DefaultLoadingManager,this._parser=null},K.CompressedTextureLoader.prototype={constructor:K.CompressedTextureLoader,load:function(t,e,r,n){var i=this,o=[],a=new K.CompressedTexture;a.image=o;var s=new K.XHRLoader(this.manager);if(s.setCrossOrigin(this.crossOrigin),s.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,u=function(u){s.load(t[u],function(t){var r=i._parser(t,!0);o[u]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(c+=1)&&(1===r.mipmapCount&&(a.minFilter=K.LinearFilter),a.format=r.format,a.needsUpdate=!0,e&&e(a))},r,n)},h=0,l=t.length;h<l;++h)u(h);else s.load(t,function(t){var r=i._parser(t,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){o[s]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)o[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+c]),o[s].format=r.format,o[s].width=r.width,o[s].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=K.LinearFilter),a.format=r.format,a.needsUpdate=!0,e&&e(a)},r,n);return a},setCrossOrigin:function(t){this.crossOrigin=t}},K.Material=function(){Object.defineProperty(this,"id",{value:K.MaterialIdCount++}),this.uuid=K.Math.generateUUID(),this.name="",this.type="Material",this.side=K.FrontSide,this.opacity=1,this.transparent=!1,this.blending=K.NormalBlending,this.blendSrc=K.SrcAlphaFactor,this.blendDst=K.OneMinusSrcAlphaFactor,this.blendEquation=K.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=K.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},K.Material.prototype={constructor:K.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var r=t[e];if(void 0!==r){var n=this[e];void 0!==n?n instanceof K.Color?n.set(r):n instanceof K.Vector3&&r instanceof K.Vector3?n.copy(r):this[e]="overdraw"===e?Number(r):r:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};return e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),this.color instanceof K.Color&&(e.color=this.color.getHex()),this.emissive instanceof K.Color&&(e.emissive=this.emissive.getHex()),this.specular instanceof K.Color&&(e.specular=this.specular.getHex()),void 0!==this.shininess&&(e.shininess=this.shininess),this.map instanceof K.Texture&&(e.map=this.map.toJSON(t).uuid),this.alphaMap instanceof K.Texture&&(e.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap instanceof K.Texture&&(e.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap instanceof K.Texture&&(e.bumpMap=this.bumpMap.toJSON(t).uuid,e.bumpScale=this.bumpScale),this.normalMap instanceof K.Texture&&(e.normalMap=this.normalMap.toJSON(t).uuid,e.normalScale=this.normalScale),this.displacementMap instanceof K.Texture&&(e.displacementMap=this.displacementMap.toJSON(t).uuid,e.displacementScale=this.displacementScale,e.displacementBias=this.displacementBias),this.specularMap instanceof K.Texture&&(e.specularMap=this.specularMap.toJSON(t).uuid),this.envMap instanceof K.Texture&&(e.envMap=this.envMap.toJSON(t).uuid,e.reflectivity=this.reflectivity),void 0!==this.size&&(e.size=this.size),void 0!==this.sizeAttenuation&&(e.sizeAttenuation=this.sizeAttenuation),void 0!==this.vertexColors&&this.vertexColors!==K.NoColors&&(e.vertexColors=this.vertexColors),void 0!==this.shading&&this.shading!==K.SmoothShading&&(e.shading=this.shading),void 0!==this.blending&&this.blending!==K.NormalBlending&&(e.blending=this.blending),void 0!==this.side&&this.side!==K.FrontSide&&(e.side=this.side),this.opacity<1&&(e.opacity=this.opacity),!0===this.transparent&&(e.transparent=this.transparent),this.alphaTest>0&&(e.alphaTest=this.alphaTest),!0===this.wireframe&&(e.wireframe=this.wireframe),this.wireframeLinewidth>1&&(e.wireframeLinewidth=this.wireframeLinewidth),e},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.side=t.side,this.opacity=t.opacity,this.transparent=t.transparent,this.blending=t.blending,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.overdraw=t.overdraw,this.visible=t.visible,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})},get wrapAround(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set wrapAround(t){console.warn("THREE."+this.type+": .wrapAround has been removed.")},get wrapRGB(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new K.Color}},K.EventDispatcher.prototype.apply(K.Material.prototype),K.MaterialIdCount=0,K.LineBasicMaterial=function(t){K.Material.call(this),this.type="LineBasicMaterial",this.color=new K.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=K.NoColors,this.fog=!0,this.setValues(t)},K.LineBasicMaterial.prototype=Object.create(K.Material.prototype),K.LineBasicMaterial.prototype.constructor=K.LineBasicMaterial,K.LineBasicMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.vertexColors=t.vertexColors,this.fog=t.fog,this},K.LineDashedMaterial=function(t){K.Material.call(this),this.type="LineDashedMaterial",this.color=new K.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(t)},K.LineDashedMaterial.prototype=Object.create(K.Material.prototype),K.LineDashedMaterial.prototype.constructor=K.LineDashedMaterial,K.LineDashedMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this.vertexColors=t.vertexColors,this.fog=t.fog,this},K.MeshBasicMaterial=function(t){K.Material.call(this),this.type="MeshBasicMaterial",this.color=new K.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=K.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=K.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(t)},K.MeshBasicMaterial.prototype=Object.create(K.Material.prototype),K.MeshBasicMaterial.prototype.constructor=K.MeshBasicMaterial,K.MeshBasicMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.fog=t.fog,this.shading=t.shading,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},K.MeshLambertMaterial=function(t){K.Material.call(this),this.type="MeshLambertMaterial",this.color=new K.Color(16777215),this.emissive=new K.Color(0),this.map=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=K.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},K.MeshLambertMaterial.prototype=Object.create(K.Material.prototype),K.MeshLambertMaterial.prototype.constructor=K.MeshLambertMaterial,K.MeshLambertMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.emissive.copy(t.emissive),this.map=t.map,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.fog=t.fog,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},K.MeshPhongMaterial=function(t){K.Material.call(this),this.type="MeshPhongMaterial",this.color=new K.Color(16777215),this.emissive=new K.Color(0),this.specular=new K.Color(1118481),this.shininess=30,this.metal=!1,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new K.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=K.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=K.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},K.MeshPhongMaterial.prototype=Object.create(K.Material.prototype),K.MeshPhongMaterial.prototype.constructor=K.MeshPhongMaterial,K.MeshPhongMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.emissive.copy(t.emissive),this.specular.copy(t.specular),this.shininess=t.shininess,this.metal=t.metal,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissiveMap=t.emissiveMap,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.fog=t.fog,this.shading=t.shading,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},K.MeshDepthMaterial=function(t){K.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)},K.MeshDepthMaterial.prototype=Object.create(K.Material.prototype),K.MeshDepthMaterial.prototype.constructor=K.MeshDepthMaterial,K.MeshDepthMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},K.MeshNormalMaterial=function(t){K.Material.call(this,t),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(t)},K.MeshNormalMaterial.prototype=Object.create(K.Material.prototype),K.MeshNormalMaterial.prototype.constructor=K.MeshNormalMaterial,K.MeshNormalMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},K.MultiMaterial=function(t){this.uuid=K.Math.generateUUID(),this.type="MultiMaterial",this.materials=t instanceof Array?t:[],this.visible=!0},K.MultiMaterial.prototype={constructor:K.MultiMaterial,toJSON:function(){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},e=0,r=this.materials.length;e<r;e++)t.materials.push(this.materials[e].toJSON());return t.visible=this.visible,t},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},K.MeshFaceMaterial=K.MultiMaterial,K.PointsMaterial=function(t){K.Material.call(this),this.type="PointsMaterial",this.color=new K.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=K.NoColors,this.fog=!0,this.setValues(t)},K.PointsMaterial.prototype=Object.create(K.Material.prototype),K.PointsMaterial.prototype.constructor=K.PointsMaterial,K.PointsMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.vertexColors=t.vertexColors,this.fog=t.fog,this},K.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new K.PointsMaterial(t)},K.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new K.PointsMaterial(t)},K.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new K.PointsMaterial(t)},K.ShaderMaterial=function(t){K.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=K.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=K.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.derivatives=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))},K.ShaderMaterial.prototype=Object.create(K.Material.prototype),K.ShaderMaterial.prototype.constructor=K.ShaderMaterial,K.ShaderMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=K.UniformsUtils.clone(t.uniforms),this.attributes=t.attributes,this.defines=t.defines,this.shading=t.shading,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.derivatives=t.derivatives,this},K.ShaderMaterial.prototype.toJSON=function(t){var e=K.Material.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.attributes=this.attributes,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},K.RawShaderMaterial=function(t){K.ShaderMaterial.call(this,t),this.type="RawShaderMaterial"},K.RawShaderMaterial.prototype=Object.create(K.ShaderMaterial.prototype),K.RawShaderMaterial.prototype.constructor=K.RawShaderMaterial,K.SpriteMaterial=function(t){K.Material.call(this),this.type="SpriteMaterial",this.color=new K.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(t)},K.SpriteMaterial.prototype=Object.create(K.Material.prototype),K.SpriteMaterial.prototype.constructor=K.SpriteMaterial,K.SpriteMaterial.prototype.copy=function(t){return K.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.fog=t.fog,this},K.Texture=function(t,e,r,n,i,o,a,s,c){Object.defineProperty(this,"id",{value:K.TextureIdCount++}),this.uuid=K.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==t?t:K.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:K.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:K.ClampToEdgeWrapping,this.wrapT=void 0!==n?n:K.ClampToEdgeWrapping,this.magFilter=void 0!==i?i:K.LinearFilter,this.minFilter=void 0!==o?o:K.LinearMipMapLinearFilter,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:K.RGBAFormat,this.type=void 0!==s?s:K.UnsignedByteType,this.offset=new K.Vector2(0,0),this.repeat=new K.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.version=0,this.onUpdate=null},K.Texture.DEFAULT_IMAGE=void 0,K.Texture.DEFAULT_MAPPING=K.UVMapping,K.Texture.prototype={constructor:K.Texture,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=K.Math.generateUUID()),void 0===t.images[r.uuid]&&(t.images[r.uuid]={uuid:r.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:((e=document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(r)}),e.image=r.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===K.UVMapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case K.RepeatWrapping:t.x=t.x-Math.floor(t.x);break;case K.ClampToEdgeWrapping:t.x=t.x<0?0:1;break;case K.MirroredRepeatWrapping:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case K.RepeatWrapping:t.y=t.y-Math.floor(t.y);break;case K.ClampToEdgeWrapping:t.y=t.y<0?0:1;break;case K.MirroredRepeatWrapping:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},K.EventDispatcher.prototype.apply(K.Texture.prototype),K.TextureIdCount=0,K.CanvasTexture=function(t,e,r,n,i,o,a,s,c){K.Texture.call(this,t,e,r,n,i,o,a,s,c),this.needsUpdate=!0},K.CanvasTexture.prototype=Object.create(K.Texture.prototype),K.CanvasTexture.prototype.constructor=K.CanvasTexture,K.CubeTexture=function(t,e,r,n,i,o,a,s,c){e=void 0!==e?e:K.CubeReflectionMapping,K.Texture.call(this,t,e,r,n,i,o,a,s,c),this.images=t,this.flipY=!1},K.CubeTexture.prototype=Object.create(K.Texture.prototype),K.CubeTexture.prototype.constructor=K.CubeTexture,K.CubeTexture.prototype.copy=function(t){return K.Texture.prototype.copy.call(this,t),this.images=t.images,this},K.CompressedTexture=function(t,e,r,n,i,o,a,s,c,u,h){K.Texture.call(this,null,o,a,s,c,u,n,i,h),this.image={width:e,height:r},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1},K.CompressedTexture.prototype=Object.create(K.Texture.prototype),K.CompressedTexture.prototype.constructor=K.CompressedTexture,K.DataTexture=function(t,e,r,n,i,o,a,s,c,u,h){K.Texture.call(this,null,o,a,s,c,u,n,i,h),this.image={data:t,width:e,height:r},this.magFilter=void 0!==c?c:K.NearestFilter,this.minFilter=void 0!==u?u:K.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},K.DataTexture.prototype=Object.create(K.Texture.prototype),K.DataTexture.prototype.constructor=K.DataTexture,K.VideoTexture=function(t,e,r,n,i,o,a,s,c){K.Texture.call(this,t,e,r,n,i,o,a,s,c),this.generateMipmaps=!1;var u=this;!function e(){requestAnimationFrame(e),t.readyState===t.HAVE_ENOUGH_DATA&&(u.needsUpdate=!0)}()},K.VideoTexture.prototype=Object.create(K.Texture.prototype),K.VideoTexture.prototype.constructor=K.VideoTexture,K.Group=function(){K.Object3D.call(this),this.type="Group"},K.Group.prototype=Object.create(K.Object3D.prototype),K.Group.prototype.constructor=K.Group,K.Points=function(t,e){K.Object3D.call(this),this.type="Points",this.geometry=void 0!==t?t:new K.Geometry,this.material=void 0!==e?e:new K.PointsMaterial({color:16777215*Math.random()})},K.Points.prototype=Object.create(K.Object3D.prototype),K.Points.prototype.constructor=K.Points,K.Points.prototype.raycast=(U=new K.Matrix4,V=new K.Ray,function(t,e){var r=this,n=r.geometry,i=t.params.Points.threshold;if(U.getInverse(this.matrixWorld),V.copy(t.ray).applyMatrix4(U),null===n.boundingBox||!1!==V.isIntersectionBox(n.boundingBox)){var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new K.Vector3;if(n instanceof K.BufferGeometry){var c=n.index,u=n.attributes.position.array;if(null!==c)for(var h=c.array,l=0,f=h.length;l<f;l++){var p=h[l];s.fromArray(u,3*p),v(s,p)}else{l=0;for(var d=u.length/3;l<d;l++)s.fromArray(u,3*l),v(s,l)}}else{var m=n.vertices;for(l=0,d=m.length;l<d;l++)v(m[l],l)}}function v(n,i){var o=V.distanceSqToPoint(n);if(o<a){var s=V.closestPointToPoint(n);s.applyMatrix4(r.matrixWorld);var c=t.ray.origin.distanceTo(s);if(c<t.near||c>t.far)return;e.push({distance:c,distanceToRay:Math.sqrt(o),point:s.clone(),index:i,face:null,object:r})}}}),K.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},K.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new K.Points(t,e)},K.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new K.Points(t,e)},K.Line=function(t,e,r){if(1===r)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new K.LineSegments(t,e);K.Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new K.Geometry,this.material=void 0!==e?e:new K.LineBasicMaterial({color:16777215*Math.random()})},K.Line.prototype=Object.create(K.Object3D.prototype),K.Line.prototype.constructor=K.Line,K.Line.prototype.raycast=function(){var t=new K.Matrix4,e=new K.Ray,r=new K.Sphere;return function(n,i){var o=n.linePrecision,a=o*o,s=this.geometry;if(null===s.boundingSphere&&s.computeBoundingSphere(),r.copy(s.boundingSphere),r.applyMatrix4(this.matrixWorld),!1!==n.ray.isIntersectionSphere(r)){t.getInverse(this.matrixWorld),e.copy(n.ray).applyMatrix4(t);var c=new K.Vector3,u=new K.Vector3,h=new K.Vector3,l=new K.Vector3,f=this instanceof K.LineSegments?2:1;if(s instanceof K.BufferGeometry){var p=s.index,d=s.attributes;if(null!==p)for(var m=p.array,v=d.position.array,g=0,y=m.length-1;g<y;g+=f){var _=m[g],b=m[g+1];if(c.fromArray(v,3*_),u.fromArray(v,3*b),!(e.distanceSqToSegment(c,u,l,h)>a))l.applyMatrix4(this.matrixWorld),(T=n.ray.origin.distanceTo(l))<n.near||T>n.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}else for(g=0,y=(v=d.position.array).length/3-1;g<y;g+=f){if(c.fromArray(v,3*g),u.fromArray(v,3*g+3),!(e.distanceSqToSegment(c,u,l,h)>a))l.applyMatrix4(this.matrixWorld),(T=n.ray.origin.distanceTo(l))<n.near||T>n.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else if(s instanceof K.Geometry){var x=s.vertices,w=x.length;for(g=0;g<w-1;g+=f){var T;if(!(e.distanceSqToSegment(x[g],x[g+1],l,h)>a))l.applyMatrix4(this.matrixWorld),(T=n.ray.origin.distanceTo(l))<n.near||T>n.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}}}(),K.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},K.LineStrip=0,K.LinePieces=1,K.LineSegments=function(t,e){K.Line.call(this,t,e),this.type="LineSegments"},K.LineSegments.prototype=Object.create(K.Line.prototype),K.LineSegments.prototype.constructor=K.LineSegments,K.Mesh=function(t,e){K.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new K.Geometry,this.material=void 0!==e?e:new K.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},K.Mesh.prototype=Object.create(K.Object3D.prototype),K.Mesh.prototype.constructor=K.Mesh,K.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,e=this.geometry.morphTargets.length;t<e;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[t].name]=t}},K.Mesh.prototype.getMorphTargetIndexByName=function(t){return void 0!==this.morphTargetDictionary[t]?this.morphTargetDictionary[t]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+t+" does not exist. Returning 0."),0)},K.Mesh.prototype.raycast=function(){var t=new K.Matrix4,e=new K.Ray,r=new K.Sphere,n=new K.Vector3,i=new K.Vector3,o=new K.Vector3,a=new K.Vector3,s=new K.Vector3,c=new K.Vector3,u=new K.Vector2,h=new K.Vector2,l=new K.Vector2,f=new K.Vector3,p=new K.Vector3,d=new K.Vector3;function m(t,e,r,n,i,o,a){return K.Triangle.barycoordFromPoint(t,e,r,n,f),i.multiplyScalar(f.x),o.multiplyScalar(f.y),a.multiplyScalar(f.z),i.add(o).add(a),i.clone()}function v(t,e,r,n,i,o,a){var s=t.material;if(null===(s.side===K.BackSide?r.intersectTriangle(o,i,n,!0,a):r.intersectTriangle(n,i,o,s.side!==K.DoubleSide,a)))return null;d.copy(a),d.applyMatrix4(t.matrixWorld);var c=e.ray.origin.distanceTo(d);return c<e.near||c>e.far?null:{distance:c,point:d.clone(),object:t}}function g(t,e,r,a,s,c,f,d){n.fromArray(a,3*c),i.fromArray(a,3*f),o.fromArray(a,3*d);var g=v(t,e,r,n,i,o,p);return g&&(s&&(u.fromArray(s,2*c),h.fromArray(s,2*f),l.fromArray(s,2*d),g.uv=m(p,n,i,o,u,h,l)),g.face=new K.Face3(c,f,d,K.Triangle.normal(n,i,o)),g.faceIndex=c),g}return function(f,d){var y=this.geometry,_=this.material;if(void 0!==_){null===y.boundingSphere&&y.computeBoundingSphere();var b,x,w=this.matrixWorld;if(r.copy(y.boundingSphere),r.applyMatrix4(w),!1!==f.ray.isIntersectionSphere(r))if(t.getInverse(w),e.copy(f.ray).applyMatrix4(t),null===y.boundingBox||!1!==e.isIntersectionBox(y.boundingBox))if(y instanceof K.BufferGeometry){var T,S,M,E=y.index,A=y.attributes,C=A.position.array;if(void 0!==A.uv&&(b=A.uv.array),null!==E)for(var P=E.array,O=0,R=P.length;O<R;O+=3)T=P[O],S=P[O+1],M=P[O+2],(x=g(this,f,e,C,b,T,S,M))&&(x.faceIndex=Math.floor(O/3),d.push(x));else for(O=0,R=C.length;O<R;O+=9)(x=g(this,f,e,C,b,T=O/3,S=T+1,M=T+2))&&(x.index=T,d.push(x))}else if(y instanceof K.Geometry){var L,k,D,I=_ instanceof K.MeshFaceMaterial,N=!0===I?_.materials:null,F=y.vertices,B=y.faces,U=y.faceVertexUvs[0];U.length>0&&(b=U);for(var V=0,j=B.length;V<j;V++){var G=B[V],z=!0===I?N[G.materialIndex]:_;if(void 0!==z){if(L=F[G.a],k=F[G.b],D=F[G.c],!0===z.morphTargets){var H=y.morphTargets,W=this.morphTargetInfluences;n.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var X=0,$=H.length;X<$;X++){var q=W[X];if(0!==q){var Y=H[X].vertices;n.addScaledVector(a.subVectors(Y[G.a],L),q),i.addScaledVector(s.subVectors(Y[G.b],k),q),o.addScaledVector(c.subVectors(Y[G.c],D),q)}}n.add(L),i.add(k),o.add(D),L=n,k=i,D=o}if(x=v(this,f,e,L,k,D,p)){if(b){var Q=b[V];u.copy(Q[0]),h.copy(Q[1]),l.copy(Q[2]),x.uv=m(p,L,k,D,u,h,l)}x.face=G,x.faceIndex=V,d.push(x)}}}}}}}(),K.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},K.Bone=function(t){K.Object3D.call(this),this.type="Bone",this.skin=t},K.Bone.prototype=Object.create(K.Object3D.prototype),K.Bone.prototype.constructor=K.Bone,K.Bone.prototype.copy=function(t){return K.Object3D.prototype.copy.call(this,t),this.skin=t.skin,this},K.Skeleton=function(t,e,r){if(this.useVertexTexture=void 0===r||r,this.identityMatrix=new K.Matrix4,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var n=Math.sqrt(4*this.bones.length);n=K.Math.nextPowerOfTwo(Math.ceil(n)),n=Math.max(n,4),this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new K.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,K.RGBAFormat,K.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new K.Matrix4)}},K.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new K.Matrix4;this.bones[t]&&r.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(r)}},K.Skeleton.prototype.pose=function(){for(var t,e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&(t.parent?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},K.Skeleton.prototype.update=(j=new K.Matrix4,function(){for(var t=0,e=this.bones.length;t<e;t++){var r=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;j.multiplyMatrices(r,this.boneInverses[t]),j.flattenToArrayOffset(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}),K.Skeleton.prototype.clone=function(){return new K.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)},K.SkinnedMesh=function(t,e,r){K.Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new K.Matrix4,this.bindMatrixInverse=new K.Matrix4;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new K.Bone(this),n.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(a=0,s=this.geometry.bones.length;a<s;++a)-1!==(o=this.geometry.bones[a]).parent&&null!==o.parent?n[o.parent].add(n[a]):this.add(n[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new K.Skeleton(n,void 0,r),this.matrixWorld)},K.SkinnedMesh.prototype=Object.create(K.Mesh.prototype),K.SkinnedMesh.prototype.constructor=K.SkinnedMesh,K.SkinnedMesh.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},K.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},K.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof K.Geometry)for(var t=0;t<this.geometry.skinIndices.length;t++){var e=this.geometry.skinWeights[t],r=1/e.lengthManhattan();r!==1/0?e.multiplyScalar(r):e.set(1)}},K.SkinnedMesh.prototype.updateMatrixWorld=function(t){K.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},K.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)},K.LOD=function(){K.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}})},K.LOD.prototype=Object.create(K.Object3D.prototype),K.LOD.prototype.constructor=K.LOD,K.LOD.prototype.addLevel=function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var r=this.levels,n=0;n<r.length&&!(e<r[n].distance);n++);r.splice(n,0,{distance:e,object:t}),this.add(t)},K.LOD.prototype.getObjectForDistance=function(t){for(var e=this.levels,r=1,n=e.length;r<n&&!(t<e[r].distance);r++);return e[r-1].object},K.LOD.prototype.raycast=(G=new K.Vector3,function(t,e){G.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(G);this.getObjectForDistance(r).raycast(t,e)}),K.LOD.prototype.update=function(){var t=new K.Vector3,e=new K.Vector3;return function(r){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);n[0].object.visible=!0;for(var o=1,a=n.length;o<a&&i>=n[o].distance;o++)n[o-1].object.visible=!1,n[o].object.visible=!0;for(;o<a;o++)n[o].object.visible=!1}}}(),K.LOD.prototype.copy=function(t){K.Object3D.prototype.copy.call(this,t,!1);for(var e=t.levels,r=0,n=e.length;r<n;r++){var i=e[r];this.addLevel(i.object.clone(),i.distance)}return this},K.LOD.prototype.toJSON=function(t){var e=K.Object3D.prototype.toJSON.call(this,t);e.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var o=r[n];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e},K.Sprite=(z=new Uint16Array([0,1,2,0,2,3]),H=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),W=new Float32Array([0,0,1,0,1,1,0,1]),(X=new K.BufferGeometry).setIndex(new K.BufferAttribute(z,1)),X.addAttribute("position",new K.BufferAttribute(H,3)),X.addAttribute("uv",new K.BufferAttribute(W,2)),function(t){K.Object3D.call(this),this.type="Sprite",this.geometry=X,this.material=void 0!==t?t:new K.SpriteMaterial}),K.Sprite.prototype=Object.create(K.Object3D.prototype),K.Sprite.prototype.constructor=K.Sprite,K.Sprite.prototype.raycast=function(){var t=new K.Vector3;return function(e,r){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.distanceSqToPoint(t);n>this.scale.x*this.scale.y||r.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),K.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)},K.Particle=K.Sprite,K.LensFlare=function(t,e,r,n,i){K.Object3D.call(this),this.lensFlares=[],this.positionScreen=new K.Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,r,n,i)},K.LensFlare.prototype=Object.create(K.Object3D.prototype),K.LensFlare.prototype.constructor=K.LensFlare,K.LensFlare.prototype.add=function(t,e,r,n,i,o){void 0===e&&(e=-1),void 0===r&&(r=0),void 0===o&&(o=1),void 0===i&&(i=new K.Color(16777215)),void 0===n&&(n=K.NormalBlending),r=Math.min(r,Math.max(0,r)),this.lensFlares.push({texture:t,size:e,distance:r,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:n})},K.LensFlare.prototype.updateLensFlares=function(){var t,e,r=this.lensFlares.length,n=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<r;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+n*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)},K.LensFlare.prototype.copy=function(t){K.Object3D.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,r=t.lensFlares.length;e<r;e++)this.lensFlares.push(t.lensFlares[e]);return this},K.Scene=function(){K.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},K.Scene.prototype=Object.create(K.Object3D.prototype),K.Scene.prototype.constructor=K.Scene,K.Scene.prototype.copy=function(t){return K.Object3D.prototype.copy.call(this,t),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},K.Fog=function(t,e,r){this.name="",this.color=new K.Color(t),this.near=void 0!==e?e:1,this.far=void 0!==r?r:1e3},K.Fog.prototype.clone=function(){return new K.Fog(this.color.getHex(),this.near,this.far)},K.FogExp2=function(t,e){this.name="",this.color=new K.Color(t),this.density=void 0!==e?e:25e-5},K.FogExp2.prototype.clone=function(){return new K.FogExp2(this.color.getHex(),this.density)},K.ShaderChunk={},K.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",K.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",K.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",K.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\n\ttotalAmbientLight *= ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n#endif\n",K.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif",K.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",K.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",K.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n",K.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif",K.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",K.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif",K.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n\tvColor.xyz = color.xyz;\n\n#endif",K.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\n\n}\n\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\n\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n\n\tif ( decayExponent > 0.0 ) {\n\n\t  return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n}\n\nvec3 F_Schlick( in vec3 specularColor, in float dotLH ) {\n\n\n\tfloat fresnel = exp2( ( -5.55437 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* in float dotNL, in float dotNV */ ) {\n\n\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( in float shininess, in float dotNH ) {\n\n\n\treturn ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_BlinnPhong( in vec3 specularColor, in float shininess, in vec3 normal, in vec3 lightDir, in vec3 viewDir ) {\n\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( lightDir, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * G * D;\n\n}\n\nvec3 inputToLinear( in vec3 a ) {\n\n\t#ifdef GAMMA_INPUT\n\n\t\treturn pow( a, vec3( float( GAMMA_FACTOR ) ) );\n\n\t#else\n\n\t\treturn a;\n\n\t#endif\n\n}\n\nvec3 linearToOutput( in vec3 a ) {\n\n\t#ifdef GAMMA_OUTPUT\n\n\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n\n\t#else\n\n\t\treturn a;\n\n\t#endif\n\n}\n",K.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\n\tobjectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n",K.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n\n#endif\n",K.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n",K.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = inputToLinear( emissiveColor.rgb );\n\n\ttotalEmissiveLight *= emissiveColor.rgb;\n\n#endif\n",K.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n",K.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\n\tenvColor.xyz = inputToLinear( envColor.xyz );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",K.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tuniform float refractionRatio;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\n\t#endif\n\n#endif\n",K.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvarying vec3 vReflect;\n\n\tuniform float refractionRatio;\n\n#endif\n",K.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t#else\n\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t#endif\n\n#endif\n",K.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n\t#else\n\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\n\t#endif\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\t#endif\n\t\n\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif",K.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n\n#endif",K.ShaderChunk.hemilight_fragment="#if MAX_HEMI_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lightDir = hemisphereLightDirection[ i ];\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvec3 lightColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\ttotalAmbientLight += lightColor;\n\n\t}\n\n#endif\n\n",K.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n\ttotalAmbientLight += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n#endif\n",K.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif",K.ShaderChunk.lights_lambert_pars_vertex="#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n",K.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vec3( 0.0 );\n\n#endif\n\nvec3 normal = normalize( transformedNormal );\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = pointLightColor[ i ];\n\n\t\tvec3 lVector = pointLightPosition[ i ] - mvPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tvLightFront += lightColor * attenuation * saturate( dotProduct );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += lightColor * attenuation * saturate( - dotProduct );\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = spotLightColor[ i ];\n\n\t\tvec3 lightPosition = spotLightPosition[ i ];\n\t\tvec3 lVector = lightPosition - mvPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tattenuation *= spotEffect;\n\n\n\t\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\t\tvLightFront += lightColor * attenuation * saturate( dotProduct );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvLightBack += lightColor * attenuation * saturate( - dotProduct );\n\n\t\t\t#endif\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = directionalLightColor[ i ];\n\n\t\tvec3 lightDir = directionalLightDirection[ i ];\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tvLightFront += lightColor * saturate( dotProduct );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += lightColor * saturate( - dotProduct );\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lightDir = hemisphereLightDirection[ i ];\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tfloat hemiDiffuseWeightBack = - 0.5 * dotProduct + 0.5;\n\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n\t\t#endif\n\n\t}\n\n#endif\n",K.ShaderChunk.lights_phong_fragment="vec3 viewDir = normalize( vViewPosition );\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = pointLightColor[ i ];\n\n\t\tvec3 lightPosition = pointLightPosition[ i ];\n\t\tvec3 lVector = lightPosition + vViewPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\ttotalDiffuseLight += lightColor * attenuation * cosineTerm;\n\n\n\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\ttotalSpecularLight += brdf * specularStrength * lightColor * attenuation * cosineTerm;\n\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = spotLightColor[ i ];\n\n\t\tvec3 lightPosition = spotLightPosition[ i ];\n\t\tvec3 lVector = lightPosition + vViewPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tattenuation *= spotEffect;\n\n\n\t\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\t\ttotalDiffuseLight += lightColor * attenuation * cosineTerm;\n\n\n\t\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\t\ttotalSpecularLight += brdf * specularStrength * lightColor * attenuation * cosineTerm;\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = directionalLightColor[ i ];\n\n\t\tvec3 lightDir = directionalLightDirection[ i ];\n\n\n\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\ttotalDiffuseLight += lightColor * cosineTerm;\n\n\n\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\ttotalSpecularLight += brdf * specularStrength * lightColor * cosineTerm;\n\n\t}\n\n#endif\n",K.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n",K.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\n#endif\n",K.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n\tvWorldPosition = worldPosition.xyz;\n\n#endif\n",K.ShaderChunk.linear_to_gamma_fragment="\n\toutgoingLight = linearToOutput( outgoingLight );\n",K.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",K.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n\tuniform float logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n#endif\n",K.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n\tuniform float logDepthBufFC;\n\n#endif",K.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n\t#endif\n\n#endif",K.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor.xyz = inputToLinear( texelColor.xyz );\n\n\tdiffuseColor *= texelColor;\n\n#endif\n",K.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif",K.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n\tdiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n",K.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n\n#endif\n",K.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n#endif\n",K.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif",K.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n",K.ShaderChunk.normal_phong_fragment="#ifndef FLAT_SHADED\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n\t#endif\n\n#else\n\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\n",K.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n",K.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\n\tvec4 mvPosition = modelViewMatrix * skinned;\n\n#else\n\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n",K.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n\tfor ( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tfloat texelSizeY =  1.0 / shadowMapSize[ i ].y;\n\n\t\tfloat shadow = 0.0;\n\n#if defined( POINT_LIGHT_SHADOWS )\n\n\t\tbool isPointLight = shadowDarkness[ i ] < 0.0;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tfloat realShadowDarkness = abs( shadowDarkness[ i ] );\n\n\t\t\tvec3 lightToPosition = vShadowCoord[ i ].xyz;\n\n\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tfloat dp = length( lightToPosition );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tconst float Dr = 1.25;\n\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tconst float Dr = 2.25;\n\t#endif\n\n\t\t\tfloat os = Dr *  2.0 * texelSizeY;\n\n\t\t\tconst vec3 Gsd = vec3( - 1, 0, 1 );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tshadow *= realShadowDarkness * ( 1.0 / 21.0 );\n\n\t#else \n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tfloat dp = length( lightToPosition );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tshadow *= realShadowDarkness;\n\n\t#endif\n\n\t\t} else {\n\n#endif \n\t\t\tfloat texelSizeX =  1.0 / shadowMapSize[ i ].x;\n\n\t\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\n\t\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\t\tbool inFrustum = all( inFrustumVec );\n\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\t\tbool frustumTest = all( frustumTestVec );\n\n\t\t\tif ( frustumTest ) {\n\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\n\t\t\t\t/*\n\t\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\n\t\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\t\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\t\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\t\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\t\t\t\tshadow += 1.0;\n\t\t\t\t\t}\n\t\t\t\t\tshadow /= 9.0;\n\t\t\t\t*/\n\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tconst float ShadowDelta = 1.0 / 9.0;\n\n\t\t\t\tfloat xPixelOffset = texelSizeX;\n\t\t\t\tfloat yPixelOffset = texelSizeY;\n\n\t\t\t\tfloat dx0 = - 1.25 * xPixelOffset;\n\t\t\t\tfloat dy0 = - 1.25 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\n\n\t\t\t\tfloat fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tshadow *= shadowDarkness[ i ];\n\n\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tfloat xPixelOffset = texelSizeX;\n\t\t\t\tfloat yPixelOffset = texelSizeY;\n\n\t\t\t\tfloat dx0 = - 1.0 * xPixelOffset;\n\t\t\t\tfloat dy0 = - 1.0 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\n\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\n\t\t\t\tdepthKernel[ 0 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[ 0 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[ 0 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[ 1 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[ 1 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[ 1 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[ 0 ] = vec3( lessThan( depthKernel[ 0 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 0 ] *= vec3( 0.25 );\n\n\t\t\t\tshadowKernel[ 1 ] = vec3( lessThan( depthKernel[ 1 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 1 ] *= vec3( 0.25 );\n\n\t\t\t\tshadowKernel[ 2 ] = vec3( lessThan( depthKernel[ 2 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 2 ] *= vec3( 0.25 );\n\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[ i ].xy );\n\n\t\t\t\tshadowKernel[ 0 ] = mix( shadowKernel[ 1 ], shadowKernel[ 0 ], fractionalCoord.x );\n\t\t\t\tshadowKernel[ 1 ] = mix( shadowKernel[ 2 ], shadowKernel[ 1 ], fractionalCoord.x );\n\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[ 0 ][ 1 ], shadowKernel[ 0 ][ 0 ], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[ 0 ][ 2 ], shadowKernel[ 0 ][ 1 ], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[ 1 ][ 1 ], shadowKernel[ 1 ][ 0 ], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[ 1 ][ 2 ], shadowKernel[ 1 ][ 1 ], fractionalCoord.y );\n\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) ) * shadowDarkness[ i ];\n\n\t#else \n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\tshadow = shadowDarkness[ i ];\n\n\t#endif\n\n\t\t\t}\n\n#ifdef SHADOWMAP_DEBUG\n\n\t\t\tif ( inFrustum ) {\n\n\t\t\t\tif ( i == 0 ) {\n\n\t\t\t\t\toutgoingLight *= vec3( 1.0, 0.5, 0.0 );\n\n\t\t\t\t} else if ( i == 1 ) {\n\n\t\t\t\t\toutgoingLight *= vec3( 0.0, 1.0, 0.8 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toutgoingLight *= vec3( 0.0, 0.5, 1.0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n#endif\n\n#if defined( POINT_LIGHT_SHADOWS )\n\n\t\t}\n\n#endif\n\n\t\tshadowMask = shadowMask * vec3( 1.0 - shadow );\n\n\t}\n\n#endif\n",K.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform float shadowBias[ MAX_SHADOWS ];\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba_depth, bit_shift );\n\t\treturn depth;\n\n\t}\n\n\t#if defined(POINT_LIGHT_SHADOWS)\n\n\n\t\tvoid adjustShadowValue1K( const float testDepth, const vec4 textureData, const float bias, inout float shadowValue ) {\n\n\t\t\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\t\tif ( testDepth >= dot( textureData, bitSh ) * 1000.0 + bias )\n\t\t\t\tshadowValue += 1.0;\n\n\t\t}\n\n\n\t\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\n\t\t\tvec3 absV = abs( v );\n\n\n\t\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\t\tabsV *= scaleToCube;\n\n\n\t\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\n\n\t\t\tvec2 planar = v.xy;\n\n\t\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\t\tif ( absV.z >= almostOne ) {\n\n\t\t\t\tif ( v.z > 0.0 )\n\t\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\t\tfloat signX = sign( v.x );\n\t\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\t\tfloat signY = sign( v.y );\n\t\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t\t}\n\n\n\t\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t\t}\n\n\t#endif\n\n#endif\n",K.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n#endif",K.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n\tfor ( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n\t}\n\n#endif",K.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",K.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",K.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n\n#endif\n",K.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n#endif\n",K.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif",K.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif",K.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif",K.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n#endif",K.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvUv2 = uv2;\n\n#endif",K.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n\tvarying vec2 vUv;\n\n#endif",K.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n\n#endif\n",K.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",K.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n\t#ifdef USE_SKINNING\n\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\n\t#else\n\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\n\t#endif\n\n#endif\n",K.UniformsUtils={merge:function(t){for(var e={},r=0;r<t.length;r++){var n=this.clone(t[r]);for(var i in n)e[i]=n[i]}return e},clone:function(t){var e={};for(var r in t)for(var n in e[r]={},t[r]){var i=t[r][n];i instanceof K.Color||i instanceof K.Vector2||i instanceof K.Vector3||i instanceof K.Vector4||i instanceof K.Matrix3||i instanceof K.Matrix4||i instanceof K.Texture?e[r][n]=i.clone():Array.isArray(i)?e[r][n]=i.slice():e[r][n]=i}return e}},K.UniformsLib={common:{diffuse:{type:"c",value:new K.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new K.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new K.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new K.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},pointLightDecay:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]},spotLightDecay:{type:"fv1",value:[]}},points:{psColor:{type:"c",value:new K.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new K.Vector4(0,0,1,1)},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new K.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},K.ShaderLib={basic:{uniforms:K.UniformsUtils.merge([K.UniformsLib.common,K.UniformsLib.aomap,K.UniformsLib.fog,K.UniformsLib.shadowmap]),vertexShader:[K.ShaderChunk.common,K.ShaderChunk.uv_pars_vertex,K.ShaderChunk.uv2_pars_vertex,K.ShaderChunk.envmap_pars_vertex,K.ShaderChunk.color_pars_vertex,K.ShaderChunk.morphtarget_pars_vertex,K.ShaderChunk.skinning_pars_vertex,K.ShaderChunk.shadowmap_pars_vertex,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",K.ShaderChunk.uv_vertex,K.ShaderChunk.uv2_vertex,K.ShaderChunk.color_vertex,K.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",K.ShaderChunk.beginnormal_vertex,K.ShaderChunk.morphnormal_vertex,K.ShaderChunk.skinnormal_vertex,K.ShaderChunk.defaultnormal_vertex,"\t#endif",K.ShaderChunk.begin_vertex,K.ShaderChunk.morphtarget_vertex,K.ShaderChunk.skinning_vertex,K.ShaderChunk.project_vertex,K.ShaderChunk.logdepthbuf_vertex,K.ShaderChunk.worldpos_vertex,K.ShaderChunk.envmap_vertex,K.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",K.ShaderChunk.common,K.ShaderChunk.color_pars_fragment,K.ShaderChunk.uv_pars_fragment,K.ShaderChunk.uv2_pars_fragment,K.ShaderChunk.map_pars_fragment,K.ShaderChunk.alphamap_pars_fragment,K.ShaderChunk.aomap_pars_fragment,K.ShaderChunk.envmap_pars_fragment,K.ShaderChunk.fog_pars_fragment,K.ShaderChunk.shadowmap_pars_fragment,K.ShaderChunk.specularmap_pars_fragment,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = vec3( 1.0 );","\tvec3 shadowMask = vec3( 1.0 );",K.ShaderChunk.logdepthbuf_fragment,K.ShaderChunk.map_fragment,K.ShaderChunk.color_fragment,K.ShaderChunk.alphamap_fragment,K.ShaderChunk.alphatest_fragment,K.ShaderChunk.specularmap_fragment,K.ShaderChunk.aomap_fragment,K.ShaderChunk.shadowmap_fragment,"\toutgoingLight = diffuseColor.rgb * totalAmbientLight * shadowMask;",K.ShaderChunk.envmap_fragment,K.ShaderChunk.linear_to_gamma_fragment,K.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},lambert:{uniforms:K.UniformsUtils.merge([K.UniformsLib.common,K.UniformsLib.fog,K.UniformsLib.lights,K.UniformsLib.shadowmap,{emissive:{type:"c",value:new K.Color(0)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",K.ShaderChunk.common,K.ShaderChunk.uv_pars_vertex,K.ShaderChunk.uv2_pars_vertex,K.ShaderChunk.envmap_pars_vertex,K.ShaderChunk.lights_lambert_pars_vertex,K.ShaderChunk.color_pars_vertex,K.ShaderChunk.morphtarget_pars_vertex,K.ShaderChunk.skinning_pars_vertex,K.ShaderChunk.shadowmap_pars_vertex,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",K.ShaderChunk.uv_vertex,K.ShaderChunk.uv2_vertex,K.ShaderChunk.color_vertex,K.ShaderChunk.beginnormal_vertex,K.ShaderChunk.morphnormal_vertex,K.ShaderChunk.skinbase_vertex,K.ShaderChunk.skinnormal_vertex,K.ShaderChunk.defaultnormal_vertex,K.ShaderChunk.begin_vertex,K.ShaderChunk.morphtarget_vertex,K.ShaderChunk.skinning_vertex,K.ShaderChunk.project_vertex,K.ShaderChunk.logdepthbuf_vertex,K.ShaderChunk.worldpos_vertex,K.ShaderChunk.envmap_vertex,K.ShaderChunk.lights_lambert_vertex,K.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform vec3 emissive;","uniform float opacity;","uniform vec3 ambientLightColor;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",K.ShaderChunk.common,K.ShaderChunk.color_pars_fragment,K.ShaderChunk.uv_pars_fragment,K.ShaderChunk.uv2_pars_fragment,K.ShaderChunk.map_pars_fragment,K.ShaderChunk.alphamap_pars_fragment,K.ShaderChunk.envmap_pars_fragment,K.ShaderChunk.fog_pars_fragment,K.ShaderChunk.shadowmap_pars_fragment,K.ShaderChunk.specularmap_pars_fragment,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = ambientLightColor;","\tvec3 shadowMask = vec3( 1.0 );",K.ShaderChunk.logdepthbuf_fragment,K.ShaderChunk.map_fragment,K.ShaderChunk.color_fragment,K.ShaderChunk.alphamap_fragment,K.ShaderChunk.alphatest_fragment,K.ShaderChunk.specularmap_fragment,K.ShaderChunk.shadowmap_fragment,"\t#ifdef DOUBLE_SIDED","\t\tif ( gl_FrontFacing )","\t\t\toutgoingLight += diffuseColor.rgb * ( vLightFront * shadowMask + totalAmbientLight ) + emissive;","\t\telse","\t\t\toutgoingLight += diffuseColor.rgb * ( vLightBack * shadowMask + totalAmbientLight ) + emissive;","\t#else","\t\toutgoingLight += diffuseColor.rgb * ( vLightFront * shadowMask + totalAmbientLight ) + emissive;","\t#endif",K.ShaderChunk.envmap_fragment,K.ShaderChunk.linear_to_gamma_fragment,K.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},phong:{uniforms:K.UniformsUtils.merge([K.UniformsLib.common,K.UniformsLib.aomap,K.UniformsLib.lightmap,K.UniformsLib.emissivemap,K.UniformsLib.bumpmap,K.UniformsLib.normalmap,K.UniformsLib.displacementmap,K.UniformsLib.fog,K.UniformsLib.lights,K.UniformsLib.shadowmap,{emissive:{type:"c",value:new K.Color(0)},specular:{type:"c",value:new K.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","\tvarying vec3 vNormal;","#endif",K.ShaderChunk.common,K.ShaderChunk.uv_pars_vertex,K.ShaderChunk.uv2_pars_vertex,K.ShaderChunk.displacementmap_pars_vertex,K.ShaderChunk.envmap_pars_vertex,K.ShaderChunk.lights_phong_pars_vertex,K.ShaderChunk.color_pars_vertex,K.ShaderChunk.morphtarget_pars_vertex,K.ShaderChunk.skinning_pars_vertex,K.ShaderChunk.shadowmap_pars_vertex,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",K.ShaderChunk.uv_vertex,K.ShaderChunk.uv2_vertex,K.ShaderChunk.color_vertex,K.ShaderChunk.beginnormal_vertex,K.ShaderChunk.morphnormal_vertex,K.ShaderChunk.skinbase_vertex,K.ShaderChunk.skinnormal_vertex,K.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","\tvNormal = normalize( transformedNormal );","#endif",K.ShaderChunk.begin_vertex,K.ShaderChunk.displacementmap_vertex,K.ShaderChunk.morphtarget_vertex,K.ShaderChunk.skinning_vertex,K.ShaderChunk.project_vertex,K.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = - mvPosition.xyz;",K.ShaderChunk.worldpos_vertex,K.ShaderChunk.envmap_vertex,K.ShaderChunk.lights_phong_vertex,K.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;",K.ShaderChunk.common,K.ShaderChunk.color_pars_fragment,K.ShaderChunk.uv_pars_fragment,K.ShaderChunk.uv2_pars_fragment,K.ShaderChunk.map_pars_fragment,K.ShaderChunk.alphamap_pars_fragment,K.ShaderChunk.aomap_pars_fragment,K.ShaderChunk.lightmap_pars_fragment,K.ShaderChunk.emissivemap_pars_fragment,K.ShaderChunk.envmap_pars_fragment,K.ShaderChunk.fog_pars_fragment,K.ShaderChunk.lights_phong_pars_fragment,K.ShaderChunk.shadowmap_pars_fragment,K.ShaderChunk.bumpmap_pars_fragment,K.ShaderChunk.normalmap_pars_fragment,K.ShaderChunk.specularmap_pars_fragment,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = ambientLightColor;","\tvec3 totalEmissiveLight = emissive;","\tvec3 shadowMask = vec3( 1.0 );",K.ShaderChunk.logdepthbuf_fragment,K.ShaderChunk.map_fragment,K.ShaderChunk.color_fragment,K.ShaderChunk.alphamap_fragment,K.ShaderChunk.alphatest_fragment,K.ShaderChunk.specularmap_fragment,K.ShaderChunk.normal_phong_fragment,K.ShaderChunk.lightmap_fragment,K.ShaderChunk.hemilight_fragment,K.ShaderChunk.aomap_fragment,K.ShaderChunk.emissivemap_fragment,K.ShaderChunk.lights_phong_fragment,K.ShaderChunk.shadowmap_fragment,"totalDiffuseLight *= shadowMask;","totalSpecularLight *= shadowMask;","#ifdef METAL","\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + totalAmbientLight ) * specular + totalSpecularLight + totalEmissiveLight;","#else","\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + totalAmbientLight ) + totalSpecularLight + totalEmissiveLight;","#endif",K.ShaderChunk.envmap_fragment,K.ShaderChunk.linear_to_gamma_fragment,K.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},points:{uniforms:K.UniformsUtils.merge([K.UniformsLib.points,K.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",K.ShaderChunk.common,K.ShaderChunk.color_pars_vertex,K.ShaderChunk.shadowmap_pars_vertex,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",K.ShaderChunk.color_vertex,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\t#ifdef USE_SIZEATTENUATION","\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );","\t#else","\t\tgl_PointSize = size;","\t#endif","\tgl_Position = projectionMatrix * mvPosition;",K.ShaderChunk.logdepthbuf_vertex,K.ShaderChunk.worldpos_vertex,K.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",K.ShaderChunk.common,K.ShaderChunk.color_pars_fragment,K.ShaderChunk.map_particle_pars_fragment,K.ShaderChunk.fog_pars_fragment,K.ShaderChunk.shadowmap_pars_fragment,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( psColor, opacity );","\tvec3 shadowMask = vec3( 1.0 );",K.ShaderChunk.logdepthbuf_fragment,K.ShaderChunk.map_particle_fragment,K.ShaderChunk.color_fragment,K.ShaderChunk.alphatest_fragment,K.ShaderChunk.shadowmap_fragment,"\toutgoingLight = diffuseColor.rgb * shadowMask;",K.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},dashed:{uniforms:K.UniformsUtils.merge([K.UniformsLib.common,K.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",K.ShaderChunk.common,K.ShaderChunk.color_pars_vertex,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",K.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",K.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",K.ShaderChunk.common,K.ShaderChunk.color_pars_fragment,K.ShaderChunk.fog_pars_fragment,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tif ( mod( vLineDistance, totalSize ) > dashSize ) {","\t\tdiscard;","\t}","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",K.ShaderChunk.logdepthbuf_fragment,K.ShaderChunk.color_fragment,"\toutgoingLight = diffuseColor.rgb;",K.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[K.ShaderChunk.common,K.ShaderChunk.morphtarget_pars_vertex,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",K.ShaderChunk.begin_vertex,K.ShaderChunk.morphtarget_vertex,K.ShaderChunk.project_vertex,K.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",K.ShaderChunk.common,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",K.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;","\t#else","\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;","\t#endif","\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );","\tgl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",K.ShaderChunk.common,K.ShaderChunk.morphtarget_pars_vertex,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvNormal = normalize( normalMatrix * normal );",K.ShaderChunk.begin_vertex,K.ShaderChunk.morphtarget_vertex,K.ShaderChunk.project_vertex,K.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",K.ShaderChunk.common,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",K.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",K.ShaderChunk.common,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",K.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",K.ShaderChunk.common,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",K.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",K.ShaderChunk.common,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",K.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",K.ShaderChunk.common,K.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );","sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","gl_FragColor = texture2D( tEquirect, sampleUV );",K.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[K.ShaderChunk.common,K.ShaderChunk.morphtarget_pars_vertex,K.ShaderChunk.skinning_pars_vertex,K.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",K.ShaderChunk.skinbase_vertex,K.ShaderChunk.begin_vertex,K.ShaderChunk.morphtarget_vertex,K.ShaderChunk.skinning_vertex,K.ShaderChunk.project_vertex,K.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[K.ShaderChunk.common,K.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz * bit_mask;","\treturn res;","}","void main() {",K.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","\t#else","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","\t#endif","}"].join("\n")},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new K.Vector3(0,0,0)}},vertexShader:["varying vec4 vWorldPosition;",K.ShaderChunk.common,K.ShaderChunk.morphtarget_pars_vertex,K.ShaderChunk.skinning_pars_vertex,"void main() {",K.ShaderChunk.skinbase_vertex,K.ShaderChunk.begin_vertex,K.ShaderChunk.morphtarget_vertex,K.ShaderChunk.skinning_vertex,K.ShaderChunk.project_vertex,K.ShaderChunk.worldpos_vertex,"vWorldPosition = worldPosition;","}"].join("\n"),fragmentShader:["uniform vec3 lightPos;","varying vec4 vWorldPosition;",K.ShaderChunk.common,"vec4 pack1K ( float depth ) {","   depth /= 1000.0;","   const vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = fract( depth * bitSh );","\tres -= res.xxyz * bitMsk;","\treturn res; ","}","float unpack1K ( vec4 color ) {","\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","\treturn dot( color, bitSh ) * 1000.0;","}","void main () {","\tgl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );","}"].join("\n")}},K.WebGLRenderer=function(t){console.log("THREE.WebGLRenderer",K.REVISION);var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElement("canvas"),r=void 0!==t.context?t.context:null,n=e.width,i=e.height,o=1,a=void 0!==t.alpha&&t.alpha,s=void 0===t.depth||t.depth,c=void 0===t.stencil||t.stencil,u=void 0!==t.antialias&&t.antialias,h=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,f=new K.Color(0),p=0,d=[],m=[],v=-1,g=[],y=-1,_=new Float32Array(8),b=[],x=[];this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var w,T=this,S=null,M=null,E=-1,A="",C=null,P=0,O=0,R=0,L=e.width,k=e.height,D=0,I=0,N=new K.Frustum,F=new K.Matrix4,B=new K.Vector3,U=new K.Vector3,V=!0,j={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[],decays:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[],decays:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},G={geometries:0,textures:0},z={calls:0,vertices:0,faces:0,points:0};this.info={render:z,memory:G,programs:null};try{var H={alpha:a,depth:s,stencil:c,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:l};if(null===(w=r||e.getContext("webgl",H)||e.getContext("experimental-webgl",H)))throw null!==e.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";e.addEventListener("webglcontextlost",st,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var W=new K.WebGLExtensions(w);W.get("OES_texture_float"),W.get("OES_texture_float_linear"),W.get("OES_texture_half_float"),W.get("OES_texture_half_float_linear"),W.get("OES_standard_derivatives"),W.get("ANGLE_instanced_arrays"),W.get("OES_element_index_uint")&&(K.BufferGeometry.MaxIndex=4294967296);var X=new K.WebGLCapabilities(w,W,t),$=new K.WebGLState(w,W,Lt),q=new K.WebGLProperties,Y=new K.WebGLObjects(w,q,this.info),Q=new K.WebGLPrograms(this,X);this.info.programs=Q.programs;var Z=new K.WebGLBufferRenderer(w,W,z),J=new K.WebGLIndexedBufferRenderer(w,W,z);function tt(t,e,r,n){!0===h&&(t*=n,e*=n,r*=n),w.clearColor(t,e,r,n)}function et(){$.init(),w.viewport(O,R,L,k),tt(f.r,f.g,f.b,p)}function rt(){S=null,C=null,A="",E=-1,V=!0,$.reset()}et(),this.context=w,this.capabilities=X,this.extensions=W,this.state=$;var nt=new K.WebGLShadowMap(this,d,Y);this.shadowMap=nt;var it,ot=new K.SpritePlugin(this,b),at=new K.LensFlarePlugin(this,x);function st(t){t.preventDefault(),rt(),et(),q.clear()}function ct(t){var e=t.target;e.removeEventListener("dispose",ct),function(t){var e=q.get(t);if(t.image&&e.__image__webglTextureCube)w.deleteTexture(e.__image__webglTextureCube);else{if(void 0===e.__webglInit)return;w.deleteTexture(e.__webglTexture)}q.delete(t)}(e),G.textures--}function ut(t){var e=t.target;e.removeEventListener("dispose",ut),function(t){var e=q.get(t),r=q.get(t.texture);if(!t||void 0===r.__webglTexture)return;if(w.deleteTexture(r.__webglTexture),t instanceof K.WebGLRenderTargetCube)for(var n=0;n<6;n++)w.deleteFramebuffer(e.__webglFramebuffer[n]),w.deleteRenderbuffer(e.__webglRenderbuffer[n]);else w.deleteFramebuffer(e.__webglFramebuffer),w.deleteRenderbuffer(e.__webglRenderbuffer);q.delete(t.texture),q.delete(t)}(e),G.textures--}function ht(t){var e=t.target;e.removeEventListener("dispose",ht),function(t){lt(t),q.delete(t)}(e)}function lt(t){var e=q.get(t).program;t.program=void 0,void 0!==e&&Q.releaseProgram(e)}function ft(t,e){return e[0]-t[0]}function pt(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function dt(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function mt(t,e,r,n,i){var o,a;r.transparent?(o=g,a=++y):(o=m,a=++v);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=r,s.z=B.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:r,z:B.z,group:i},o.push(s))}function vt(t,e,r,n,i){for(var o=0,a=t.length;o<a;o++){var s=t[o],c=s.object,u=s.geometry,h=void 0===i?s.material:i,l=s.group;if(c.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,c.matrixWorld),c.normalMatrix.getNormalMatrix(c.modelViewMatrix),c instanceof K.ImmediateRenderObject){gt(h);var f=yt(e,r,n,h,c);A="",c.render(function(t){T.renderBufferImmediate(t,f,h)})}else T.renderBufferDirect(e,r,n,u,h,c,l)}}function gt(t){!function(t){t.side!==K.DoubleSide?$.enable(w.CULL_FACE):$.disable(w.CULL_FACE),$.setFlipSided(t.side===K.BackSide)}(t),!0===t.transparent?$.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha):$.setBlending(K.NoBlending),$.setDepthFunc(t.depthFunc),$.setDepthTest(t.depthTest),$.setDepthWrite(t.depthWrite),$.setColorWrite(t.colorWrite),$.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function yt(t,r,n,i,o){P=0;var a=q.get(i);!i.needsUpdate&&a.program||(!function(t,e,r,n){var i=q.get(t),o=Q.getParameters(t,e,r,n),a=Q.getProgramCode(t,o),s=i.program,c=!0;if(void 0===s)t.addEventListener("dispose",ht);else if(s.code!==a)lt(t);else{if(void 0!==o.shaderID)return;c=!1}if(c){if(o.shaderID){var u=K.ShaderLib[o.shaderID];i.__webglShader={name:t.type,uniforms:K.UniformsUtils.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else i.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=i.__webglShader,s=Q.acquireProgram(t,o,a),i.program=s,t.program=s}var h=s.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var l=0;l<T.maxMorphTargets;l++)h["morphTarget"+l]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,l=0;l<T.maxMorphNormals;l++)h["morphNormal"+l]>=0&&t.numSupportedMorphNormals++;i.uniformsList=[];var f=i.program.getUniforms();for(var p in i.__webglShader.uniforms){var d=f[p];d&&i.uniformsList.push([i.__webglShader.uniforms[p],d])}}(i,r,n,o),i.needsUpdate=!1);var s=!1,c=!1,u=!1,h=a.program,l=h.getUniforms(),f=a.__webglShader.uniforms;if(h.id!==S&&(w.useProgram(h.program),S=h.id,s=!0,c=!0,u=!0),i.id!==E&&(-1===E&&(u=!0),E=i.id,c=!0),(s||t!==C)&&(w.uniformMatrix4fv(l.projectionMatrix,!1,t.projectionMatrix.elements),X.logarithmicDepthBuffer&&w.uniform1f(l.logDepthBufFC,2/(Math.log(t.far+1)/Math.LN2)),t!==C&&(C=t),(i instanceof K.ShaderMaterial||i instanceof K.MeshPhongMaterial||i.envMap)&&void 0!==l.cameraPosition&&(B.setFromMatrixPosition(t.matrixWorld),w.uniform3f(l.cameraPosition,B.x,B.y,B.z)),(i instanceof K.MeshPhongMaterial||i instanceof K.MeshLambertMaterial||i instanceof K.MeshBasicMaterial||i instanceof K.ShaderMaterial||i.skinning)&&void 0!==l.viewMatrix&&w.uniformMatrix4fv(l.viewMatrix,!1,t.matrixWorldInverse.elements)),i.skinning)if(o.bindMatrix&&void 0!==l.bindMatrix&&w.uniformMatrix4fv(l.bindMatrix,!1,o.bindMatrix.elements),o.bindMatrixInverse&&void 0!==l.bindMatrixInverse&&w.uniformMatrix4fv(l.bindMatrixInverse,!1,o.bindMatrixInverse.elements),X.floatVertexTextures&&o.skeleton&&o.skeleton.useVertexTexture){if(void 0!==l.boneTexture){var p=xt();w.uniform1i(l.boneTexture,p),T.setTexture(o.skeleton.boneTexture,p)}void 0!==l.boneTextureWidth&&w.uniform1i(l.boneTextureWidth,o.skeleton.boneTextureWidth),void 0!==l.boneTextureHeight&&w.uniform1i(l.boneTextureHeight,o.skeleton.boneTextureHeight)}else o.skeleton&&o.skeleton.boneMatrices&&void 0!==l.boneGlobalMatrices&&w.uniformMatrix4fv(l.boneGlobalMatrices,!1,o.skeleton.boneMatrices);return c&&(n&&i.fog&&function(t,e){t.fogColor.value=e.color,e instanceof K.Fog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e instanceof K.FogExp2&&(t.fogDensity.value=e.density)}(f,n),(i instanceof K.MeshPhongMaterial||i instanceof K.MeshLambertMaterial||i.lights)&&(V&&(u=!0,function(t,e){var r,n,i,o,a,s,c,u,h=0,l=0,f=0,p=j,d=e.matrixWorldInverse,m=p.directional.colors,v=p.directional.positions,g=p.point.colors,y=p.point.positions,_=p.point.distances,b=p.point.decays,x=p.spot.colors,w=p.spot.positions,T=p.spot.distances,S=p.spot.directions,M=p.spot.anglesCos,E=p.spot.exponents,A=p.spot.decays,C=p.hemi.skyColors,P=p.hemi.groundColors,O=p.hemi.positions,R=0,L=0,k=0,D=0,I=0,N=0,F=0,V=0,G=0,z=0,H=0,W=0;for(r=0,n=t.length;r<n;r++)if(i=t[r],o=i.color,c=i.intensity,u=i.distance,i instanceof K.AmbientLight){if(!i.visible)continue;h+=o.r,l+=o.g,f+=o.b}else if(i instanceof K.DirectionalLight){if(I+=1,!i.visible)continue;U.setFromMatrixPosition(i.matrixWorld),B.setFromMatrixPosition(i.target.matrixWorld),U.sub(B),U.transformDirection(d),v[(G=3*R)+0]=U.x,v[G+1]=U.y,v[G+2]=U.z,wt(m,G,o,c),R+=1}else if(i instanceof K.PointLight){if(N+=1,!i.visible)continue;wt(g,z=3*L,o,c),B.setFromMatrixPosition(i.matrixWorld),B.applyMatrix4(d),y[z+0]=B.x,y[z+1]=B.y,y[z+2]=B.z,_[L]=u,b[L]=0===i.distance?0:i.decay,L+=1}else if(i instanceof K.SpotLight){if(F+=1,!i.visible)continue;wt(x,H=3*k,o,c),U.setFromMatrixPosition(i.matrixWorld),B.copy(U).applyMatrix4(d),w[H+0]=B.x,w[H+1]=B.y,w[H+2]=B.z,T[k]=u,B.setFromMatrixPosition(i.target.matrixWorld),U.sub(B),U.transformDirection(d),S[H+0]=U.x,S[H+1]=U.y,S[H+2]=U.z,M[k]=Math.cos(i.angle),E[k]=i.exponent,A[k]=0===i.distance?0:i.decay,k+=1}else if(i instanceof K.HemisphereLight){if(V+=1,!i.visible)continue;U.setFromMatrixPosition(i.matrixWorld),U.transformDirection(d),O[(W=3*D)+0]=U.x,O[W+1]=U.y,O[W+2]=U.z,a=i.color,s=i.groundColor,wt(C,W,a,c),wt(P,W,s,c),D+=1}for(r=3*R,n=Math.max(m.length,3*I);r<n;r++)m[r]=0;for(r=3*L,n=Math.max(g.length,3*N);r<n;r++)g[r]=0;for(r=3*k,n=Math.max(x.length,3*F);r<n;r++)x[r]=0;for(r=3*D,n=Math.max(C.length,3*V);r<n;r++)C[r]=0;for(r=3*D,n=Math.max(P.length,3*V);r<n;r++)P[r]=0;p.directional.length=R,p.point.length=L,p.spot.length=k,p.hemi.length=D,p.ambient[0]=h,p.ambient[1]=l,p.ambient[2]=f}(r,t),V=!1),u?(!function(t,e){t.ambientLightColor.value=e.ambient,t.directionalLightColor.value=e.directional.colors,t.directionalLightDirection.value=e.directional.positions,t.pointLightColor.value=e.point.colors,t.pointLightPosition.value=e.point.positions,t.pointLightDistance.value=e.point.distances,t.pointLightDecay.value=e.point.decays,t.spotLightColor.value=e.spot.colors,t.spotLightPosition.value=e.spot.positions,t.spotLightDistance.value=e.spot.distances,t.spotLightDirection.value=e.spot.directions,t.spotLightAngleCos.value=e.spot.anglesCos,t.spotLightExponent.value=e.spot.exponents,t.spotLightDecay.value=e.spot.decays,t.hemisphereLightSkyColor.value=e.hemi.skyColors,t.hemisphereLightGroundColor.value=e.hemi.groundColors,t.hemisphereLightDirection.value=e.hemi.positions}(f,j),bt(f,!0)):bt(f,!1)),(i instanceof K.MeshBasicMaterial||i instanceof K.MeshLambertMaterial||i instanceof K.MeshPhongMaterial)&&function(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&(t.emissive.value=e.emissive);t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var r;e.map?r=e.map:e.specularMap?r=e.specularMap:e.displacementMap?r=e.displacementMap:e.normalMap?r=e.normalMap:e.bumpMap?r=e.bumpMap:e.alphaMap?r=e.alphaMap:e.emissiveMap&&(r=e.emissiveMap);if(void 0!==r){r instanceof K.WebGLRenderTarget&&(r=r.texture);var n=r.offset,i=r.repeat;t.offsetRepeat.value.set(n.x,n.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap instanceof K.WebGLRenderTargetCube?1:-1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}(f,i),i instanceof K.LineBasicMaterial?_t(f,i):i instanceof K.LineDashedMaterial?(_t(f,i),function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(f,i)):i instanceof K.PointsMaterial?function(t,r){if(t.psColor.value=r.color,t.opacity.value=r.opacity,t.size.value=r.size,t.scale.value=e.height/2,t.map.value=r.map,null!==r.map){var n=r.map.offset,i=r.map.repeat;t.offsetRepeat.value.set(n.x,n.y,i.x,i.y)}}(f,i):i instanceof K.MeshPhongMaterial?function(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale);e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(f,i):i instanceof K.MeshDepthMaterial?(f.mNear.value=t.near,f.mFar.value=t.far,f.opacity.value=i.opacity):i instanceof K.MeshNormalMaterial&&(f.opacity.value=i.opacity),o.receiveShadow&&!i._shadowPass&&function(t,e,r){if(t.shadowMatrix)for(var n=0,i=0,o=e.length;i<o;i++){var a=e[i];if(!0===a.castShadow&&(a instanceof K.PointLight||a instanceof K.SpotLight||a instanceof K.DirectionalLight)){var s=a.shadow;a instanceof K.PointLight?(B.setFromMatrixPosition(a.matrixWorld).negate(),s.matrix.identity().setPosition(B),t.shadowDarkness.value[n]=-s.darkness):t.shadowDarkness.value[n]=s.darkness,t.shadowMatrix.value[n]=s.matrix,t.shadowMap.value[n]=s.map,t.shadowMapSize.value[n]=s.mapSize,t.shadowBias.value[n]=s.bias,n++}}}(f,r),function(t){for(var e,r,n=0,i=t.length;n<i;n++){var o=t[n][0];if(!1!==o.needsUpdate){var a=o.type,s=o.value,c=t[n][1];switch(a){case"1i":w.uniform1i(c,s);break;case"1f":w.uniform1f(c,s);break;case"2f":w.uniform2f(c,s[0],s[1]);break;case"3f":w.uniform3f(c,s[0],s[1],s[2]);break;case"4f":w.uniform4f(c,s[0],s[1],s[2],s[3]);break;case"1iv":w.uniform1iv(c,s);break;case"3iv":w.uniform3iv(c,s);break;case"1fv":w.uniform1fv(c,s);break;case"2fv":w.uniform2fv(c,s);break;case"3fv":w.uniform3fv(c,s);break;case"4fv":w.uniform4fv(c,s);break;case"Matrix3fv":w.uniformMatrix3fv(c,!1,s);break;case"Matrix4fv":w.uniformMatrix4fv(c,!1,s);break;case"i":w.uniform1i(c,s);break;case"f":w.uniform1f(c,s);break;case"v2":w.uniform2f(c,s.x,s.y);break;case"v3":w.uniform3f(c,s.x,s.y,s.z);break;case"v4":w.uniform4f(c,s.x,s.y,s.z,s.w);break;case"c":w.uniform3f(c,s.r,s.g,s.b);break;case"iv1":w.uniform1iv(c,s);break;case"iv":w.uniform3iv(c,s);break;case"fv1":w.uniform1fv(c,s);break;case"fv":w.uniform3fv(c,s);break;case"v2v":void 0===o._array&&(o._array=new Float32Array(2*s.length));for(var u=0,h=0,l=s.length;u<l;u++,h+=2)o._array[h+0]=s[u].x,o._array[h+1]=s[u].y;w.uniform2fv(c,o._array);break;case"v3v":void 0===o._array&&(o._array=new Float32Array(3*s.length));for(var u=0,f=0,l=s.length;u<l;u++,f+=3)o._array[f+0]=s[u].x,o._array[f+1]=s[u].y,o._array[f+2]=s[u].z;w.uniform3fv(c,o._array);break;case"v4v":void 0===o._array&&(o._array=new Float32Array(4*s.length));for(var u=0,p=0,l=s.length;u<l;u++,p+=4)o._array[p+0]=s[u].x,o._array[p+1]=s[u].y,o._array[p+2]=s[u].z,o._array[p+3]=s[u].w;w.uniform4fv(c,o._array);break;case"m3":w.uniformMatrix3fv(c,!1,s.elements);break;case"m3v":void 0===o._array&&(o._array=new Float32Array(9*s.length));for(var u=0,l=s.length;u<l;u++)s[u].flattenToArrayOffset(o._array,9*u);w.uniformMatrix3fv(c,!1,o._array);break;case"m4":w.uniformMatrix4fv(c,!1,s.elements);break;case"m4v":void 0===o._array&&(o._array=new Float32Array(16*s.length));for(var u=0,l=s.length;u<l;u++)s[u].flattenToArrayOffset(o._array,16*u);w.uniformMatrix4fv(c,!1,o._array);break;case"t":if(e=s,r=xt(),w.uniform1i(c,r),!e)continue;e instanceof K.CubeTexture||Array.isArray(e.image)&&6===e.image.length?At(e,r):e instanceof K.WebGLRenderTargetCube?Ct(e.texture,r):e instanceof K.WebGLRenderTarget?T.setTexture(e.texture,r):T.setTexture(e,r);break;case"tv":void 0===o._array&&(o._array=[]);for(var u=0,l=o.value.length;u<l;u++)o._array[u]=xt();w.uniform1iv(c,o._array);for(var u=0,l=o.value.length;u<l;u++)e=o.value[u],r=o._array[u],e&&(e instanceof K.CubeTexture||e.image instanceof Array&&6===e.image.length?At(e,r):e instanceof K.WebGLRenderTarget?T.setTexture(e.texture,r):e instanceof K.WebGLRenderTargetCube?Ct(e.texture,r):T.setTexture(e,r));break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+a)}}}}(a.uniformsList)),function(t,e){w.uniformMatrix4fv(t.modelViewMatrix,!1,e.modelViewMatrix.elements),t.normalMatrix&&w.uniformMatrix3fv(t.normalMatrix,!1,e.normalMatrix.elements)}(l,o),void 0!==l.modelMatrix&&w.uniformMatrix4fv(l.modelMatrix,!1,o.matrixWorld.elements),h}function _t(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function bt(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLightColor.needsUpdate=e,t.directionalLightDirection.needsUpdate=e,t.pointLightColor.needsUpdate=e,t.pointLightPosition.needsUpdate=e,t.pointLightDistance.needsUpdate=e,t.pointLightDecay.needsUpdate=e,t.spotLightColor.needsUpdate=e,t.spotLightPosition.needsUpdate=e,t.spotLightDistance.needsUpdate=e,t.spotLightDirection.needsUpdate=e,t.spotLightAngleCos.needsUpdate=e,t.spotLightExponent.needsUpdate=e,t.spotLightDecay.needsUpdate=e,t.hemisphereLightSkyColor.needsUpdate=e,t.hemisphereLightGroundColor.needsUpdate=e,t.hemisphereLightDirection.needsUpdate=e}function xt(){var t=P;return t>=X.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+X.maxTextures),P+=1,t}function wt(t,e,r,n){t[e+0]=r.r*n,t[e+1]=r.g*n,t[e+2]=r.b*n}function Tt(t,e,r){var n;if(r?(w.texParameteri(t,w.TEXTURE_WRAP_S,Lt(e.wrapS)),w.texParameteri(t,w.TEXTURE_WRAP_T,Lt(e.wrapT)),w.texParameteri(t,w.TEXTURE_MAG_FILTER,Lt(e.magFilter)),w.texParameteri(t,w.TEXTURE_MIN_FILTER,Lt(e.minFilter))):(w.texParameteri(t,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(t,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),e.wrapS===K.ClampToEdgeWrapping&&e.wrapT===K.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",e),w.texParameteri(t,w.TEXTURE_MAG_FILTER,Rt(e.magFilter)),w.texParameteri(t,w.TEXTURE_MIN_FILTER,Rt(e.minFilter)),e.minFilter!==K.NearestFilter&&e.minFilter!==K.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",e)),n=W.get("EXT_texture_filter_anisotropic")){if(e.type===K.FloatType&&null===W.get("OES_texture_float_linear"))return;if(e.type===K.HalfFloatType&&null===W.get("OES_texture_half_float_linear"))return;(e.anisotropy>1||q.get(e).__currentAnisotropy)&&(w.texParameterf(t,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,T.getMaxAnisotropy())),q.get(e).__currentAnisotropy=e.anisotropy)}}function St(t,e,r){void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",ct),t.__webglTexture=w.createTexture(),G.textures++),$.activeTexture(w.TEXTURE0+r),$.bindTexture(w.TEXTURE_2D,t.__webglTexture),w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,e.flipY),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),w.pixelStorei(w.UNPACK_ALIGNMENT,e.unpackAlignment),e.image=Mt(e.image,X.maxTextureSize),function(t){return t.wrapS!==K.ClampToEdgeWrapping||t.wrapT!==K.ClampToEdgeWrapping||t.minFilter!==K.NearestFilter&&t.minFilter!==K.LinearFilter}(e)&&!1===Et(e.image)&&(e.image=function(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElement("canvas");e.width=K.Math.nearestPowerOfTwo(t.width),e.height=K.Math.nearestPowerOfTwo(t.height);var r=e.getContext("2d");return r.drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}(e.image));var n=e.image,i=Et(n),o=Lt(e.format),a=Lt(e.type);Tt(w.TEXTURE_2D,e,i);var s,c=e.mipmaps;if(e instanceof K.DataTexture)if(c.length>0&&i){for(var u=0,h=c.length;u<h;u++)s=c[u],$.texImage2D(w.TEXTURE_2D,u,o,s.width,s.height,0,o,a,s.data);e.generateMipmaps=!1}else $.texImage2D(w.TEXTURE_2D,0,o,n.width,n.height,0,o,a,n.data);else if(e instanceof K.CompressedTexture)for(u=0,h=c.length;u<h;u++)s=c[u],e.format!==K.RGBAFormat&&e.format!==K.RGBFormat?$.getCompressedTextureFormats().indexOf(o)>-1?$.compressedTexImage2D(w.TEXTURE_2D,u,o,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$.texImage2D(w.TEXTURE_2D,u,o,s.width,s.height,0,o,a,s.data);else if(c.length>0&&i){for(u=0,h=c.length;u<h;u++)s=c[u],$.texImage2D(w.TEXTURE_2D,u,o,o,a,s);e.generateMipmaps=!1}else $.texImage2D(w.TEXTURE_2D,0,o,o,a,e.image);e.generateMipmaps&&i&&w.generateMipmap(w.TEXTURE_2D),t.__version=e.version,e.onUpdate&&e.onUpdate(e)}function Mt(t,e){if(t.width>e||t.height>e){var r=e/Math.max(t.width,t.height),n=document.createElement("canvas");return n.width=Math.floor(t.width*r),n.height=Math.floor(t.height*r),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height,t),n}return t}function Et(t){return K.Math.isPowerOfTwo(t.width)&&K.Math.isPowerOfTwo(t.height)}function At(t,e){var r=q.get(t);if(6===t.image.length)if(t.version>0&&r.__version!==t.version){r.__image__webglTextureCube||(t.addEventListener("dispose",ct),r.__image__webglTextureCube=w.createTexture(),G.textures++),$.activeTexture(w.TEXTURE0+e),$.bindTexture(w.TEXTURE_CUBE_MAP,r.__image__webglTextureCube),w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var n=t instanceof K.CompressedTexture,i=t.image[0]instanceof K.DataTexture,o=[],a=0;a<6;a++)!T.autoScaleCubemaps||n||i?o[a]=i?t.image[a].image:t.image[a]:o[a]=Mt(t.image[a],X.maxCubemapSize);var s=Et(o[0]),c=Lt(t.format),u=Lt(t.type);Tt(w.TEXTURE_CUBE_MAP,t,s);for(a=0;a<6;a++)if(n)for(var h,l=o[a].mipmaps,f=0,p=l.length;f<p;f++)h=l[f],t.format!==K.RGBAFormat&&t.format!==K.RGBFormat?$.getCompressedTextureFormats().indexOf(c)>-1?$.compressedTexImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,c,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):$.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,c,h.width,h.height,0,c,u,h.data);else i?$.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,c,o[a].width,o[a].height,0,c,u,o[a].data):$.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,c,c,u,o[a]);t.generateMipmaps&&s&&w.generateMipmap(w.TEXTURE_CUBE_MAP),r.__version=t.version,t.onUpdate&&t.onUpdate(t)}else $.activeTexture(w.TEXTURE0+e),$.bindTexture(w.TEXTURE_CUBE_MAP,r.__image__webglTextureCube)}function Ct(t,e){$.activeTexture(w.TEXTURE0+e),$.bindTexture(w.TEXTURE_CUBE_MAP,q.get(t).__webglTexture)}function Pt(t,e,r){w.bindFramebuffer(w.FRAMEBUFFER,t),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,r,q.get(e.texture).__webglTexture,0)}function Ot(t,e){w.bindRenderbuffer(w.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,e.width,e.height),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.DEPTH_ATTACHMENT,w.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,e.width,e.height),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.DEPTH_STENCIL_ATTACHMENT,w.RENDERBUFFER,t)):w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,e.width,e.height)}function Rt(t){return t===K.NearestFilter||t===K.NearestMipMapNearestFilter||t===K.NearestMipMapLinearFilter?w.NEAREST:w.LINEAR}function Lt(t){var e;if(t===K.RepeatWrapping)return w.REPEAT;if(t===K.ClampToEdgeWrapping)return w.CLAMP_TO_EDGE;if(t===K.MirroredRepeatWrapping)return w.MIRRORED_REPEAT;if(t===K.NearestFilter)return w.NEAREST;if(t===K.NearestMipMapNearestFilter)return w.NEAREST_MIPMAP_NEAREST;if(t===K.NearestMipMapLinearFilter)return w.NEAREST_MIPMAP_LINEAR;if(t===K.LinearFilter)return w.LINEAR;if(t===K.LinearMipMapNearestFilter)return w.LINEAR_MIPMAP_NEAREST;if(t===K.LinearMipMapLinearFilter)return w.LINEAR_MIPMAP_LINEAR;if(t===K.UnsignedByteType)return w.UNSIGNED_BYTE;if(t===K.UnsignedShort4444Type)return w.UNSIGNED_SHORT_4_4_4_4;if(t===K.UnsignedShort5551Type)return w.UNSIGNED_SHORT_5_5_5_1;if(t===K.UnsignedShort565Type)return w.UNSIGNED_SHORT_5_6_5;if(t===K.ByteType)return w.BYTE;if(t===K.ShortType)return w.SHORT;if(t===K.UnsignedShortType)return w.UNSIGNED_SHORT;if(t===K.IntType)return w.INT;if(t===K.UnsignedIntType)return w.UNSIGNED_INT;if(t===K.FloatType)return w.FLOAT;if(null!==(e=W.get("OES_texture_half_float"))&&t===K.HalfFloatType)return e.HALF_FLOAT_OES;if(t===K.AlphaFormat)return w.ALPHA;if(t===K.RGBFormat)return w.RGB;if(t===K.RGBAFormat)return w.RGBA;if(t===K.LuminanceFormat)return w.LUMINANCE;if(t===K.LuminanceAlphaFormat)return w.LUMINANCE_ALPHA;if(t===K.AddEquation)return w.FUNC_ADD;if(t===K.SubtractEquation)return w.FUNC_SUBTRACT;if(t===K.ReverseSubtractEquation)return w.FUNC_REVERSE_SUBTRACT;if(t===K.ZeroFactor)return w.ZERO;if(t===K.OneFactor)return w.ONE;if(t===K.SrcColorFactor)return w.SRC_COLOR;if(t===K.OneMinusSrcColorFactor)return w.ONE_MINUS_SRC_COLOR;if(t===K.SrcAlphaFactor)return w.SRC_ALPHA;if(t===K.OneMinusSrcAlphaFactor)return w.ONE_MINUS_SRC_ALPHA;if(t===K.DstAlphaFactor)return w.DST_ALPHA;if(t===K.OneMinusDstAlphaFactor)return w.ONE_MINUS_DST_ALPHA;if(t===K.DstColorFactor)return w.DST_COLOR;if(t===K.OneMinusDstColorFactor)return w.ONE_MINUS_DST_COLOR;if(t===K.SrcAlphaSaturateFactor)return w.SRC_ALPHA_SATURATE;if(null!==(e=W.get("WEBGL_compressed_texture_s3tc"))){if(t===K.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===K.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===K.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===K.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(null!==(e=W.get("WEBGL_compressed_texture_pvrtc"))){if(t===K.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===K.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===K.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===K.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(null!==(e=W.get("EXT_blend_minmax"))){if(t===K.MinEquation)return e.MIN_EXT;if(t===K.MaxEquation)return e.MAX_EXT}return 0}this.getContext=function(){return w},this.getContextAttributes=function(){return w.getContextAttributes()},this.forceContextLoss=function(){W.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){if(void 0!==it)return it;var t=W.get("EXT_texture_filter_anisotropic");return it=null!==t?w.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},this.getPrecision=function(){return X.precision},this.getPixelRatio=function(){return o},this.setPixelRatio=function(t){void 0!==t&&(o=t)},this.getSize=function(){return{width:n,height:i}},this.setSize=function(t,r,a){n=t,i=r,e.width=t*o,e.height=r*o,!1!==a&&(e.style.width=t+"px",e.style.height=r+"px"),this.setViewport(0,0,t,r)},this.setViewport=function(t,e,r,n){O=t*o,R=e*o,L=r*o,k=n*o,w.viewport(O,R,L,k)},this.getViewport=function(t){t.x=O/o,t.y=R/o,t.z=L/o,t.w=k/o},this.setScissor=function(t,e,r,n){w.scissor(t*o,e*o,r*o,n*o)},this.enableScissorTest=function(t){$.setScissorTest(t)},this.getClearColor=function(){return f},this.setClearColor=function(t,e){f.set(t),p=void 0!==e?e:1,tt(f.r,f.g,f.b,p)},this.getClearAlpha=function(){return p},this.setClearAlpha=function(t){p=t,tt(f.r,f.g,f.b,p)},this.clear=function(t,e,r){var n=0;(void 0===t||t)&&(n|=w.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=w.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=w.STENCIL_BUFFER_BIT),w.clear(n)},this.clearColor=function(){w.clear(w.COLOR_BUFFER_BIT)},this.clearDepth=function(){w.clear(w.DEPTH_BUFFER_BIT)},this.clearStencil=function(){w.clear(w.STENCIL_BUFFER_BIT)},this.clearTarget=function(t,e,r,n){this.setRenderTarget(t),this.clear(e,r,n)},this.resetGLState=rt,this.dispose=function(){e.removeEventListener("webglcontextlost",st,!1)},this.renderBufferImmediate=function(t,e,r){$.initAttributes();var n=q.get(t);t.hasPositions&&!n.position&&(n.position=w.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=w.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=w.createBuffer()),t.hasColors&&!n.color&&(n.color=w.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(w.bindBuffer(w.ARRAY_BUFFER,n.position),w.bufferData(w.ARRAY_BUFFER,t.positionArray,w.DYNAMIC_DRAW),$.enableAttribute(i.position),w.vertexAttribPointer(i.position,3,w.FLOAT,!1,0,0)),t.hasNormals){if(w.bindBuffer(w.ARRAY_BUFFER,n.normal),"MeshPhongMaterial"!==r.type&&r.shading===K.FlatShading)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,c=(s[o+0]+s[o+3]+s[o+6])/3,u=(s[o+1]+s[o+4]+s[o+7])/3,h=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=c,s[o+1]=u,s[o+2]=h,s[o+3]=c,s[o+4]=u,s[o+5]=h,s[o+6]=c,s[o+7]=u,s[o+8]=h}w.bufferData(w.ARRAY_BUFFER,t.normalArray,w.DYNAMIC_DRAW),$.enableAttribute(i.normal),w.vertexAttribPointer(i.normal,3,w.FLOAT,!1,0,0)}t.hasUvs&&r.map&&(w.bindBuffer(w.ARRAY_BUFFER,n.uv),w.bufferData(w.ARRAY_BUFFER,t.uvArray,w.DYNAMIC_DRAW),$.enableAttribute(i.uv),w.vertexAttribPointer(i.uv,2,w.FLOAT,!1,0,0)),t.hasColors&&r.vertexColors!==K.NoColors&&(w.bindBuffer(w.ARRAY_BUFFER,n.color),w.bufferData(w.ARRAY_BUFFER,t.colorArray,w.DYNAMIC_DRAW),$.enableAttribute(i.color),w.vertexAttribPointer(i.color,3,w.FLOAT,!1,0,0)),$.disableUnusedAttributes(),w.drawArrays(w.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,r,n,i,a,s){gt(i);var c=yt(t,e,r,i,a),u=!1,h=n.id+"_"+c.id+"_"+i.wireframe;h!==A&&(A=h,u=!0);var l=a.morphTargetInfluences;if(void 0!==l){for(var f=[],p=0,d=l.length;p<d;p++){var m=l[p];f.push([m,p])}f.sort(ft),f.length>8&&(f.length=8);var v=n.morphAttributes;for(p=0,d=f.length;p<d;p++){m=f[p];if(_[p]=m[0],0!==m[0]){var g=m[1];!0===i.morphTargets&&v.position&&n.addAttribute("morphTarget"+p,v.position[g]),!0===i.morphNormals&&v.normal&&n.addAttribute("morphNormal"+p,v.normal[g])}else!0===i.morphTargets&&n.removeAttribute("morphTarget"+p),!0===i.morphNormals&&n.removeAttribute("morphNormal"+p)}var y=c.getUniforms();null!==y.morphTargetInfluences&&w.uniform1fv(y.morphTargetInfluences,_),u=!0}g=n.index;var b,x=n.attributes.position;!0===i.wireframe&&(g=Y.getWireframeAttribute(n)),null!==g?(b=J).setIndex(g):b=Z,u&&(!function(t,e,r,n){var i;if(r instanceof K.InstancedBufferGeometry&&null===(i=W.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===n&&(n=0);$.initAttributes();var o=r.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var c in a){var u=a[c];if(u>=0){var h=o[c];if(void 0!==h){var l=h.itemSize,f=Y.getAttributeBuffer(h);if(h instanceof K.InterleavedBufferAttribute){var p=h.data,d=p.stride,m=h.offset;p instanceof K.InstancedInterleavedBuffer?($.enableAttributeAndDivisor(u,p.meshPerAttribute,i),void 0===r.maxInstancedCount&&(r.maxInstancedCount=p.meshPerAttribute*p.count)):$.enableAttribute(u),w.bindBuffer(w.ARRAY_BUFFER,f),w.vertexAttribPointer(u,l,w.FLOAT,!1,d*p.array.BYTES_PER_ELEMENT,(n*d+m)*p.array.BYTES_PER_ELEMENT)}else h instanceof K.InstancedBufferAttribute?($.enableAttributeAndDivisor(u,h.meshPerAttribute,i),void 0===r.maxInstancedCount&&(r.maxInstancedCount=h.meshPerAttribute*h.count)):$.enableAttribute(u),w.bindBuffer(w.ARRAY_BUFFER,f),w.vertexAttribPointer(u,l,w.FLOAT,!1,0,n*l*4)}else if(void 0!==s){var v=s[c];if(void 0!==v)switch(v.length){case 2:w.vertexAttrib2fv(u,v);break;case 3:w.vertexAttrib3fv(u,v);break;case 4:w.vertexAttrib4fv(u,v);break;default:w.vertexAttrib1fv(u,v)}}}}$.disableUnusedAttributes()}(i,c,n),null!==g&&w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,Y.getAttributeBuffer(g)));var T=1/0;null!==g?T=g.count:void 0!==x&&(T=x.count);var S=n.drawRange.start,M=n.drawRange.count,E=null!==s?s.start:0,C=null!==s?s.count:1/0,P=Math.max(0,S,E),O=Math.min(0+T,S+M,E+C)-1,R=Math.max(0,O-P+1);if(a instanceof K.Mesh)!0===i.wireframe?($.setLineWidth(i.wireframeLinewidth*o),b.setMode(w.LINES)):b.setMode(w.TRIANGLES),n instanceof K.InstancedBufferGeometry&&n.maxInstancedCount>0?b.renderInstances(n):b.render(P,R);else if(a instanceof K.Line){var L=i.linewidth;void 0===L&&(L=1),$.setLineWidth(L*o),a instanceof K.LineSegments?b.setMode(w.LINES):b.setMode(w.LINE_STRIP),b.render(P,R)}else a instanceof K.Points&&(b.setMode(w.POINTS),b.render(P,R))},this.render=function(t,e,r,n){if(e instanceof K.Camera!=!1){var i=t.fog;if(A="",E=-1,C=null,V=!0,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),F.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),N.setFromMatrix(F),d.length=0,v=-1,y=-1,b.length=0,x.length=0,function t(e,r){if(!1===e.visible)return;if(0!=(e.channels.mask&r.channels.mask))if(e instanceof K.Light)d.push(e);else if(e instanceof K.Sprite)b.push(e);else if(e instanceof K.LensFlare)x.push(e);else if(e instanceof K.ImmediateRenderObject)!0===T.sortObjects&&(B.setFromMatrixPosition(e.matrixWorld),B.applyProjection(F)),mt(e,null,e.material,B.z,null);else if((e instanceof K.Mesh||e instanceof K.Line||e instanceof K.Points)&&(e instanceof K.SkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===N.intersectsObject(e))){var n=e.material;if(!0===n.visible){!0===T.sortObjects&&(B.setFromMatrixPosition(e.matrixWorld),B.applyProjection(F));var i=Y.update(e);if(n instanceof K.MeshFaceMaterial)for(var o=i.groups,a=n.materials,s=0,c=o.length;s<c;s++){var u=o[s],h=a[u.materialIndex];!0===h.visible&&mt(e,i,h,B.z,u)}else mt(e,i,n,B.z,null)}}var l=e.children;for(var s=0,c=l.length;s<c;s++)t(l[s],r)}(t,e),m.length=v+1,g.length=y+1,!0===T.sortObjects&&(m.sort(pt),g.sort(dt)),nt.render(t),z.calls=0,z.vertices=0,z.faces=0,z.points=0,this.setRenderTarget(r),(this.autoClear||n)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),t.overrideMaterial){var o=t.overrideMaterial;vt(m,e,d,i,o),vt(g,e,d,i,o)}else $.setBlending(K.NoBlending),vt(m,e,d,i),vt(g,e,d,i);if(ot.render(t,e),at.render(t,e,D,I),r){var a=r.texture,s=Et(r);a.generateMipmaps&&s&&a.minFilter!==K.NearestFilter&&a.minFilter!==K.LinearFilter&&function(t){var e=t instanceof K.WebGLRenderTargetCube?w.TEXTURE_CUBE_MAP:w.TEXTURE_2D,r=q.get(t.texture).__webglTexture;$.bindTexture(e,r),w.generateMipmap(e),$.bindTexture(e,null)}(r)}$.setDepthTest(!0),$.setDepthWrite(!0),$.setColorWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(t,e){t===K.CullFaceNone?$.disable(w.CULL_FACE):(e===K.FrontFaceDirectionCW?w.frontFace(w.CW):w.frontFace(w.CCW),t===K.CullFaceBack?w.cullFace(w.BACK):t===K.CullFaceFront?w.cullFace(w.FRONT):w.cullFace(w.FRONT_AND_BACK),$.enable(w.CULL_FACE))},this.setTexture=function(t,e){var r=q.get(t);if(t.version>0&&r.__version!==t.version){var n=t.image;return void 0===n?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t):!1===n.complete?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t):void St(r,t,e)}$.activeTexture(w.TEXTURE0+e),$.bindTexture(w.TEXTURE_2D,r.__webglTexture)},this.setRenderTarget=function(t){var e,r,n,i,o,a=t instanceof K.WebGLRenderTargetCube;if(t&&void 0===q.get(t).__webglFramebuffer){var s=q.get(t),c=q.get(t.texture);void 0===t.depthBuffer&&(t.depthBuffer=!0),void 0===t.stencilBuffer&&(t.stencilBuffer=!0),t.addEventListener("dispose",ut),c.__webglTexture=w.createTexture(),G.textures++;var u=Et(t),h=Lt(t.texture.format),l=Lt(t.texture.type);if(a){s.__webglFramebuffer=[],s.__webglRenderbuffer=[],$.bindTexture(w.TEXTURE_CUBE_MAP,c.__webglTexture),Tt(w.TEXTURE_CUBE_MAP,t.texture,u);for(var f=0;f<6;f++)s.__webglFramebuffer[f]=w.createFramebuffer(),s.__webglRenderbuffer[f]=w.createRenderbuffer(),$.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,h,t.width,t.height,0,h,l,null),Pt(s.__webglFramebuffer[f],t,w.TEXTURE_CUBE_MAP_POSITIVE_X+f),Ot(s.__webglRenderbuffer[f],t);t.texture.generateMipmaps&&u&&w.generateMipmap(w.TEXTURE_CUBE_MAP)}else s.__webglFramebuffer=w.createFramebuffer(),t.shareDepthFrom?s.__webglRenderbuffer=t.shareDepthFrom.__webglRenderbuffer:s.__webglRenderbuffer=w.createRenderbuffer(),$.bindTexture(w.TEXTURE_2D,c.__webglTexture),Tt(w.TEXTURE_2D,t.texture,u),$.texImage2D(w.TEXTURE_2D,0,h,t.width,t.height,0,h,l,null),Pt(s.__webglFramebuffer,t,w.TEXTURE_2D),t.shareDepthFrom?t.depthBuffer&&!t.stencilBuffer?w.framebufferRenderbuffer(w.FRAMEBUFFER,w.DEPTH_ATTACHMENT,w.RENDERBUFFER,s.__webglRenderbuffer):t.depthBuffer&&t.stencilBuffer&&w.framebufferRenderbuffer(w.FRAMEBUFFER,w.DEPTH_STENCIL_ATTACHMENT,w.RENDERBUFFER,s.__webglRenderbuffer):Ot(s.__webglRenderbuffer,t),t.texture.generateMipmaps&&u&&w.generateMipmap(w.TEXTURE_2D);a?$.bindTexture(w.TEXTURE_CUBE_MAP,null):$.bindTexture(w.TEXTURE_2D,null),w.bindRenderbuffer(w.RENDERBUFFER,null),w.bindFramebuffer(w.FRAMEBUFFER,null)}if(t){s=q.get(t);e=a?s.__webglFramebuffer[t.activeCubeFace]:s.__webglFramebuffer,r=t.width,n=t.height,i=0,o=0}else e=null,r=L,n=k,i=O,o=R;if(e!==M&&(w.bindFramebuffer(w.FRAMEBUFFER,e),w.viewport(i,o,r,n),M=e),a){c=q.get(t.texture);w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,c.__webglTexture,0)}D=r,I=n},this.readRenderTargetPixels=function(t,e,r,n,i,o){if(t instanceof K.WebGLRenderTarget!=!1){var a=q.get(t).__webglFramebuffer;if(a){var s=!1;a!==M&&(w.bindFramebuffer(w.FRAMEBUFFER,a),s=!0);try{var c=t.texture;if(c.format!==K.RGBAFormat&&Lt(c.format)!==w.getParameter(w.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c.type===K.UnsignedByteType||Lt(c.type)===w.getParameter(w.IMPLEMENTATION_COLOR_READ_TYPE)||c.type===K.FloatType&&W.get("WEBGL_color_buffer_float")||c.type===K.HalfFloatType&&W.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");w.checkFramebufferStatus(w.FRAMEBUFFER)===w.FRAMEBUFFER_COMPLETE?w.readPixels(e,r,n,i,Lt(c.format),Lt(c.type),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&w.bindFramebuffer(w.FRAMEBUFFER,M)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),W.get("OES_texture_float")},this.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),W.get("OES_texture_half_float")},this.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),W.get("OES_standard_derivatives")},this.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),W.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),W.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),W.get("EXT_blend_minmax")},this.supportsVertexTextures=function(){return X.vertexTextures},this.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),W.get("ANGLE_instanced_arrays")},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Object.defineProperties(this,{shadowMapEnabled:{get:function(){return nt.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),nt.enabled=t}},shadowMapType:{get:function(){return nt.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),nt.type=t}},shadowMapCullFace:{get:function(){return nt.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),nt.cullFace=t}},shadowMapDebug:{get:function(){return nt.debug},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapDebug is now .shadowMap.debug."),nt.debug=t}}})},K.WebGLRenderTarget=function(t,e,r){this.uuid=K.Math.generateUUID(),this.width=t,this.height=e,void 0===(r=r||{}).minFilter&&(r.minFilter=K.LinearFilter),this.texture=new K.Texture(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy),this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.shareDepthFrom=void 0!==r.shareDepthFrom?r.shareDepthFrom:null},K.WebGLRenderTarget.prototype={constructor:K.WebGLRenderTarget,get wrapS(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set wrapS(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t},get wrapT(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set wrapT(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t},get magFilter(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set magFilter(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t},get minFilter(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set minFilter(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t},get anisotropy(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set anisotropy(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t},get offset(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set offset(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t},get repeat(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set repeat(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t},get format(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set format(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t},get type(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set type(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t},get generateMipmaps(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set generateMipmaps(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t},setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose())},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.shareDepthFrom=t.shareDepthFrom,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},K.EventDispatcher.prototype.apply(K.WebGLRenderTarget.prototype),K.WebGLRenderTargetCube=function(t,e,r){K.WebGLRenderTarget.call(this,t,e,r),this.activeCubeFace=0},K.WebGLRenderTargetCube.prototype=Object.create(K.WebGLRenderTarget.prototype),K.WebGLRenderTargetCube.prototype.constructor=K.WebGLRenderTargetCube,K.WebGLBufferRenderer=function(t,e,r){var n;this.setMode=function(t){n=t},this.render=function(e,i){t.drawArrays(n,e,i),r.calls++,r.vertices+=i,n===t.TRIANGLES&&(r.faces+=i/3)},this.renderInstances=function(t){var r=e.get("ANGLE_instanced_arrays");if(null!==r){var i=t.attributes.position;i instanceof K.InterleavedBufferAttribute?r.drawArraysInstancedANGLE(n,0,i.data.count,t.maxInstancedCount):r.drawArraysInstancedANGLE(n,0,i.count,t.maxInstancedCount)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}},K.WebGLIndexedBufferRenderer=function(t,e,r){var n,i,o;this.setMode=function(t){n=t},this.setIndex=function(r){r.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(i=t.UNSIGNED_INT,o=4):(i=t.UNSIGNED_SHORT,o=2)},this.render=function(e,a){t.drawElements(n,a,i,e*o),r.calls++,r.vertices+=a,n===t.TRIANGLES&&(r.faces+=a/3)},this.renderInstances=function(t){var r=e.get("ANGLE_instanced_arrays");if(null!==r){var o=t.index;r.drawElementsInstancedANGLE(n,o.array.length,i,0,t.maxInstancedCount)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}},K.WebGLExtensions=function(t){var e={};this.get=function(r){if(void 0!==e[r])return e[r];var n;switch(r){case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),e[r]=n,n}},K.WebGLCapabilities=function(t,e,r){function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=n,this.precision=void 0!==r.precision?r.precision:"highp",this.logarithmicDepthBuffer=void 0!==r.logarithmicDepthBuffer&&r.logarithmicDepthBuffer,this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxCubemapSize=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=t.getParameter(t.MAX_VARYING_VECTORS),this.maxFragmentUniforms=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!e.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var i=n(this.precision);i!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",i,"instead."),this.precision=i),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!e.get("EXT_frag_depth"))},K.WebGLGeometries=function(t,e,r){var n={};function i(t){var a=t.target;!function(t){for(var e in t)o(t[e])}(n[a.id].attributes),a.removeEventListener("dispose",i),delete n[a.id];var s=e.get(a);s.wireframe&&o(s.wireframe),r.memory.geometries--}function o(r){var n=function(t){return t instanceof K.InterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}(r);void 0!==n&&(t.deleteBuffer(n),function(t){t instanceof K.InterleavedBufferAttribute?e.delete(t.data):e.delete(t)}(r))}this.get=function(t){var e,o=t.geometry;return void 0!==n[o.id]?n[o.id]:(o.addEventListener("dispose",i),o instanceof K.BufferGeometry?e=o:o instanceof K.Geometry&&(void 0===o._bufferGeometry&&(o._bufferGeometry=(new K.BufferGeometry).setFromObject(t)),e=o._bufferGeometry),n[o.id]=e,r.memory.geometries++,e)}},K.WebGLObjects=function(t,e,r){var n=new K.WebGLGeometries(t,e,r);function i(r,n){var i=r instanceof K.InterleavedBufferAttribute?r.data:r,o=e.get(i);void 0===o.__webglBuffer?function(e,r,n){e.__webglBuffer=t.createBuffer(),t.bindBuffer(n,e.__webglBuffer);var i=r.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(n,r.array,i),e.version=r.version}(o,i,n):o.version!==i.version&&function(e,r,n){t.bindBuffer(n,e.__webglBuffer),!1===r.dynamic||-1===r.updateRange.count?t.bufferSubData(n,0,r.array):0===r.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(n,r.updateRange.offset*r.array.BYTES_PER_ELEMENT,r.array.subarray(r.updateRange.offset,r.updateRange.offset+r.updateRange.count)),r.updateRange.count=0);e.version=r.version}(o,i,n)}function o(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];return void 0===i?(t[e]=[r],!0):-1===i.indexOf(r)&&(i.push(r),!0)}this.getAttributeBuffer=function(t){return t instanceof K.InterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer},this.getWireframeAttribute=function(r){var n=e.get(r);if(void 0!==n.wireframe)return n.wireframe;var a,s=[],c=r.index,u=r.attributes,h=u.position;if(null!==c)for(var l={},f=0,p=(a=c.array).length;f<p;f+=3){var d=a[f+0],m=a[f+1],v=a[f+2];o(l,d,m)&&s.push(d,m),o(l,m,v)&&s.push(m,v),o(l,v,d)&&s.push(v,d)}else for(f=0,p=(a=u.position.array).length/3-1;f<p;f+=3)d=f+0,m=f+1,v=f+2,s.push(d,m,m,v,v,d);var g=h.count>65535?Uint32Array:Uint16Array,y=new K.BufferAttribute(new g(s),1);return i(y,t.ELEMENT_ARRAY_BUFFER),n.wireframe=y,y},this.update=function(e){var r=n.get(e);e.geometry instanceof K.Geometry&&r.updateFromObject(e);var o=r.index,a=r.attributes;for(var s in null!==o&&i(o,t.ELEMENT_ARRAY_BUFFER),a)i(a[s],t.ARRAY_BUFFER);var c=r.morphAttributes;for(var s in c)for(var u=c[s],h=0,l=u.length;h<l;h++)i(u[h],t.ARRAY_BUFFER);return r}},K.WebGLProgram=function(){var t=0;function e(t){return""!==t}return function(r,n,i,o){var a=r.context,s=i.defines,c=i.__webglShader.vertexShader,u=i.__webglShader.fragmentShader,h="SHADOWMAP_TYPE_BASIC";o.shadowMapType===K.PCFShadowMap?h="SHADOWMAP_TYPE_PCF":o.shadowMapType===K.PCFSoftShadowMap&&(h="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",f="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(i.envMap.mapping){case K.CubeReflectionMapping:case K.CubeRefractionMapping:l="ENVMAP_TYPE_CUBE";break;case K.EquirectangularReflectionMapping:case K.EquirectangularRefractionMapping:l="ENVMAP_TYPE_EQUIREC";break;case K.SphericalReflectionMapping:l="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case K.CubeRefractionMapping:case K.EquirectangularRefractionMapping:f="ENVMAP_MODE_REFRACTION"}switch(i.combine){case K.MultiplyOperation:p="ENVMAP_BLENDING_MULTIPLY";break;case K.MixOperation:p="ENVMAP_BLENDING_MIX";break;case K.AddOperation:p="ENVMAP_BLENDING_ADD"}}var d,m,v=r.gammaFactor>0?r.gammaFactor:1,g=function(t){var e=[];for(var r in t){var n=t[r];!1!==n&&e.push("#define "+r+" "+n)}return e.join("\n")}(s),y=a.createProgram();i instanceof K.RawShaderMaterial?(d="",m=""):(d=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,g,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.gammaInput?"#define GAMMA_INPUT":"",r.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+v,"#define MAX_DIR_LIGHTS "+o.maxDirLights,"#define MAX_POINT_LIGHTS "+o.maxPointLights,"#define MAX_SPOT_LIGHTS "+o.maxSpotLights,"#define MAX_HEMI_LIGHTS "+o.maxHemiLights,"#define MAX_SHADOWS "+o.maxShadows,"#define MAX_BONES "+o.maxBones,o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",o.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&r.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(e).join("\n"),m=[o.bumpMap||o.normalMap||o.flatShading||i.derivatives?"#extension GL_OES_standard_derivatives : enable":"",o.logarithmicDepthBuffer&&r.extensions.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"","precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,g,"#define MAX_DIR_LIGHTS "+o.maxDirLights,"#define MAX_POINT_LIGHTS "+o.maxPointLights,"#define MAX_SPOT_LIGHTS "+o.maxSpotLights,"#define MAX_HEMI_LIGHTS "+o.maxHemiLights,"#define MAX_SHADOWS "+o.maxShadows,o.alphaTest?"#define ALPHATEST "+o.alphaTest:"",r.gammaInput?"#define GAMMA_INPUT":"",r.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+v,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+l:"",o.envMap?"#define "+f:"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.metal?"#define METAL":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",o.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&r.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","\n"].filter(e).join("\n"));var _=d+c,b=m+u,x=K.WebGLShader(a,a.VERTEX_SHADER,_),w=K.WebGLShader(a,a.FRAGMENT_SHADER,b);a.attachShader(y,x),a.attachShader(y,w),void 0!==i.index0AttributeName?a.bindAttribLocation(y,0,i.index0AttributeName):!0===o.morphTargets&&a.bindAttribLocation(y,0,"position"),a.linkProgram(y);var T,S,M=a.getProgramInfoLog(y),E=a.getShaderInfoLog(x),A=a.getShaderInfoLog(w),C=!0,P=!0;return!1===a.getProgramParameter(y,a.LINK_STATUS)?(C=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"gl.VALIDATE_STATUS",a.getProgramParameter(y,a.VALIDATE_STATUS),"gl.getProgramInfoLog",M,E,A)):""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==E&&""!==A||(P=!1),P&&(this.diagnostics={runnable:C,material:i,programLog:M,vertexShader:{log:E,prefix:d},fragmentShader:{log:A,prefix:m}}),a.deleteShader(x),a.deleteShader(w),this.getUniforms=function(){return void 0===T&&(T=function(t,e,r){for(var n={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<i;o++){var a=t.getActiveUniform(e,o).name,s=t.getUniformLocation(e,a),c=a.lastIndexOf("[0]");-1!==c&&c===a.length-3&&(n[a.substr(0,c)]=s),n[a]=s}return n}(a,y)),T},this.getAttributes=function(){return void 0===S&&(S=function(t,e,r){for(var n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o).name;n[a]=t.getAttribLocation(e,a)}return n}(a,y)),S},this.destroy=function(){a.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=t++,this.code=n,this.usedTimes=1,this.program=y,this.vertexShader=x,this.fragmentShader=w,this}}(),K.WebGLPrograms=function(t,e){var r=[],n={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},i=["precision","supportsVertexTextures","map","envMap","envMapMode","lightMap","aoMap","emissiveMap","bumpMap","normalMap","displacementMap","specularMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","maxDirLights","maxPointLights","maxSpotLights","maxHemiLights","maxShadows","shadowMapEnabled","pointLightShadows","shadowMapType","shadowMapDebug","alphaTest","metal","doubleSided","flipSided"];this.getParameters=function(r,i,o,a){var s=n[r.type],c=function(t){for(var e=0,r=0,n=0,i=0,o=0,a=t.length;o<a;o++){var s=t[o];!1!==s.visible&&(s instanceof K.DirectionalLight&&e++,s instanceof K.PointLight&&r++,s instanceof K.SpotLight&&n++,s instanceof K.HemisphereLight&&i++)}return{directional:e,point:r,spot:n,hemi:i}}(i),u=function(t){for(var e=0,r=0,n=0,i=t.length;n<i;n++){var o=t[n];o.castShadow&&((o instanceof K.SpotLight||o instanceof K.DirectionalLight)&&e++,o instanceof K.PointLight&&(e++,r++))}return{maxShadows:e,pointLightShadows:r}}(i),h=function(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var r=e.maxVertexUniforms,n=Math.floor((r-20)/4);return void 0!==t&&t instanceof K.SkinnedMesh&&(n=Math.min(t.skeleton.bones.length,n))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+n+" (try OpenGL instead of ANGLE)"),n}(a),l=t.getPrecision();return null!==r.precision&&(l=e.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLRenderer.initMaterial:",r.precision,"not supported, using",l,"instead."),{shaderID:s,precision:l,supportsVertexTextures:e.vertexTextures,map:!!r.map,envMap:!!r.envMap,envMapMode:r.envMap&&r.envMap.mapping,lightMap:!!r.lightMap,aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,displacementMap:!!r.displacementMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,combine:r.combine,vertexColors:r.vertexColors,fog:o,useFog:r.fog,fogExp:o instanceof K.FogExp2,flatShading:r.shading===K.FlatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:r.skinning,maxBones:h,useVertexTexture:e.floatVertexTextures&&a&&a.skeleton&&a.skeleton.useVertexTexture,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,maxDirLights:c.directional,maxPointLights:c.point,maxSpotLights:c.spot,maxHemiLights:c.hemi,maxShadows:u.maxShadows,pointLightShadows:u.pointLightShadows,shadowMapEnabled:t.shadowMap.enabled&&a.receiveShadow&&u.maxShadows>0,shadowMapType:t.shadowMap.type,shadowMapDebug:t.shadowMap.debug,alphaTest:r.alphaTest,metal:r.metal,doubleSided:r.side===K.DoubleSide,flipSided:r.side===K.BackSide}},this.getProgramCode=function(t,e){var r=[];if(e.shaderID?r.push(e.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);for(var o=0;o<i.length;o++){var a=i[o];r.push(a),r.push(e[a])}return r.join()},this.acquireProgram=function(e,n,i){for(var o,a=0,s=r.length;a<s;a++){var c=r[a];if(c.code===i){++(o=c).usedTimes;break}}return void 0===o&&(o=new K.WebGLProgram(t,i,e,n),r.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r},K.WebGLProperties=function(){var t={};this.get=function(e){var r=e.uuid,n=t[r];return void 0===n&&(n={},t[r]=n),n},this.delete=function(e){delete t[e.uuid]},this.clear=function(){t={}}},K.WebGLShader=function(){return function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join("\n")}(r)),n}}(),K.WebGLShadowMap=function(t,e,r){for(var n=t.context,i=t.state,o=new K.Frustum,a=new K.Matrix4,s=(new K.Vector3,new K.Vector3,new K.Vector3),c=new K.Vector3,u=[],h=1,l=2,f=1+(h|l),p=new Array(f),d=new Array(f),m=[new K.Vector3(1,0,0),new K.Vector3(-1,0,0),new K.Vector3(0,0,1),new K.Vector3(0,0,-1),new K.Vector3(0,1,0),new K.Vector3(0,-1,0)],v=[new K.Vector3(0,1,0),new K.Vector3(0,1,0),new K.Vector3(0,1,0),new K.Vector3(0,1,0),new K.Vector3(0,0,1),new K.Vector3(0,0,-1)],g=[new K.Vector4,new K.Vector4,new K.Vector4,new K.Vector4,new K.Vector4,new K.Vector4],y=new K.Vector4,_=K.ShaderLib.depthRGBA,b=K.UniformsUtils.clone(_.uniforms),x=K.ShaderLib.distanceRGBA,w=K.UniformsUtils.clone(x.uniforms),T=0;T!==f;++T){var S=0!=(T&h),M=0!=(T&l),E=new K.ShaderMaterial({uniforms:b,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,morphTargets:S,skinning:M});E._shadowPass=!0,p[T]=E;var A=new K.ShaderMaterial({uniforms:w,vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,morphTargets:S,skinning:M});A._shadowPass=!0,d[T]=A}var C=this;function P(t,e,r,n){var i=t.geometry,o=null,a=p,s=t.customDepthMaterial;if(r&&(a=d,s=t.customDistanceMaterial),s)o=s;else{var c=void 0!==i.morphTargets&&i.morphTargets.length>0&&e.morphTargets,u=t instanceof K.SkinnedMesh&&e.skinning,f=0;c&&(f|=h),u&&(f|=l),o=a[f]}return o.visible=e.visible,o.wireframe=e.wireframe,o.wireframeLinewidth=e.wireframeLinewidth,r&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(n),o}function O(t,e){if(!1!==t.visible){if(t instanceof K.Mesh||t instanceof K.Line||t instanceof K.Points)if(t.castShadow&&(!1===t.frustumCulled||!0===o.intersectsObject(t)))!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,t.matrixWorld),u.push(t));for(var r=t.children,n=0,i=r.length;n<i;n++)O(r[n],e)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=K.PCFShadowMap,this.cullFace=K.CullFaceFront,this.render=function(h){var l,f;if(!1!==C.enabled&&(!1!==C.autoUpdate||!1!==C.needsUpdate)){n.clearColor(1,1,1,1),i.disable(n.BLEND),i.enable(n.CULL_FACE),n.frontFace(n.CCW),n.cullFace(C.cullFace===K.CullFaceFront?n.FRONT:n.BACK),i.setDepthTest(!0),t.getViewport(y);for(var p=0,d=e.length;p<d;p++){var _=e[p];if(!0===_.castShadow){var b=_.shadow,x=b.camera,w=b.mapSize;if(_ instanceof K.PointLight){l=6,f=!0;var T=w.x/4,S=w.y/2;g[0].set(2*T,S,T,S),g[1].set(0,S,T,S),g[2].set(3*T,S,T,S),g[3].set(T,S,T,S),g[4].set(3*T,0,T,S),g[5].set(T,0,T,S)}else l=1,f=!1;if(null===b.map){var M=K.LinearFilter;C.type===K.PCFSoftShadowMap&&(M=K.NearestFilter);var E={minFilter:M,magFilter:M,format:K.RGBAFormat};b.map=new K.WebGLRenderTarget(w.x,w.y,E),b.matrix=new K.Matrix4,_ instanceof K.SpotLight&&(x.aspect=w.x/w.y),x.updateProjectionMatrix()}var A=b.map,R=b.matrix;c.setFromMatrixPosition(_.matrixWorld),x.position.copy(c),t.setRenderTarget(A),t.clear();for(var L=0;L<l;L++){if(f){s.copy(x.position),s.add(m[L]),x.up.copy(v[L]),x.lookAt(s);var k=g[L];t.setViewport(k.x,k.y,k.z,k.w)}else s.setFromMatrixPosition(_.target.matrixWorld),x.lookAt(s);x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld),R.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),R.multiply(x.projectionMatrix),R.multiply(x.matrixWorldInverse),a.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),o.setFromMatrix(a),u.length=0,O(h,x);for(var D=0,I=u.length;D<I;D++){var N=u[D],F=r.update(N),B=N.material;if(B instanceof K.MeshFaceMaterial)for(var U=F.groups,V=B.materials,j=0,G=U.length;j<G;j++){var z=U[j],H=V[z.materialIndex];if(!0===H.visible){var W=P(N,H,f,c);t.renderBufferDirect(x,e,null,F,W,N,z)}}else{W=P(N,B,f,c);t.renderBufferDirect(x,e,null,F,W,N,null)}}}t.resetGLState()}}t.setViewport(y.x,y.y,y.z,y.w);var X=t.getClearColor(),$=t.getClearAlpha();t.setClearColor(X,$),i.enable(n.BLEND),C.cullFace===K.CullFaceFront&&n.cullFace(n.BACK),t.resetGLState(),C.needsUpdate=!1}}},K.WebGLState=function(t,e,r){var n=this,i=new Uint8Array(16),o=new Uint8Array(16),a=new Uint8Array(16),s={},c=null,u=null,h=null,l=null,f=null,p=null,d=null,m=null,v=null,g=null,y=null,_=null,b=null,x=null,w=null,T=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),S=void 0,M={};this.init=function(){t.clearColor(0,0,0,1),t.clearDepth(1),t.clearStencil(0),this.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.frontFace(t.CCW),t.cullFace(t.BACK),this.enable(t.CULL_FACE),this.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)},this.initAttributes=function(){for(var t=0,e=i.length;t<e;t++)i[t]=0},this.enableAttribute=function(r){(i[r]=1,0===o[r]&&(t.enableVertexAttribArray(r),o[r]=1),0!==a[r])&&(e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(r,0),a[r]=0)},this.enableAttributeAndDivisor=function(e,r,n){i[e]=1,0===o[e]&&(t.enableVertexAttribArray(e),o[e]=1),a[e]!==r&&(n.vertexAttribDivisorANGLE(e,r),a[e]=r)},this.disableUnusedAttributes=function(){for(var e=0,r=o.length;e<r;e++)o[e]!==i[e]&&(t.disableVertexAttribArray(e),o[e]=0)},this.enable=function(e){!0!==s[e]&&(t.enable(e),s[e]=!0)},this.disable=function(e){!1!==s[e]&&(t.disable(e),s[e]=!1)},this.getCompressedTextureFormats=function(){if(null===c&&(c=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")))for(var r=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<r.length;n++)c.push(r[n]);return c},this.setBlending=function(e,n,i,o,a,s,c){e!==u&&(e===K.NoBlending?this.disable(t.BLEND):e===K.AdditiveBlending?(this.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===K.SubtractiveBlending?(this.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===K.MultiplyBlending?(this.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):e===K.CustomBlending?this.enable(t.BLEND):(this.enable(t.BLEND),t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),u=e),e===K.CustomBlending?(a=a||n,s=s||i,c=c||o,n===h&&a===p||(t.blendEquationSeparate(r(n),r(a)),h=n,p=a),i===l&&o===f&&s===d&&c===m||(t.blendFuncSeparate(r(i),r(o),r(s),r(c)),l=i,f=o,d=s,m=c)):(h=null,l=null,f=null,p=null,d=null,m=null)},this.setDepthFunc=function(e){if(v!==e){if(e)switch(e){case K.NeverDepth:t.depthFunc(t.NEVER);break;case K.AlwaysDepth:t.depthFunc(t.ALWAYS);break;case K.LessDepth:t.depthFunc(t.LESS);break;case K.LessEqualDepth:t.depthFunc(t.LEQUAL);break;case K.EqualDepth:t.depthFunc(t.EQUAL);break;case K.GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case K.GreaterDepth:t.depthFunc(t.GREATER);break;case K.NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);v=e}},this.setDepthTest=function(e){e?this.enable(t.DEPTH_TEST):this.disable(t.DEPTH_TEST)},this.setDepthWrite=function(e){g!==e&&(t.depthMask(e),g=e)},this.setColorWrite=function(e){y!==e&&(t.colorMask(e,e,e,e),y=e)},this.setFlipSided=function(e){_!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),_=e)},this.setLineWidth=function(e){e!==b&&(t.lineWidth(e),b=e)},this.setPolygonOffset=function(e,r,n){e?this.enable(t.POLYGON_OFFSET_FILL):this.disable(t.POLYGON_OFFSET_FILL),!e||x===r&&w===n||(t.polygonOffset(r,n),x=r,w=n)},this.setScissorTest=function(e){e?this.enable(t.SCISSOR_TEST):this.disable(t.SCISSOR_TEST)},this.activeTexture=function(e){void 0===e&&(e=t.TEXTURE0+T-1),S!==e&&(t.activeTexture(e),S=e)},this.bindTexture=function(e,r){void 0===S&&n.activeTexture();var i=M[S];void 0===i&&(i={type:void 0,texture:void 0},M[S]=i),i.type===e&&i.texture===r||(t.bindTexture(e,r),i.type=e,i.texture=r)},this.compressedTexImage2D=function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}},this.texImage2D=function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}},this.reset=function(){for(var e=0;e<o.length;e++)1===o[e]&&(t.disableVertexAttribArray(e),o[e]=0);s={},c=null,u=null,g=null,y=null,_=null}},K.LensFlarePlugin=function(t,e){var r,n,i,o,a,s,c,u,h=t.context,l=t.state;function f(){var e,f=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),p=new Uint16Array([0,1,2,0,2,3]);r=h.createBuffer(),n=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,r),h.bufferData(h.ARRAY_BUFFER,f,h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n),h.bufferData(h.ELEMENT_ARRAY_BUFFER,p,h.STATIC_DRAW),c=h.createTexture(),u=h.createTexture(),l.bindTexture(h.TEXTURE_2D,c),h.texImage2D(h.TEXTURE_2D,0,h.RGB,16,16,0,h.RGB,h.UNSIGNED_BYTE,null),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),l.bindTexture(h.TEXTURE_2D,u),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,16,16,0,h.RGBA,h.UNSIGNED_BYTE,null),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),e=(s=h.getParameter(h.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0)?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},i=function(e){var r=h.createProgram(),n=h.createShader(h.FRAGMENT_SHADER),i=h.createShader(h.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return h.shaderSource(n,o+e.fragmentShader),h.shaderSource(i,o+e.vertexShader),h.compileShader(n),h.compileShader(i),h.attachShader(r,n),h.attachShader(r,i),h.linkProgram(r),r}(e),o={vertex:h.getAttribLocation(i,"position"),uv:h.getAttribLocation(i,"uv")},a={renderType:h.getUniformLocation(i,"renderType"),map:h.getUniformLocation(i,"map"),occlusionMap:h.getUniformLocation(i,"occlusionMap"),opacity:h.getUniformLocation(i,"opacity"),color:h.getUniformLocation(i,"color"),scale:h.getUniformLocation(i,"scale"),rotation:h.getUniformLocation(i,"rotation"),screenPosition:h.getUniformLocation(i,"screenPosition")}}this.render=function(p,d,m,v){if(0!==e.length){var g=new K.Vector3,y=v/m,_=.5*m,b=.5*v,x=16/v,w=new K.Vector2(x*y,x),T=new K.Vector3(1,1,0),S=new K.Vector2(1,1);void 0===i&&f(),h.useProgram(i),l.initAttributes(),l.enableAttribute(o.vertex),l.enableAttribute(o.uv),l.disableUnusedAttributes(),h.uniform1i(a.occlusionMap,0),h.uniform1i(a.map,1),h.bindBuffer(h.ARRAY_BUFFER,r),h.vertexAttribPointer(o.vertex,2,h.FLOAT,!1,16,0),h.vertexAttribPointer(o.uv,2,h.FLOAT,!1,16,8),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n),l.disable(h.CULL_FACE),h.depthMask(!1);for(var M=0,E=e.length;M<E;M++){x=16/v,w.set(x*y,x);var A=e[M];if(g.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),g.applyMatrix4(d.matrixWorldInverse),g.applyProjection(d.projectionMatrix),T.copy(g),S.x=T.x*_+_,S.y=T.y*b+b,s||S.x>0&&S.x<m&&S.y>0&&S.y<v){l.activeTexture(h.TEXTURE0),l.bindTexture(h.TEXTURE_2D,null),l.activeTexture(h.TEXTURE1),l.bindTexture(h.TEXTURE_2D,c),h.copyTexImage2D(h.TEXTURE_2D,0,h.RGB,S.x-8,S.y-8,16,16,0),h.uniform1i(a.renderType,0),h.uniform2f(a.scale,w.x,w.y),h.uniform3f(a.screenPosition,T.x,T.y,T.z),l.disable(h.BLEND),l.enable(h.DEPTH_TEST),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0),l.activeTexture(h.TEXTURE0),l.bindTexture(h.TEXTURE_2D,u),h.copyTexImage2D(h.TEXTURE_2D,0,h.RGBA,S.x-8,S.y-8,16,16,0),h.uniform1i(a.renderType,1),l.disable(h.DEPTH_TEST),l.activeTexture(h.TEXTURE1),l.bindTexture(h.TEXTURE_2D,c),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0),A.positionScreen.copy(T),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),h.uniform1i(a.renderType,2),l.enable(h.BLEND);for(var C=0,P=A.lensFlares.length;C<P;C++){var O=A.lensFlares[C];O.opacity>.001&&O.scale>.001&&(T.x=O.x,T.y=O.y,T.z=O.z,x=O.size*O.scale/v,w.x=x*y,w.y=x,h.uniform3f(a.screenPosition,T.x,T.y,T.z),h.uniform2f(a.scale,w.x,w.y),h.uniform1f(a.rotation,O.rotation),h.uniform1f(a.opacity,O.opacity),h.uniform3f(a.color,O.color.r,O.color.g,O.color.b),l.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),t.setTexture(O.texture,1),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0))}}}l.enable(h.CULL_FACE),l.enable(h.DEPTH_TEST),h.depthMask(!0),t.resetGLState()}}},K.SpritePlugin=function(t,e){var r,n,i,o,a,s,c=t.context,u=t.state,h=new K.Vector3,l=new K.Quaternion,f=new K.Vector3;function p(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),u=new Uint16Array([0,1,2,0,2,3]);r=c.createBuffer(),n=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,r),c.bufferData(c.ARRAY_BUFFER,e,c.STATIC_DRAW),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,n),c.bufferData(c.ELEMENT_ARRAY_BUFFER,u,c.STATIC_DRAW),i=function(){var e=c.createProgram(),r=c.createShader(c.VERTEX_SHADER),n=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),c.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),c.compileShader(r),c.compileShader(n),c.attachShader(e,r),c.attachShader(e,n),c.linkProgram(e),e}(),o={position:c.getAttribLocation(i,"position"),uv:c.getAttribLocation(i,"uv")},a={uvOffset:c.getUniformLocation(i,"uvOffset"),uvScale:c.getUniformLocation(i,"uvScale"),rotation:c.getUniformLocation(i,"rotation"),scale:c.getUniformLocation(i,"scale"),color:c.getUniformLocation(i,"color"),map:c.getUniformLocation(i,"map"),opacity:c.getUniformLocation(i,"opacity"),modelViewMatrix:c.getUniformLocation(i,"modelViewMatrix"),projectionMatrix:c.getUniformLocation(i,"projectionMatrix"),fogType:c.getUniformLocation(i,"fogType"),fogDensity:c.getUniformLocation(i,"fogDensity"),fogNear:c.getUniformLocation(i,"fogNear"),fogFar:c.getUniformLocation(i,"fogFar"),fogColor:c.getUniformLocation(i,"fogColor"),alphaTest:c.getUniformLocation(i,"alphaTest")};var h=document.createElement("canvas");h.width=8,h.height=8;var l=h.getContext("2d");l.fillStyle="white",l.fillRect(0,0,8,8),(s=new K.Texture(h)).needsUpdate=!0}function d(t,e){return t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(m,v){if(0!==e.length){void 0===i&&p(),c.useProgram(i),u.initAttributes(),u.enableAttribute(o.position),u.enableAttribute(o.uv),u.disableUnusedAttributes(),u.disable(c.CULL_FACE),u.enable(c.BLEND),c.bindBuffer(c.ARRAY_BUFFER,r),c.vertexAttribPointer(o.position,2,c.FLOAT,!1,16,0),c.vertexAttribPointer(o.uv,2,c.FLOAT,!1,16,8),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,n),c.uniformMatrix4fv(a.projectionMatrix,!1,v.projectionMatrix.elements),u.activeTexture(c.TEXTURE0),c.uniform1i(a.map,0);var g=0,y=0,_=m.fog;_?(c.uniform3f(a.fogColor,_.color.r,_.color.g,_.color.b),_ instanceof K.Fog?(c.uniform1f(a.fogNear,_.near),c.uniform1f(a.fogFar,_.far),c.uniform1i(a.fogType,1),g=1,y=1):_ instanceof K.FogExp2&&(c.uniform1f(a.fogDensity,_.density),c.uniform1i(a.fogType,2),g=2,y=2)):(c.uniform1i(a.fogType,0),g=0,y=0);for(var b=0,x=e.length;b<x;b++){(T=e[b]).modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14]}e.sort(d);var w=[];for(b=0,x=e.length;b<x;b++){var T,S=(T=e[b]).material;c.uniform1f(a.alphaTest,S.alphaTest),c.uniformMatrix4fv(a.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(h,l,f),w[0]=f.x,w[1]=f.y;var M=0;m.fog&&S.fog&&(M=y),g!==M&&(c.uniform1i(a.fogType,M),g=M),null!==S.map?(c.uniform2f(a.uvOffset,S.map.offset.x,S.map.offset.y),c.uniform2f(a.uvScale,S.map.repeat.x,S.map.repeat.y)):(c.uniform2f(a.uvOffset,0,0),c.uniform2f(a.uvScale,1,1)),c.uniform1f(a.opacity,S.opacity),c.uniform3f(a.color,S.color.r,S.color.g,S.color.b),c.uniform1f(a.rotation,S.rotation),c.uniform2fv(a.scale,w),u.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),u.setDepthTest(S.depthTest),u.setDepthWrite(S.depthWrite),S.map&&S.map.image&&S.map.image.width?t.setTexture(S.map,0):t.setTexture(s,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0)}u.enable(c.CULL_FACE),t.resetGLState()}}},K.CurveUtils={tangentQuadraticBezier:function(t,e,r,n){return 2*(1-t)*(r-e)+2*t*(n-r)},tangentCubicBezier:function(t,e,r,n,i){return-3*e*(1-t)*(1-t)+3*r*(1-t)*(1-t)-6*t*r*(1-t)+6*t*n*(1-t)-3*t*t*n+3*t*t*i},tangentSpline:function(t,e,r,n,i){return 6*t*t-6*t+(3*t*t-4*t+1)+(-6*t*t+6*t)+(3*t*t-2*t)},interpolate:function(t,e,r,n,i){var o=.5*(r-t),a=.5*(n-e),s=i*i;return(2*e-2*r+o+a)*(i*s)+(-3*e+3*r-2*o-a)*s+o*i+e}},K.GeometryUtils={merge:function(t,e,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e instanceof K.Mesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,r)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},K.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,r,n){console.warn("THREE.ImageUtils.loadTexture is being deprecated. Use THREE.TextureLoader() instead.");var i=new K.TextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,r,n){console.warn("THREE.ImageUtils.loadTextureCube is being deprecated. Use THREE.CubeTextureLoader() instead.");var i=new K.CubeTextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},K.SceneUtils={createMultiMaterialObject:function(t,e){for(var r=new K.Group,n=0,i=e.length;n<i;n++)r.add(new K.Mesh(t,e[n]));return r},detach:function(t,e,r){t.applyMatrix(e.matrixWorld),e.remove(t),r.add(t)},attach:function(t,e,r){var n=new K.Matrix4;n.getInverse(r.matrixWorld),t.applyMatrix(n),e.remove(t),r.add(t)}},K.ShapeUtils={area:function(t){for(var e=t.length,r=0,n=e-1,i=0;i<e;n=i++)r+=t[n].x*t[i].y-t[i].x*t[n].y;return.5*r},triangulate:function(){function t(t,e,r,n,i,o){var a,s,c,u,h,l,f,p,d,m,v,g,y,_,b,x,w;if(s=t[o[e]].x,c=t[o[e]].y,u=t[o[r]].x,h=t[o[r]].y,l=t[o[n]].x,f=t[o[n]].y,Number.EPSILON>(u-s)*(f-c)-(h-c)*(l-s))return!1;for(m=l-u,v=f-h,g=s-l,y=c-f,_=u-s,b=h-c,a=0;a<i;a++)if(p=t[o[a]].x,d=t[o[a]].y,!(p===s&&d===c||p===u&&d===h||p===l&&d===f)&&(x=_*(d-c)-b*(p-s),w=g*(d-f)-y*(p-l),m*(d-h)-v*(p-u)>=-Number.EPSILON&&w>=-Number.EPSILON&&x>=-Number.EPSILON))return!1;return!0}return function(e,r){var n=e.length;if(n<3)return null;var i,o,a,s=[],c=[],u=[];if(K.ShapeUtils.area(e)>0)for(o=0;o<n;o++)c[o]=o;else for(o=0;o<n;o++)c[o]=n-1-o;var h=n,l=2*h;for(o=h-1;h>2;){if(l--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),r?u:s;if(h<=(i=o)&&(i=0),h<=(o=i+1)&&(o=0),h<=(a=o+1)&&(a=0),t(e,i,o,a,h,c)){var f,p,d,m,v;for(f=c[i],p=c[o],d=c[a],s.push([e[f],e[p],e[d]]),u.push([c[i],c[o],c[a]]),m=o,v=o+1;v<h;m++,v++)c[m]=c[v];l=2*--h}}return r?u:s}}(),triangulateShape:function(t,e){function r(t,e,r){return t.x!==e.x?t.x<e.x?t.x<=r.x&&r.x<=e.x:e.x<=r.x&&r.x<=t.x:t.y<e.y?t.y<=r.y&&r.y<=e.y:e.y<=r.y&&r.y<=t.y}function n(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,c=i.x-n.x,u=i.y-n.y,h=t.x-n.x,l=t.y-n.y,f=s*c-a*u,p=s*h-a*l;if(Math.abs(f)>Number.EPSILON){var d;if(f>0){if(p<0||p>f)return[];if((d=u*h-c*l)<0||d>f)return[]}else{if(p>0||p<f)return[];if((d=u*h-c*l)>0||d<f)return[]}if(0===d)return!o||0!==p&&p!==f?[t]:[];if(d===f)return!o||0!==p&&p!==f?[e]:[];if(0===p)return[n];if(p===f)return[i];var m=d/f;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==p||u*h!=c*l)return[];var v,g,y,_,b,x,w,T,S=0===a&&0===s,M=0===c&&0===u;return S&&M?t.x!==n.x||t.y!==n.y?[]:[t]:S?r(n,i,t)?[t]:[]:M?r(t,e,n)?[n]:[]:(0!==a?(t.x<e.x?(v=t,y=t.x,g=e,_=e.x):(v=e,y=e.x,g=t,_=t.x),n.x<i.x?(b=n,w=n.x,x=i,T=i.x):(b=i,w=i.x,x=n,T=n.x)):(t.y<e.y?(v=t,y=t.y,g=e,_=e.y):(v=e,y=e.y,g=t,_=t.y),n.y<i.y?(b=n,w=n.y,x=i,T=i.y):(b=i,w=i.y,x=n,T=n.y)),y<=w?_<w?[]:_===w?o?[]:[b]:_<=T?[b,g]:[b,x]:y>T?[]:y===T?o?[]:[v]:_<=T?[v,g]:[v,x])}function i(t,e,r,n){var i=e.x-t.x,o=e.y-t.y,a=r.x-t.x,s=r.y-t.y,c=n.x-t.x,u=n.y-t.y,h=i*s-o*a,l=i*u-o*c;if(Math.abs(h)>Number.EPSILON){var f=c*s-u*a;return h>0?l>=0&&f>=0:l>=0||f>=0}return l>0}for(var o,a,s,c,u,h,l={},f=t.concat(),p=0,d=e.length;p<d;p++)Array.prototype.push.apply(f,e[p]);for(o=0,a=f.length;o<a;o++)void 0!==l[u=f[o].x+":"+f[o].y]&&console.warn("THREE.Shape: Duplicate point",u),l[u]=o;var m=function(t,e){var r,o=t.concat();function a(t,e){var n=o.length-1,a=t-1;a<0&&(a=n);var s=t+1;s>n&&(s=0);var c=i(o[t],o[a],o[s],r[e]);if(!c)return!1;var u=r.length-1,h=e-1;h<0&&(h=u);var l=e+1;return l>u&&(l=0),!!(c=i(r[e],r[h],r[l],o[t]))}function s(t,e){var r,i;for(r=0;r<o.length;r++)if(i=r+1,i%=o.length,n(t,e,o[r],o[i],!0).length>0)return!0;return!1}var c=[];function u(t,r){var i,o,a,s;for(i=0;i<c.length;i++)for(o=e[c[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,n(t,r,o[a],o[s],!0).length>0)return!0;return!1}for(var h,l,f,p,d,m,v,g,y,_,b=[],x=0,w=e.length;x<w;x++)c.push(x);for(var T=0,S=2*c.length;c.length>0;){if(--S<0){console.log("Infinite Loop! Holes left:"+c.length+", Probably Hole outside Shape!");break}for(l=T;l<o.length;l++){for(f=o[l],h=-1,x=0;x<c.length;x++)if(d=c[x],void 0===b[m=f.x+":"+f.y+":"+d]){r=e[d];for(var M=0;M<r.length;M++)if(p=r[M],a(l,M)&&!s(f,p)&&!u(f,p)){h=M,c.splice(x,1),v=o.slice(0,l+1),g=o.slice(l),y=r.slice(h),_=r.slice(0,h+1),o=v.concat(y).concat(_).concat(g),T=l;break}if(h>=0)break;b[m]=!0}if(h>=0)break}}return o}(t,e),v=K.ShapeUtils.triangulate(m,!1);for(o=0,a=v.length;o<a;o++)for(c=v[o],s=0;s<3;s++)void 0!==(h=l[u=c[s].x+":"+c[s].y])&&(c[s]=h);return v.concat()},isClockWise:function(t){return K.ShapeUtils.area(t)<0},b2:function(){return function(t,e,r,n){return function(t,e){var r=1-t;return r*r*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,r)+function(t,e){return t*t*e}(t,n)}}(),b3:function(){return function(t,e,r,n,i){return function(t,e){var r=1-t;return r*r*r*e}(t,e)+function(t,e){var r=1-t;return 3*r*r*t*e}(t,r)+function(t,e){return 3*(1-t)*t*t*e}(t,n)+function(t,e){return t*t*t*e}(t,i)}}()},K.Audio=function(t){K.Object3D.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1},K.Audio.prototype=Object.create(K.Object3D.prototype),K.Audio.prototype.constructor=K.Audio,K.Audio.prototype.load=function(t){var e=this,r=new XMLHttpRequest;return r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(t){e.context.decodeAudioData(this.response,function(t){e.source.buffer=t,e.autoplay&&e.play()})},r.send(),this},K.Audio.prototype.play=function(){if(!0!==this.isPlaying){var t=this.context.createBufferSource();t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()}else console.warn("THREE.Audio: Audio is already playing.")},K.Audio.prototype.pause=function(){this.source.stop(),this.startTime=this.context.currentTime},K.Audio.prototype.stop=function(){this.source.stop(),this.startTime=0},K.Audio.prototype.connect=function(){void 0!==this.filter?(this.source.connect(this.filter),this.filter.connect(this.panner)):this.source.connect(this.panner)},K.Audio.prototype.disconnect=function(){void 0!==this.filter?(this.source.disconnect(this.filter),this.filter.disconnect(this.panner)):this.source.disconnect(this.panner)},K.Audio.prototype.setFilter=function(t){!0===this.isPlaying?(this.disconnect(),this.filter=t,this.connect()):this.filter=t},K.Audio.prototype.getFilter=function(){return this.filter},K.Audio.prototype.setPlaybackRate=function(t){this.playbackRate=t,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate)},K.Audio.prototype.getPlaybackRate=function(){return this.playbackRate},K.Audio.prototype.onEnded=function(){this.isPlaying=!1},K.Audio.prototype.setLoop=function(t){this.source.loop=t},K.Audio.prototype.getLoop=function(){return this.source.loop},K.Audio.prototype.setRefDistance=function(t){this.panner.refDistance=t},K.Audio.prototype.getRefDistance=function(){return this.panner.refDistance},K.Audio.prototype.setRolloffFactor=function(t){this.panner.rolloffFactor=t},K.Audio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},K.Audio.prototype.setVolume=function(t){this.gain.gain.value=t},K.Audio.prototype.getVolume=function(){return this.gain.gain.value},K.Audio.prototype.updateMatrixWorld=function(){var t=new K.Vector3;return function(e){K.Object3D.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}(),K.AudioListener=function(){K.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},K.AudioListener.prototype=Object.create(K.Object3D.prototype),K.AudioListener.prototype.constructor=K.AudioListener,K.AudioListener.prototype.updateMatrixWorld=function(){var t=new K.Vector3,e=new K.Quaternion,r=new K.Vector3,n=new K.Vector3;return function(i){K.Object3D.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,r),n.set(0,0,-1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z,a.x,a.y,a.z)}}(),K.Curve=function(){},K.Curve.prototype={constructor:K.Curve,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);var e,r=[];for(e=0;e<=t;e++)r.push(this.getPoint(e/t));return r},getSpacedPoints:function(t){t||(t=5);var e,r=[];for(e=0;e<=t;e++)r.push(this.getPointAt(e/t));return r},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;r<=t;r++)o+=(e=this.getPoint(r/t)).distanceTo(i),n.push(o),i=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var r,n=this.getLengths(),i=0,o=n.length;r=e||t*n[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=n[i=Math.floor(s+(c-s)/2)]-r)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(n[i=c]===r)return i/(o-1);var u=n[i];return(i+(r-u)/(n[i+1]-u))/(o-1)},getTangent:function(t){var e=t-1e-4,r=t+1e-4;e<0&&(e=0),r>1&&(r=1);var n=this.getPoint(e);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)}},K.Curve.Utils=K.CurveUtils,K.Curve.create=function(t,e){return t.prototype=Object.create(K.Curve.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},K.CurvePath=function(){this.curves=[],this.autoClose=!1},K.CurvePath.prototype=Object.create(K.Curve.prototype),K.CurvePath.prototype.constructor=K.CurvePath,K.CurvePath.prototype.add=function(t){this.curves.push(t)},K.CurvePath.prototype.closePath=function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new K.LineCurve(e,t))},K.CurvePath.prototype.getPoint=function(t){for(var e=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=e){var i=r[n]-e,o=this.curves[n],a=1-i/o.getLength();return o.getPointAt(a)}n++}return null},K.CurvePath.prototype.getLength=function(){var t=this.getCurveLengths();return t[t.length-1]},K.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,r=0,n=this.curves.length;r<n;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t},K.CurvePath.prototype.createPointsGeometry=function(t){var e=this.getPoints(t,!0);return this.createGeometry(e)},K.CurvePath.prototype.createSpacedPointsGeometry=function(t){var e=this.getSpacedPoints(t,!0);return this.createGeometry(e)},K.CurvePath.prototype.createGeometry=function(t){for(var e=new K.Geometry,r=0,n=t.length;r<n;r++){var i=t[r];e.vertices.push(new K.Vector3(i.x,i.y,i.z||0))}return e},K.Path=function(t){K.CurvePath.call(this),this.actions=[],t&&this.fromPoints(t)},K.Path.prototype=Object.create(K.CurvePath.prototype),K.Path.prototype.constructor=K.Path,K.Path.prototype.fromPoints=function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y)},K.Path.prototype.moveTo=function(t,e){this.actions.push({action:"moveTo",args:[t,e]})},K.Path.prototype.lineTo=function(t,e){var r=this.actions[this.actions.length-1].args,n=r[r.length-2],i=r[r.length-1],o=new K.LineCurve(new K.Vector2(n,i),new K.Vector2(t,e));this.curves.push(o),this.actions.push({action:"lineTo",args:[t,e]})},K.Path.prototype.quadraticCurveTo=function(t,e,r,n){var i=this.actions[this.actions.length-1].args,o=i[i.length-2],a=i[i.length-1],s=new K.QuadraticBezierCurve(new K.Vector2(o,a),new K.Vector2(t,e),new K.Vector2(r,n));this.curves.push(s),this.actions.push({action:"quadraticCurveTo",args:[t,e,r,n]})},K.Path.prototype.bezierCurveTo=function(t,e,r,n,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1],u=new K.CubicBezierCurve(new K.Vector2(s,c),new K.Vector2(t,e),new K.Vector2(r,n),new K.Vector2(i,o));this.curves.push(u),this.actions.push({action:"bezierCurveTo",args:[t,e,r,n,i,o]})},K.Path.prototype.splineThru=function(t){var e=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,n=r[r.length-2],i=r[r.length-1],o=[new K.Vector2(n,i)];Array.prototype.push.apply(o,t);var a=new K.SplineCurve(o);this.curves.push(a),this.actions.push({action:"splineThru",args:e})},K.Path.prototype.arc=function(t,e,r,n,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1];this.absarc(t+s,e+c,r,n,i,o)},K.Path.prototype.absarc=function(t,e,r,n,i,o){this.absellipse(t,e,r,r,n,i,o)},K.Path.prototype.ellipse=function(t,e,r,n,i,o,a,s){var c=this.actions[this.actions.length-1].args,u=c[c.length-2],h=c[c.length-1];this.absellipse(t+u,e+h,r,n,i,o,a,s)},K.Path.prototype.absellipse=function(t,e,r,n,i,o,a,s){var c=[t,e,r,n,i,o,a,s||0],u=new K.EllipseCurve(t,e,r,n,i,o,a,s);this.curves.push(u);var h=u.getPoint(1);c.push(h.x),c.push(h.y),this.actions.push({action:"ellipse",args:c})},K.Path.prototype.getSpacedPoints=function(t,e){t||(t=40);for(var r=[],n=0;n<t;n++)r.push(this.getPoint(n/t));return r},K.Path.prototype.getPoints=function(t,e){t=t||12;for(var r,n,i,o,a,s,c,u,h,l,f,p=K.ShapeUtils.b2,d=K.ShapeUtils.b3,m=[],v=0,g=this.actions.length;v<g;v++){var y=this.actions[v],_=y.action,b=y.args;switch(_){case"moveTo":case"lineTo":m.push(new K.Vector2(b[0],b[1]));break;case"quadraticCurveTo":r=b[2],n=b[3],a=b[0],s=b[1],m.length>0?(c=(h=m[m.length-1]).x,u=h.y):(c=(h=this.actions[v-1].args)[h.length-2],u=h[h.length-1]);for(var x=1;x<=t;x++){l=p(k=x/t,c,a,r),f=p(k,u,s,n),m.push(new K.Vector2(l,f))}break;case"bezierCurveTo":r=b[4],n=b[5],a=b[0],s=b[1],i=b[2],o=b[3],m.length>0?(c=(h=m[m.length-1]).x,u=h.y):(c=(h=this.actions[v-1].args)[h.length-2],u=h[h.length-1]);for(x=1;x<=t;x++){l=d(k=x/t,c,a,i,r),f=d(k,u,s,o,n),m.push(new K.Vector2(l,f))}break;case"splineThru":h=this.actions[v-1].args;var w=[new K.Vector2(h[h.length-2],h[h.length-1])],T=t*b[0].length;w=w.concat(b[0]);var S=new K.SplineCurve(w);for(x=1;x<=T;x++)m.push(S.getPointAt(x/T));break;case"arc":var M=b[0],E=b[1],A=b[2],C=b[3],P=b[4],O=!!b[5],R=P-C,L=2*t;for(x=1;x<=L;x++){var k=x/L;O||(k=1-k),D=C+k*R,l=M+A*Math.cos(D),f=E+A*Math.sin(D),m.push(new K.Vector2(l,f))}break;case"ellipse":M=b[0],E=b[1];var D,I,N,F=b[2],B=b[3],U=(C=b[4],P=b[5],O=!!b[6],b[7]);R=P-C,L=2*t;0!==U&&(I=Math.cos(U),N=Math.sin(U));for(x=1;x<=L;x++){k=x/L;if(O||(k=1-k),D=C+k*R,l=M+F*Math.cos(D),f=E+B*Math.sin(D),0!==U){var V=l;l=(V-M)*I-(f-E)*N+M,f=(V-M)*N+(f-E)*I+E}m.push(new K.Vector2(l,f))}}}var j=m[m.length-1];return Math.abs(j.x-m[0].x)<Number.EPSILON&&Math.abs(j.y-m[0].y)<Number.EPSILON&&m.splice(m.length-1,1),e&&m.push(m[0]),m},K.Path.prototype.toShapes=function(t,e){function r(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r],o=new K.Shape;o.actions=i.actions,o.curves=i.curves,e.push(o)}return e}function n(t,e){for(var r=e.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=e[i],s=e[o],c=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=e[o],c=-c,s=e[i],u=-u),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var h=u*(t.x-a.x)-c*(t.y-a.y);if(0===h)return!0;if(h<0)continue;n=!n}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return n}var i=K.ShapeUtils.isClockWise,o=function(t){for(var e=[],r=new K.Path,n=0,i=t.length;n<i;n++){var o=t[n],a=o.args,s=o.action;"moveTo"===s&&0!==r.actions.length&&(e.push(r),r=new K.Path),r[s].apply(r,a)}return 0!==r.actions.length&&e.push(r),e}(this.actions);if(0===o.length)return[];if(!0===e)return r(o);var a,s,c,u=[];if(1===o.length)return s=o[0],(c=new K.Shape).actions=s.actions,c.curves=s.curves,u.push(c),u;var h=!i(o[0].getPoints());h=t?!h:h;var l,f,p=[],d=[],m=[],v=0;d[v]=void 0,m[v]=[];for(var g=0,y=o.length;g<y;g++)a=i(l=(s=o[g]).getPoints()),(a=t?!a:a)?(!h&&d[v]&&v++,d[v]={s:new K.Shape,p:l},d[v].s.actions=s.actions,d[v].s.curves=s.curves,h&&v++,m[v]=[]):m[v].push({h:s,p:l[0]});if(!d[0])return r(o);if(d.length>1){for(var _=!1,b=[],x=0,w=d.length;x<w;x++)p[x]=[];for(x=0,w=d.length;x<w;x++)for(var T=m[x],S=0;S<T.length;S++){for(var M=T[S],E=!0,A=0;A<d.length;A++)n(M.p,d[A].p)&&(x!==A&&b.push({froms:x,tos:A,hole:S}),E?(E=!1,p[A].push(M)):_=!0);E&&p[x].push(M)}b.length>0&&(_||(m=p))}g=0;for(var C=d.length;g<C;g++){c=d[g].s,u.push(c);for(var P=0,O=(f=m[g]).length;P<O;P++)c.holes.push(f[P].h)}return u},K.Shape=function(){K.Path.apply(this,arguments),this.holes=[]},K.Shape.prototype=Object.create(K.Path.prototype),K.Shape.prototype.constructor=K.Shape,K.Shape.prototype.extrude=function(t){return new K.ExtrudeGeometry(this,t)},K.Shape.prototype.makeGeometry=function(t){return new K.ShapeGeometry(this,t)},K.Shape.prototype.getPointsHoles=function(t){for(var e=[],r=0,n=this.holes.length;r<n;r++)e[r]=this.holes[r].getPoints(t);return e},K.Shape.prototype.extractAllPoints=function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},K.Shape.prototype.extractPoints=function(t){return this.extractAllPoints(t)},K.Shape.Utils=K.ShapeUtils,K.LineCurve=function(t,e){this.v1=t,this.v2=e},K.LineCurve.prototype=Object.create(K.Curve.prototype),K.LineCurve.prototype.constructor=K.LineCurve,K.LineCurve.prototype.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},K.LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},K.LineCurve.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},K.QuadraticBezierCurve=function(t,e,r){this.v0=t,this.v1=e,this.v2=r},K.QuadraticBezierCurve.prototype=Object.create(K.Curve.prototype),K.QuadraticBezierCurve.prototype.constructor=K.QuadraticBezierCurve,K.QuadraticBezierCurve.prototype.getPoint=function(t){var e=K.ShapeUtils.b2;return new K.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},K.QuadraticBezierCurve.prototype.getTangent=function(t){var e=K.CurveUtils.tangentQuadraticBezier;return new K.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()},K.CubicBezierCurve=function(t,e,r,n){this.v0=t,this.v1=e,this.v2=r,this.v3=n},K.CubicBezierCurve.prototype=Object.create(K.Curve.prototype),K.CubicBezierCurve.prototype.constructor=K.CubicBezierCurve,K.CubicBezierCurve.prototype.getPoint=function(t){var e=K.ShapeUtils.b3;return new K.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},K.CubicBezierCurve.prototype.getTangent=function(t){var e=K.CurveUtils.tangentCubicBezier;return new K.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},K.SplineCurve=function(t){this.points=void 0==t?[]:t},K.SplineCurve.prototype=Object.create(K.Curve.prototype),K.SplineCurve.prototype.constructor=K.SplineCurve,K.SplineCurve.prototype.getPoint=function(t){var e=this.points,r=(e.length-1)*t,n=Math.floor(r),i=r-n,o=e[0===n?n:n-1],a=e[n],s=e[n>e.length-2?e.length-1:n+1],c=e[n>e.length-3?e.length-1:n+2],u=K.CurveUtils.interpolate;return new K.Vector2(u(o.x,a.x,s.x,c.x,i),u(o.y,a.y,s.y,c.y,i))},K.EllipseCurve=function(t,e,r,n,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0},K.EllipseCurve.prototype=Object.create(K.Curve.prototype),K.EllipseCurve.prototype.constructor=K.EllipseCurve,K.EllipseCurve.prototype.getPoint=function(t){var e,r=this.aEndAngle-this.aStartAngle;r<0&&(r+=2*Math.PI),r>2*Math.PI&&(r-=2*Math.PI),e=!0===this.aClockwise?this.aEndAngle+(1-t)*(2*Math.PI-r):this.aStartAngle+t*r;var n=this.aX+this.xRadius*Math.cos(e),i=this.aY+this.yRadius*Math.sin(e);if(0!==this.aRotation){var o=Math.cos(this.aRotation),a=Math.sin(this.aRotation),s=n,c=i;n=(s-this.aX)*o-(c-this.aY)*a+this.aX,i=(s-this.aX)*a+(c-this.aY)*o+this.aY}return new K.Vector2(n,i)},K.ArcCurve=function(t,e,r,n,i,o){K.EllipseCurve.call(this,t,e,r,r,n,i,o)},K.ArcCurve.prototype=Object.create(K.EllipseCurve.prototype),K.ArcCurve.prototype.constructor=K.ArcCurve,K.LineCurve3=K.Curve.create(function(t,e){this.v1=t,this.v2=e},function(t){var e=new K.Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e}),K.QuadraticBezierCurve3=K.Curve.create(function(t,e,r){this.v0=t,this.v1=e,this.v2=r},function(t){var e=K.ShapeUtils.b2;return new K.Vector3(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))}),K.CubicBezierCurve3=K.Curve.create(function(t,e,r,n){this.v0=t,this.v1=e,this.v2=r,this.v3=n},function(t){var e=K.ShapeUtils.b3;return new K.Vector3(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),K.SplineCurve3=K.Curve.create(function(t){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0==t?[]:t},function(t){var e=this.points,r=(e.length-1)*t,n=Math.floor(r),i=r-n,o=e[0==n?n:n-1],a=e[n],s=e[n>e.length-2?e.length-1:n+1],c=e[n>e.length-3?e.length-1:n+2],u=K.CurveUtils.interpolate;return new K.Vector3(u(o.x,a.x,s.x,c.x,i),u(o.y,a.y,s.y,c.y,i),u(o.z,a.z,s.z,c.z,i))}),K.CatmullRomCurve3=function(){var t=new K.Vector3,e=new i,r=new i,n=new i;function i(){}return i.prototype.init=function(t,e,r,n){this.c0=t,this.c1=r,this.c2=-3*t+3*e-2*r-n,this.c3=2*t-2*e+r+n},i.prototype.initNonuniformCatmullRom=function(t,e,r,n,i,o,a){var s=(e-t)/i-(r-t)/(i+o)+(r-e)/o,c=(r-e)/o-(n-e)/(o+a)+(n-r)/a;s*=o,c*=o,this.init(e,r,s,c)},i.prototype.initCatmullRom=function(t,e,r,n,i){this.init(e,r,i*(r-t),i*(n-e))},i.prototype.calc=function(t){var e=t*t,r=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*r},K.Curve.create(function(t){this.points=t||[]},function(i){var o,a,s,c,u,h,l,f,p=this.points;if((c=p.length)<2&&console.log("duh, you need at least 2 points"),0===(s=(o=(c-1)*i)-(a=Math.floor(o)))&&a===c-1&&(a=c-2,s=1),0===a?(t.subVectors(p[0],p[1]).add(p[0]),u=t):u=p[a-1],h=p[a],l=p[a+1],a+2<c?f=p[a+2]:(t.subVectors(p[c-1],p[c-2]).add(p[c-2]),f=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var d="chordal"===this.type?.5:.25,m=Math.pow(u.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(l),d),g=Math.pow(l.distanceToSquared(f),d);v<1e-4&&(v=1),m<1e-4&&(m=v),g<1e-4&&(g=v),e.initNonuniformCatmullRom(u.x,h.x,l.x,f.x,m,v,g),r.initNonuniformCatmullRom(u.y,h.y,l.y,f.y,m,v,g),n.initNonuniformCatmullRom(u.z,h.z,l.z,f.z,m,v,g)}else if("catmullrom"===this.type){var y=void 0!==this.tension?this.tension:.5;e.initCatmullRom(u.x,h.x,l.x,f.x,y),r.initCatmullRom(u.y,h.y,l.y,f.y,y),n.initCatmullRom(u.z,h.z,l.z,f.z,y)}return new K.Vector3(e.calc(s),r.calc(s),n.calc(s))})}(),K.ClosedSplineCurve3=K.Curve.create(function(t){this.points=void 0==t?[]:t},function(t){var e=this.points,r=(e.length-0)*t,n=Math.floor(r),i=r-n,o=e[((n+=n>0?0:(Math.floor(Math.abs(n)/e.length)+1)*e.length)-1)%e.length],a=e[n%e.length],s=e[(n+1)%e.length],c=e[(n+2)%e.length],u=K.CurveUtils.interpolate;return new K.Vector3(u(o.x,a.x,s.x,c.x,i),u(o.y,a.y,s.y,c.y,i),u(o.z,a.z,s.z,c.z,i))}),K.BoxGeometry=function(t,e,r,n,i,o){K.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o},this.widthSegments=n||1,this.heightSegments=i||1,this.depthSegments=o||1;var a=this,s=t/2,c=e/2,u=r/2;function h(t,e,r,n,i,o,s,c){var u,h,l,f=a.widthSegments,p=a.heightSegments,d=i/2,m=o/2,v=a.vertices.length;"x"===t&&"y"===e||"y"===t&&"x"===e?u="z":"x"===t&&"z"===e||"z"===t&&"x"===e?(u="y",p=a.depthSegments):("z"===t&&"y"===e||"y"===t&&"z"===e)&&(u="x",f=a.depthSegments);var g=f+1,y=p+1,_=i/f,b=o/p,x=new K.Vector3;for(x[u]=s>0?1:-1,l=0;l<y;l++)for(h=0;h<g;h++){var w=new K.Vector3;w[t]=(h*_-d)*r,w[e]=(l*b-m)*n,w[u]=s,a.vertices.push(w)}for(l=0;l<p;l++)for(h=0;h<f;h++){var T=h+g*l,S=h+g*(l+1),M=h+1+g*(l+1),E=h+1+g*l,A=new K.Vector2(h/f,1-l/p),C=new K.Vector2(h/f,1-(l+1)/p),P=new K.Vector2((h+1)/f,1-(l+1)/p),O=new K.Vector2((h+1)/f,1-l/p),R=new K.Face3(T+v,S+v,E+v);R.normal.copy(x),R.vertexNormals.push(x.clone(),x.clone(),x.clone()),R.materialIndex=c,a.faces.push(R),a.faceVertexUvs[0].push([A,C,O]),(R=new K.Face3(S+v,M+v,E+v)).normal.copy(x),R.vertexNormals.push(x.clone(),x.clone(),x.clone()),R.materialIndex=c,a.faces.push(R),a.faceVertexUvs[0].push([C.clone(),P,O.clone()])}}h("z","y",-1,-1,r,e,s,0),h("z","y",1,-1,r,e,-s,1),h("x","z",1,1,t,r,c,2),h("x","z",1,-1,t,r,-c,3),h("x","y",1,-1,t,e,u,4),h("x","y",-1,-1,t,e,-u,5),this.mergeVertices()},K.BoxGeometry.prototype=Object.create(K.Geometry.prototype),K.BoxGeometry.prototype.constructor=K.BoxGeometry,K.BoxGeometry.prototype.clone=function(){var t=this.parameters;return new K.BoxGeometry(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)},K.CubeGeometry=K.BoxGeometry,K.CircleGeometry=function(t,e,r,n){K.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new K.CircleBufferGeometry(t,e,r,n))},K.CircleGeometry.prototype=Object.create(K.Geometry.prototype),K.CircleGeometry.prototype.constructor=K.CircleGeometry,K.CircleGeometry.prototype.clone=function(){var t=this.parameters;return new K.CircleGeometry(t.radius,t.segments,t.thetaStart,t.thetaLength)},K.CircleBufferGeometry=function(t,e,r,n){K.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},t=t||50,e=void 0!==e?Math.max(3,e):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i=e+2,o=new Float32Array(3*i),a=new Float32Array(3*i),s=new Float32Array(2*i);a[2]=1,s[0]=.5,s[1]=.5;for(var c=0,u=3,h=2;c<=e;c++,u+=3,h+=2){var l=r+c/e*n;o[u]=t*Math.cos(l),o[u+1]=t*Math.sin(l),a[u+2]=1,s[h]=(o[u]/t+1)/2,s[h+1]=(o[u+1]/t+1)/2}var f=[];for(u=1;u<=e;u++)f.push(u,u+1,0);this.setIndex(new K.BufferAttribute(new Uint16Array(f),1)),this.addAttribute("position",new K.BufferAttribute(o,3)),this.addAttribute("normal",new K.BufferAttribute(a,3)),this.addAttribute("uv",new K.BufferAttribute(s,2)),this.boundingSphere=new K.Sphere(new K.Vector3,t)},K.CircleBufferGeometry.prototype=Object.create(K.BufferGeometry.prototype),K.CircleBufferGeometry.prototype.constructor=K.CircleBufferGeometry,K.CircleBufferGeometry.prototype.clone=function(){var t=this.parameters;return new K.CircleBufferGeometry(t.radius,t.segments,t.thetaStart,t.thetaLength)},K.CylinderGeometry=function(t,e,r,n,i,o,a,s){K.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},t=void 0!==t?t:20,e=void 0!==e?e:20,r=void 0!==r?r:100,n=n||8,i=i||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c,u,h=r/2,l=[],f=[];for(u=0;u<=i;u++){var p=[],d=[],m=u/i,v=m*(e-t)+t;for(c=0;c<=n;c++){var g=c/n,y=new K.Vector3;y.x=v*Math.sin(g*s+a),y.y=-m*r+h,y.z=v*Math.cos(g*s+a),this.vertices.push(y),p.push(this.vertices.length-1),d.push(new K.Vector2(g,1-m))}l.push(p),f.push(d)}var _,b,x=(e-t)/r;for(c=0;c<n;c++)for(0!==t?(_=this.vertices[l[0][c]].clone(),b=this.vertices[l[0][c+1]].clone()):(_=this.vertices[l[1][c]].clone(),b=this.vertices[l[1][c+1]].clone()),_.setY(Math.sqrt(_.x*_.x+_.z*_.z)*x).normalize(),b.setY(Math.sqrt(b.x*b.x+b.z*b.z)*x).normalize(),u=0;u<i;u++){var w=l[u][c],T=l[u+1][c],S=l[u+1][c+1],M=l[u][c+1],E=_.clone(),A=_.clone(),C=b.clone(),P=b.clone(),O=f[u][c].clone(),R=f[u+1][c].clone(),L=f[u+1][c+1].clone(),k=f[u][c+1].clone();this.faces.push(new K.Face3(w,T,M,[E,A,P])),this.faceVertexUvs[0].push([O,R,k]),this.faces.push(new K.Face3(T,S,M,[A.clone(),C,P.clone()])),this.faceVertexUvs[0].push([R.clone(),L,k.clone()])}if(!1===o&&t>0)for(this.vertices.push(new K.Vector3(0,h,0)),c=0;c<n;c++){w=l[0][c],T=l[0][c+1],S=this.vertices.length-1,E=new K.Vector3(0,1,0),A=new K.Vector3(0,1,0),C=new K.Vector3(0,1,0),O=f[0][c].clone(),R=f[0][c+1].clone(),L=new K.Vector2(R.x,0);this.faces.push(new K.Face3(w,T,S,[E,A,C],void 0,1)),this.faceVertexUvs[0].push([O,R,L])}if(!1===o&&e>0)for(this.vertices.push(new K.Vector3(0,-h,0)),c=0;c<n;c++){w=l[i][c+1],T=l[i][c],S=this.vertices.length-1,E=new K.Vector3(0,-1,0),A=new K.Vector3(0,-1,0),C=new K.Vector3(0,-1,0),O=f[i][c+1].clone(),R=f[i][c].clone(),L=new K.Vector2(R.x,1);this.faces.push(new K.Face3(w,T,S,[E,A,C],void 0,2)),this.faceVertexUvs[0].push([O,R,L])}this.computeFaceNormals()},K.CylinderGeometry.prototype=Object.create(K.Geometry.prototype),K.CylinderGeometry.prototype.constructor=K.CylinderGeometry,K.CylinderGeometry.prototype.clone=function(){var t=this.parameters;return new K.CylinderGeometry(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)},K.EdgesGeometry=function(t,e){K.BufferGeometry.call(this),e=void 0!==e?e:1;var r=Math.cos(K.Math.degToRad(e)),n=[0,0],i={};function o(t,e){return t-e}var a,s=["a","b","c"];t instanceof K.BufferGeometry?(a=new K.Geometry).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,u=a.faces,h=0,l=u.length;h<l;h++)for(var f=u[h],p=0;p<3;p++){n[0]=f[s[p]],n[1]=f[s[(p+1)%3]],n.sort(o),void 0===i[m=n.toString()]?i[m]={vert1:n[0],vert2:n[1],face1:h,face2:void 0}:i[m].face2=h}var d=[];for(var m in i){var v=i[m];if(void 0===v.face2||u[v.face1].normal.dot(u[v.face2].normal)<=r){var g=c[v.vert1];d.push(g.x),d.push(g.y),d.push(g.z),g=c[v.vert2],d.push(g.x),d.push(g.y),d.push(g.z)}}this.addAttribute("position",new K.BufferAttribute(new Float32Array(d),3))},K.EdgesGeometry.prototype=Object.create(K.BufferGeometry.prototype),K.EdgesGeometry.prototype.constructor=K.EdgesGeometry,K.ExtrudeGeometry=function(t,e){void 0!==t?(K.Geometry.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()):t=[]},K.ExtrudeGeometry.prototype=Object.create(K.Geometry.prototype),K.ExtrudeGeometry.prototype.constructor=K.ExtrudeGeometry,K.ExtrudeGeometry.prototype.addShapeList=function(t,e){for(var r=t.length,n=0;n<r;n++){var i=t[n];this.addShape(i,e)}},K.ExtrudeGeometry.prototype.addShape=function(t,e){var r,n,i,o,a,s,c,u,h=void 0!==e.amount?e.amount:100,l=void 0!==e.bevelThickness?e.bevelThickness:6,f=void 0!==e.bevelSize?e.bevelSize:l-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,d=void 0===e.bevelEnabled||e.bevelEnabled,m=void 0!==e.curveSegments?e.curveSegments:12,v=void 0!==e.steps?e.steps:1,g=e.extrudePath,y=!1,_=void 0!==e.UVGenerator?e.UVGenerator:K.ExtrudeGeometry.WorldUVGenerator;g&&(r=g.getSpacedPoints(v),y=!0,d=!1,n=void 0!==e.frames?e.frames:new K.TubeGeometry.FrenetFrames(g,v,!1),i=new K.Vector3,o=new K.Vector3,a=new K.Vector3),d||(p=0,l=0,f=0);var b=this,x=this.vertices.length,w=t.extractPoints(m),T=w.shape,S=w.holes,M=!K.ShapeUtils.isClockWise(T);if(M){for(T=T.reverse(),c=0,u=S.length;c<u;c++)s=S[c],K.ShapeUtils.isClockWise(s)&&(S[c]=s.reverse());M=!1}var E=K.ShapeUtils.triangulateShape(T,S),A=T;for(c=0,u=S.length;c<u;c++)s=S[c],T=T.concat(s);function C(t,e,r){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(r).add(t)}var P,O,R,L,k,D,I=T.length,N=E.length;function F(t,e,r){var n,i,o=1,a=t.x-e.x,s=t.y-e.y,c=r.x-t.x,u=r.y-t.y,h=a*a+s*s,l=a*u-s*c;if(Math.abs(l)>Number.EPSILON){var f=Math.sqrt(h),p=Math.sqrt(c*c+u*u),d=e.x-s/f,m=e.y+a/f,v=((r.x-u/p-d)*u-(r.y+c/p-m)*c)/(a*u-s*c),g=(n=d+a*v-t.x)*n+(i=m+s*v-t.y)*i;if(g<=2)return new K.Vector2(n,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(n=-s,i=a,o=Math.sqrt(h)):(n=a,i=s,o=Math.sqrt(h/2))}return new K.Vector2(n/o,i/o)}for(var B=[],U=0,V=A.length,j=V-1,G=U+1;U<V;U++,j++,G++)j===V&&(j=0),G===V&&(G=0),B[U]=F(A[U],A[j],A[G]);var z,H,W=[],X=B.concat();for(c=0,u=S.length;c<u;c++){for(s=S[c],z=[],U=0,j=(V=s.length)-1,G=U+1;U<V;U++,j++,G++)j===V&&(j=0),G===V&&(G=0),z[U]=F(s[U],s[j],s[G]);W.push(z),X=X.concat(z)}for(P=0;P<p;P++){for(L=l*(1-(R=P/p)),O=f*Math.sin(R*Math.PI/2),U=0,V=A.length;U<V;U++)q((k=C(A[U],B[U],O)).x,k.y,-L);for(c=0,u=S.length;c<u;c++)for(s=S[c],z=W[c],U=0,V=s.length;U<V;U++)q((k=C(s[U],z[U],O)).x,k.y,-L)}for(O=f,U=0;U<I;U++)k=d?C(T[U],X[U],O):T[U],y?(o.copy(n.normals[0]).multiplyScalar(k.x),i.copy(n.binormals[0]).multiplyScalar(k.y),a.copy(r[0]).add(o).add(i),q(a.x,a.y,a.z)):q(k.x,k.y,0);for(H=1;H<=v;H++)for(U=0;U<I;U++)k=d?C(T[U],X[U],O):T[U],y?(o.copy(n.normals[H]).multiplyScalar(k.x),i.copy(n.binormals[H]).multiplyScalar(k.y),a.copy(r[H]).add(o).add(i),q(a.x,a.y,a.z)):q(k.x,k.y,h/v*H);for(P=p-1;P>=0;P--){for(L=l*(1-(R=P/p)),O=f*Math.sin(R*Math.PI/2),U=0,V=A.length;U<V;U++)q((k=C(A[U],B[U],O)).x,k.y,h+L);for(c=0,u=S.length;c<u;c++)for(s=S[c],z=W[c],U=0,V=s.length;U<V;U++)k=C(s[U],z[U],O),y?q(k.x,k.y+r[v-1].y,r[v-1].x+L):q(k.x,k.y,h+L)}function $(t,e){var r,n;for(U=t.length;--U>=0;){r=U,(n=U-1)<0&&(n=t.length-1);var i=0,o=v+2*p;for(i=0;i<o;i++){var a=I*i,s=I*(i+1);Q(e+r+a,e+n+a,e+n+s,e+r+s,t,i,o,r,n)}}}function q(t,e,r){b.vertices.push(new K.Vector3(t,e,r))}function Y(t,e,r){t+=x,e+=x,r+=x,b.faces.push(new K.Face3(t,e,r,null,null,0));var n=_.generateTopUV(b,t,e,r);b.faceVertexUvs[0].push(n)}function Q(t,e,r,n,i,o,a,s,c){t+=x,e+=x,r+=x,n+=x,b.faces.push(new K.Face3(t,e,n,null,null,1)),b.faces.push(new K.Face3(e,r,n,null,null,1));var u=_.generateSideWallUV(b,t,e,r,n);b.faceVertexUvs[0].push([u[0],u[1],u[3]]),b.faceVertexUvs[0].push([u[1],u[2],u[3]])}!function(){if(d){var t=0,e=I*t;for(U=0;U<N;U++)Y((D=E[U])[2]+e,D[1]+e,D[0]+e);for(e=I*(t=v+2*p),U=0;U<N;U++)Y((D=E[U])[0]+e,D[1]+e,D[2]+e)}else{for(U=0;U<N;U++)Y((D=E[U])[2],D[1],D[0]);for(U=0;U<N;U++)Y((D=E[U])[0]+I*v,D[1]+I*v,D[2]+I*v)}}(),function(){var t=0;for($(A,t),t+=A.length,c=0,u=S.length;c<u;c++)$(s=S[c],t),t+=s.length}()},K.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,r,n){var i=t.vertices,o=i[e],a=i[r],s=i[n];return[new K.Vector2(o.x,o.y),new K.Vector2(a.x,a.y),new K.Vector2(s.x,s.y)]},generateSideWallUV:function(t,e,r,n,i){var o=t.vertices,a=o[e],s=o[r],c=o[n],u=o[i];return Math.abs(a.y-s.y)<.01?[new K.Vector2(a.x,1-a.z),new K.Vector2(s.x,1-s.z),new K.Vector2(c.x,1-c.z),new K.Vector2(u.x,1-u.z)]:[new K.Vector2(a.y,1-a.z),new K.Vector2(s.y,1-s.z),new K.Vector2(c.y,1-c.z),new K.Vector2(u.y,1-u.z)]}},K.ShapeGeometry=function(t,e){K.Geometry.call(this),this.type="ShapeGeometry",!1===Array.isArray(t)&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()},K.ShapeGeometry.prototype=Object.create(K.Geometry.prototype),K.ShapeGeometry.prototype.constructor=K.ShapeGeometry,K.ShapeGeometry.prototype.addShapeList=function(t,e){for(var r=0,n=t.length;r<n;r++)this.addShape(t[r],e);return this},K.ShapeGeometry.prototype.addShape=function(t,e){void 0===e&&(e={});var r,n,i,o=void 0!==e.curveSegments?e.curveSegments:12,a=e.material,s=void 0===e.UVGenerator?K.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,c=this.vertices.length,u=t.extractPoints(o),h=u.shape,l=u.holes,f=!K.ShapeUtils.isClockWise(h);if(f){for(h=h.reverse(),r=0,n=l.length;r<n;r++)i=l[r],K.ShapeUtils.isClockWise(i)&&(l[r]=i.reverse());f=!1}var p=K.ShapeUtils.triangulateShape(h,l);for(r=0,n=l.length;r<n;r++)i=l[r],h=h.concat(i);var d,m,v=h.length,g=p.length;for(r=0;r<v;r++)d=h[r],this.vertices.push(new K.Vector3(d.x,d.y,0));for(r=0;r<g;r++){var y=(m=p[r])[0]+c,_=m[1]+c,b=m[2]+c;this.faces.push(new K.Face3(y,_,b,null,null,a)),this.faceVertexUvs[0].push(s.generateTopUV(this,y,_,b))}},K.LatheGeometry=function(t,e,r,n){K.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},e=e||12,r=r||0,n=n||2*Math.PI;for(var i=1/(t.length-1),o=1/e,a=0,s=e;a<=s;a++)for(var c=r+a*o*n,u=Math.cos(c),h=Math.sin(c),l=0,f=t.length;l<f;l++){var p=t[l],d=new K.Vector3;d.x=u*p.x-h*p.y,d.y=h*p.x+u*p.y,d.z=p.z,this.vertices.push(d)}var m=t.length;for(a=0,s=e;a<s;a++)for(l=0,f=t.length-1;l<f;l++){var v=l+m*a,g=v,y=v+m,_=(u=v+1+m,v+1),b=a*o,x=l*i,w=b+o,T=x+i;this.faces.push(new K.Face3(g,y,_)),this.faceVertexUvs[0].push([new K.Vector2(b,x),new K.Vector2(w,x),new K.Vector2(b,T)]),this.faces.push(new K.Face3(y,u,_)),this.faceVertexUvs[0].push([new K.Vector2(w,x),new K.Vector2(w,T),new K.Vector2(b,T)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},K.LatheGeometry.prototype=Object.create(K.Geometry.prototype),K.LatheGeometry.prototype.constructor=K.LatheGeometry,K.PlaneGeometry=function(t,e,r,n){K.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new K.PlaneBufferGeometry(t,e,r,n))},K.PlaneGeometry.prototype=Object.create(K.Geometry.prototype),K.PlaneGeometry.prototype.constructor=K.PlaneGeometry,K.PlaneGeometry.prototype.clone=function(){var t=this.parameters;return new K.PlaneGeometry(t.width,t.height,t.widthSegments,t.heightSegments)},K.PlaneBufferGeometry=function(t,e,r,n){K.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n};for(var i=t/2,o=e/2,a=Math.floor(r)||1,s=Math.floor(n)||1,c=a+1,u=s+1,h=t/a,l=e/s,f=new Float32Array(c*u*3),p=new Float32Array(c*u*3),d=new Float32Array(c*u*2),m=0,v=0,g=0;g<u;g++)for(var y=g*l-o,_=0;_<c;_++){var b=_*h-i;f[m]=b,f[m+1]=-y,p[m+2]=1,d[v]=_/a,d[v+1]=1-g/s,m+=3,v+=2}m=0;var x=new(f.length/3>65535?Uint32Array:Uint16Array)(a*s*6);for(g=0;g<s;g++)for(_=0;_<a;_++){var w=_+c*g,T=_+c*(g+1),S=_+1+c*(g+1),M=_+1+c*g;x[m]=w,x[m+1]=T,x[m+2]=M,x[m+3]=T,x[m+4]=S,x[m+5]=M,m+=6}this.setIndex(new K.BufferAttribute(x,1)),this.addAttribute("position",new K.BufferAttribute(f,3)),this.addAttribute("normal",new K.BufferAttribute(p,3)),this.addAttribute("uv",new K.BufferAttribute(d,2))},K.PlaneBufferGeometry.prototype=Object.create(K.BufferGeometry.prototype),K.PlaneBufferGeometry.prototype.constructor=K.PlaneBufferGeometry,K.PlaneBufferGeometry.prototype.clone=function(){var t=this.parameters;return new K.PlaneBufferGeometry(t.width,t.height,t.widthSegments,t.heightSegments)},K.RingGeometry=function(t,e,r,n,i,o){K.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},t=t||0,e=e||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;var a,s,c=[],u=t,h=(e-t)/(n=void 0!==n?Math.max(1,n):8);for(a=0;a<n+1;a++){for(s=0;s<r+1;s++){var l=new K.Vector3,f=i+s/r*o;l.x=u*Math.cos(f),l.y=u*Math.sin(f),this.vertices.push(l),c.push(new K.Vector2((l.x/e+1)/2,(l.y/e+1)/2))}u+=h}var p=new K.Vector3(0,0,1);for(a=0;a<n;a++){var d=a*(r+1);for(s=0;s<r;s++){var m=f=s+d,v=f+r+1,g=f+r+2;this.faces.push(new K.Face3(m,v,g,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([c[m].clone(),c[v].clone(),c[g].clone()]),m=f,v=f+r+2,g=f+1,this.faces.push(new K.Face3(m,v,g,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([c[m].clone(),c[v].clone(),c[g].clone()])}}this.computeFaceNormals(),this.boundingSphere=new K.Sphere(new K.Vector3,u)},K.RingGeometry.prototype=Object.create(K.Geometry.prototype),K.RingGeometry.prototype.constructor=K.RingGeometry,K.RingGeometry.prototype.clone=function(){var t=this.parameters;return new K.RingGeometry(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)},K.SphereGeometry=function(t,e,r,n,i,o,a){K.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new K.SphereBufferGeometry(t,e,r,n,i,o,a))},K.SphereGeometry.prototype=Object.create(K.Geometry.prototype),K.SphereGeometry.prototype.constructor=K.SphereGeometry,K.SphereGeometry.prototype.clone=function(){var t=this.parameters;return new K.SphereGeometry(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)},K.SphereBufferGeometry=function(t,e,r,n,i,o,a){K.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;for(var s=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),c=(e+1)*(r+1),u=new K.BufferAttribute(new Float32Array(3*c),3),h=new K.BufferAttribute(new Float32Array(3*c),3),l=new K.BufferAttribute(new Float32Array(2*c),2),f=0,p=[],d=new K.Vector3,m=0;m<=r;m++){for(var v=[],g=m/r,y=0;y<=e;y++){var _=y/e,b=-t*Math.cos(n+_*i)*Math.sin(o+g*a),x=t*Math.cos(o+g*a),w=t*Math.sin(n+_*i)*Math.sin(o+g*a);d.set(b,x,w).normalize(),u.setXYZ(f,b,x,w),h.setXYZ(f,d.x,d.y,d.z),l.setXY(f,_,1-g),v.push(f),f++}p.push(v)}var T=[];for(m=0;m<r;m++)for(y=0;y<e;y++){var S=p[m][y+1],M=p[m][y],E=p[m+1][y],A=p[m+1][y+1];(0!==m||o>0)&&T.push(S,M,A),(m!==r-1||s<Math.PI)&&T.push(M,E,A)}this.setIndex(new(u.count>65535?K.Uint32Attribute:K.Uint16Attribute)(T,1)),this.addAttribute("position",u),this.addAttribute("normal",h),this.addAttribute("uv",l),this.boundingSphere=new K.Sphere(new K.Vector3,t)},K.SphereBufferGeometry.prototype=Object.create(K.BufferGeometry.prototype),K.SphereBufferGeometry.prototype.constructor=K.SphereBufferGeometry,K.SphereBufferGeometry.prototype.clone=function(){var t=this.parameters;return new K.SphereBufferGeometry(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)},K.TorusGeometry=function(t,e,r,n,i){K.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},t=t||100,e=e||40,r=r||8,n=n||6,i=i||2*Math.PI;for(var o=new K.Vector3,a=[],s=[],c=0;c<=r;c++)for(var u=0;u<=n;u++){var h=u/n*i,l=c/r*Math.PI*2;o.x=t*Math.cos(h),o.y=t*Math.sin(h);var f=new K.Vector3;f.x=(t+e*Math.cos(l))*Math.cos(h),f.y=(t+e*Math.cos(l))*Math.sin(h),f.z=e*Math.sin(l),this.vertices.push(f),a.push(new K.Vector2(u/n,c/r)),s.push(f.clone().sub(o).normalize())}for(c=1;c<=r;c++)for(u=1;u<=n;u++){var p=(n+1)*c+u-1,d=(n+1)*(c-1)+u-1,m=(n+1)*(c-1)+u,v=(n+1)*c+u,g=new K.Face3(p,d,v,[s[p].clone(),s[d].clone(),s[v].clone()]);this.faces.push(g),this.faceVertexUvs[0].push([a[p].clone(),a[d].clone(),a[v].clone()]),g=new K.Face3(d,m,v,[s[d].clone(),s[m].clone(),s[v].clone()]),this.faces.push(g),this.faceVertexUvs[0].push([a[d].clone(),a[m].clone(),a[v].clone()])}this.computeFaceNormals()},K.TorusGeometry.prototype=Object.create(K.Geometry.prototype),K.TorusGeometry.prototype.constructor=K.TorusGeometry,K.TorusGeometry.prototype.clone=function(){var t=this.parameters;return new K.TorusGeometry(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)},K.TorusKnotGeometry=function(t,e,r,n,i,o,a){K.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,p:i,q:o,heightScale:a},t=t||100,e=e||40,r=r||64,n=n||8,i=i||2,o=o||3,a=a||1;for(var s=new Array(r),c=new K.Vector3,u=new K.Vector3,h=new K.Vector3,l=0;l<r;++l){s[l]=new Array(n);var f=l/r*2*i*Math.PI,p=O(f,o,i,t,a),d=O(f+.01,o,i,t,a);c.subVectors(d,p),u.addVectors(d,p),h.crossVectors(c,u),u.crossVectors(h,c),h.normalize(),u.normalize();for(var m=0;m<n;++m){var v=m/n*2*Math.PI,g=-e*Math.cos(v),y=e*Math.sin(v),_=new K.Vector3;_.x=p.x+g*u.x+y*h.x,_.y=p.y+g*u.y+y*h.y,_.z=p.z+g*u.z+y*h.z,s[l][m]=this.vertices.push(_)-1}}for(l=0;l<r;++l)for(m=0;m<n;++m){var b=(l+1)%r,x=(m+1)%n,w=s[l][m],T=s[b][m],S=s[b][x],M=s[l][x],E=new K.Vector2(l/r,m/n),A=new K.Vector2((l+1)/r,m/n),C=new K.Vector2((l+1)/r,(m+1)/n),P=new K.Vector2(l/r,(m+1)/n);this.faces.push(new K.Face3(w,T,M)),this.faceVertexUvs[0].push([E,A,P]),this.faces.push(new K.Face3(T,S,M)),this.faceVertexUvs[0].push([A.clone(),C,P.clone()])}function O(t,e,r,n,i){var o=Math.cos(t),a=Math.sin(t),s=e/r*t,c=Math.cos(s),u=n*(2+c)*.5*o,h=n*(2+c)*a*.5,l=i*n*Math.sin(s)*.5;return new K.Vector3(u,h,l)}this.computeFaceNormals(),this.computeVertexNormals()},K.TorusKnotGeometry.prototype=Object.create(K.Geometry.prototype),K.TorusKnotGeometry.prototype.constructor=K.TorusKnotGeometry,K.TorusKnotGeometry.prototype.clone=function(){var t=this.parameters;return new K.TorusKnotGeometry(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.p,t.q,t.heightScale)},K.TubeGeometry=function(t,e,r,n,i,o){K.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,segments:e,radius:r,radialSegments:n,closed:i,taper:o},e=e||64,r=r||1,n=n||8,i=i||!1,o=o||K.TubeGeometry.NoTaper;var a,s,c,u,h,l,f,p,d,m,v,g,y,_,b,x,w,T,S,M,E,A,C,P=[],O=this,R=e+1,L=new K.Vector3,k=new K.TubeGeometry.FrenetFrames(t,e,i),D=k.tangents,I=k.normals,N=k.binormals;for(this.tangents=D,this.normals=I,this.binormals=N,d=0;d<R;d++)for(P[d]=[],c=d/(R-1),p=t.getPointAt(c),D[d],a=I[d],s=N[d],h=r*o(c),m=0;m<n;m++)u=m/n*2*Math.PI,l=-h*Math.cos(u),f=h*Math.sin(u),L.copy(p),L.x+=l*a.x+f*s.x,L.y+=l*a.y+f*s.y,L.z+=l*a.z+f*s.z,P[d][m]=(E=L.x,A=L.y,C=L.z,O.vertices.push(new K.Vector3(E,A,C))-1);for(d=0;d<e;d++)for(m=0;m<n;m++)v=i?(d+1)%e:d+1,g=(m+1)%n,y=P[d][m],_=P[v][m],b=P[v][g],x=P[d][g],w=new K.Vector2(d/e,m/n),T=new K.Vector2((d+1)/e,m/n),S=new K.Vector2((d+1)/e,(m+1)/n),M=new K.Vector2(d/e,(m+1)/n),this.faces.push(new K.Face3(y,_,x)),this.faceVertexUvs[0].push([w,T,M]),this.faces.push(new K.Face3(_,b,x)),this.faceVertexUvs[0].push([T.clone(),S,M.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},K.TubeGeometry.prototype=Object.create(K.Geometry.prototype),K.TubeGeometry.prototype.constructor=K.TubeGeometry,K.TubeGeometry.prototype.clone=function(){return new this.constructor(this.parameters.path,this.parameters.segments,this.parameters.radius,this.parameters.radialSegments,this.parameters.closed,this.parameters.taper)},K.TubeGeometry.NoTaper=function(t){return 1},K.TubeGeometry.SinusoidalTaper=function(t){return Math.sin(Math.PI*t)},K.TubeGeometry.FrenetFrames=function(t,e,r){var n,i,o,a,s,c,u,h=new K.Vector3,l=[],f=[],p=[],d=new K.Vector3,m=new K.Matrix4,v=e+1;for(this.tangents=l,this.normals=f,this.binormals=p,c=0;c<v;c++)u=c/(v-1),l[c]=t.getTangentAt(u),l[c].normalize();for(function(){f[0]=new K.Vector3,p[0]=new K.Vector3,i=Number.MAX_VALUE,o=Math.abs(l[0].x),a=Math.abs(l[0].y),s=Math.abs(l[0].z),o<=i&&(i=o,h.set(1,0,0));a<=i&&(i=a,h.set(0,1,0));s<=i&&h.set(0,0,1);d.crossVectors(l[0],h).normalize(),f[0].crossVectors(l[0],d),p[0].crossVectors(l[0],f[0])}(),c=1;c<v;c++)f[c]=f[c-1].clone(),p[c]=p[c-1].clone(),d.crossVectors(l[c-1],l[c]),d.length()>Number.EPSILON&&(d.normalize(),n=Math.acos(K.Math.clamp(l[c-1].dot(l[c]),-1,1)),f[c].applyMatrix4(m.makeRotationAxis(d,n))),p[c].crossVectors(l[c],f[c]);if(r)for(n=Math.acos(K.Math.clamp(f[0].dot(f[v-1]),-1,1)),n/=v-1,l[0].dot(d.crossVectors(f[0],f[v-1]))>0&&(n=-n),c=1;c<v;c++)f[c].applyMatrix4(m.makeRotationAxis(l[c],n*c)),p[c].crossVectors(l[c],f[c])},K.PolyhedronGeometry=function(t,e,r,n){K.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},r=r||1,n=n||0;for(var i=this,o=0,a=t.length;o<a;o+=3)b(new K.Vector3(t[o],t[o+1],t[o+2]));var s=this.vertices,c=[],u=(o=0,0);for(a=e.length;o<a;o+=3,u++){var h=s[e[o]],l=s[e[o+1]],f=s[e[o+2]];c[u]=new K.Face3(h.index,l.index,f.index,[h.clone(),l.clone(),f.clone()],void 0,u)}var p=new K.Vector3;for(o=0,a=c.length;o<a;o++)w(c[o],n);for(o=0,a=this.faceVertexUvs[0].length;o<a;o++){var d=this.faceVertexUvs[0][o],m=d[0].x,v=d[1].x,g=d[2].x,y=Math.max(m,v,g),_=Math.min(m,v,g);y>.9&&_<.1&&(m<.2&&(d[0].x+=1),v<.2&&(d[1].x+=1),g<.2&&(d[2].x+=1))}for(o=0,a=this.vertices.length;o<a;o++)this.vertices[o].multiplyScalar(r);function b(t){var e=t.normalize().clone();e.index=i.vertices.push(e)-1;var r=T(t)/2/Math.PI+.5,n=function(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}(t)/Math.PI+.5;return e.uv=new K.Vector2(r,1-n),e}function x(t,e,r,n){var o=new K.Face3(t.index,e.index,r.index,[t.clone(),e.clone(),r.clone()],void 0,n);i.faces.push(o),p.copy(t).add(e).add(r).divideScalar(3);var a=T(p);i.faceVertexUvs[0].push([S(t.uv,t,a),S(e.uv,e,a),S(r.uv,r,a)])}function w(t,e){for(var r=Math.pow(2,e),n=b(i.vertices[t.a]),o=b(i.vertices[t.b]),a=b(i.vertices[t.c]),s=[],c=t.materialIndex,u=0;u<=r;u++){s[u]=[];for(var h=b(n.clone().lerp(a,u/r)),l=b(o.clone().lerp(a,u/r)),f=r-u,p=0;p<=f;p++)s[u][p]=0===p&&u===r?h:b(h.clone().lerp(l,p/f))}for(u=0;u<r;u++)for(p=0;p<2*(r-u)-1;p++){var d=Math.floor(p/2);p%2==0?x(s[u][d+1],s[u+1][d],s[u][d],c):x(s[u][d+1],s[u+1][d+1],s[u+1][d],c)}}function T(t){return Math.atan2(t.z,-t.x)}function S(t,e,r){return r<0&&1===t.x&&(t=new K.Vector2(t.x-1,t.y)),0===e.x&&0===e.z&&(t=new K.Vector2(r/2/Math.PI+.5,t.y)),t.clone()}this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new K.Sphere(new K.Vector3,r)},K.PolyhedronGeometry.prototype=Object.create(K.Geometry.prototype),K.PolyhedronGeometry.prototype.constructor=K.PolyhedronGeometry,K.PolyhedronGeometry.prototype.clone=function(){var t=this.parameters;return new K.PolyhedronGeometry(t.vertices,t.indices,t.radius,t.detail)},K.DodecahedronGeometry=function(t,e){var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n];K.PolyhedronGeometry.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}},K.DodecahedronGeometry.prototype=Object.create(K.PolyhedronGeometry.prototype),K.DodecahedronGeometry.prototype.constructor=K.DodecahedronGeometry,K.DodecahedronGeometry.prototype.clone=function(){var t=this.parameters;return new K.DodecahedronGeometry(t.radius,t.detail)},K.IcosahedronGeometry=function(t,e){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1];K.PolyhedronGeometry.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}},K.IcosahedronGeometry.prototype=Object.create(K.PolyhedronGeometry.prototype),K.IcosahedronGeometry.prototype.constructor=K.IcosahedronGeometry,K.IcosahedronGeometry.prototype.clone=function(){var t=this.parameters;return new K.IcosahedronGeometry(t.radius,t.detail)},K.OctahedronGeometry=function(t,e){K.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}},K.OctahedronGeometry.prototype=Object.create(K.PolyhedronGeometry.prototype),K.OctahedronGeometry.prototype.constructor=K.OctahedronGeometry,K.OctahedronGeometry.prototype.clone=function(){var t=this.parameters;return new K.OctahedronGeometry(t.radius,t.detail)},K.TetrahedronGeometry=function(t,e){K.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}},K.TetrahedronGeometry.prototype=Object.create(K.PolyhedronGeometry.prototype),K.TetrahedronGeometry.prototype.constructor=K.TetrahedronGeometry,K.TetrahedronGeometry.prototype.clone=function(){var t=this.parameters;return new K.TetrahedronGeometry(t.radius,t.detail)},K.ParametricGeometry=function(t,e,r){K.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:r};var n,i,o,a,s,c,u,h,l,f,p,d,m=this.vertices,v=this.faces,g=this.faceVertexUvs[0],y=e+1;for(n=0;n<=r;n++)for(a=n/r,i=0;i<=e;i++)o=t(i/e,a),m.push(o);for(n=0;n<r;n++)for(i=0;i<e;i++)s=n*y+i,c=n*y+i+1,u=(n+1)*y+i+1,h=(n+1)*y+i,l=new K.Vector2(i/e,n/r),f=new K.Vector2((i+1)/e,n/r),p=new K.Vector2((i+1)/e,(n+1)/r),d=new K.Vector2(i/e,(n+1)/r),v.push(new K.Face3(s,c,h)),g.push([l,f,d]),v.push(new K.Face3(c,u,h)),g.push([f.clone(),p,d.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},K.ParametricGeometry.prototype=Object.create(K.Geometry.prototype),K.ParametricGeometry.prototype.constructor=K.ParametricGeometry,K.WireframeGeometry=function(t){K.BufferGeometry.call(this);var e=[0,0],r={};function n(t,e){return t-e}var i=["a","b","c"];if(t instanceof K.Geometry){for(var o=t.vertices,a=t.faces,s=0,c=new Uint32Array(6*a.length),u=0,h=a.length;u<h;u++)for(var l=a[u],f=0;f<3;f++){e[0]=l[i[f]],e[1]=l[i[(f+1)%3]],e.sort(n),void 0===r[w=e.toString()]&&(c[2*s]=e[0],c[2*s+1]=e[1],r[w]=!0,s++)}var p=new Float32Array(2*s*3);for(u=0,h=s;u<h;u++)for(f=0;f<2;f++){var d=o[c[2*u+f]];p[(T=6*u+3*f)+0]=d.x,p[T+1]=d.y,p[T+2]=d.z}this.addAttribute("position",new K.BufferAttribute(p,3))}else if(t instanceof K.BufferGeometry)if(null!==t.index){var m=t.index.array,v=(o=t.attributes.position,t.drawcalls);s=0;0===v.length&&t.addGroup(0,m.length);c=new Uint32Array(2*m.length);for(var g=0,y=v.length;g<y;++g)for(var _=v[g],b=_.start,x=(u=b,b+_.count);u<x;u+=3)for(f=0;f<3;f++){var w;e[0]=m[u+f],e[1]=m[u+(f+1)%3],e.sort(n),void 0===r[w=e.toString()]&&(c[2*s]=e[0],c[2*s+1]=e[1],r[w]=!0,s++)}for(p=new Float32Array(2*s*3),u=0,h=s;u<h;u++)for(f=0;f<2;f++){var T=6*u+3*f,S=c[2*u+f];p[T+0]=o.getX(S),p[T+1]=o.getY(S),p[T+2]=o.getZ(S)}this.addAttribute("position",new K.BufferAttribute(p,3))}else{var M=(s=(o=t.attributes.position.array).length/3)/3;for(p=new Float32Array(2*s*3),u=0,h=M;u<h;u++)for(f=0;f<3;f++){var E=9*u+3*f;p[(T=18*u+6*f)+0]=o[E],p[T+1]=o[E+1],p[T+2]=o[E+2];S=9*u+(f+1)%3*3;p[T+3]=o[S],p[T+4]=o[S+1],p[T+5]=o[S+2]}this.addAttribute("position",new K.BufferAttribute(p,3))}},K.WireframeGeometry.prototype=Object.create(K.BufferGeometry.prototype),K.WireframeGeometry.prototype.constructor=K.WireframeGeometry,K.AxisHelper=function(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),r=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new K.BufferGeometry;n.addAttribute("position",new K.BufferAttribute(e,3)),n.addAttribute("color",new K.BufferAttribute(r,3));var i=new K.LineBasicMaterial({vertexColors:K.VertexColors});K.LineSegments.call(this,n,i)},K.AxisHelper.prototype=Object.create(K.LineSegments.prototype),K.AxisHelper.prototype.constructor=K.AxisHelper,K.ArrowHelper=function(){var t=new K.Geometry;t.vertices.push(new K.Vector3(0,0,0),new K.Vector3(0,1,0));var e=new K.CylinderGeometry(0,.5,1,5,1);return e.translate(0,-.5,0),function(r,n,i,o,a,s){K.Object3D.call(this),void 0===o&&(o=16776960),void 0===i&&(i=1),void 0===a&&(a=.2*i),void 0===s&&(s=.2*a),this.position.copy(n),a<i&&(this.line=new K.Line(t,new K.LineBasicMaterial({color:o})),this.line.matrixAutoUpdate=!1,this.add(this.line)),this.cone=new K.Mesh(e,new K.MeshBasicMaterial({color:o})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(r),this.setLength(i,a,s)}}(),K.ArrowHelper.prototype=Object.create(K.Object3D.prototype),K.ArrowHelper.prototype.constructor=K.ArrowHelper,K.ArrowHelper.prototype.setDirection=(q=new K.Vector3,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(q.set(t.z,0,-t.x).normalize(),$=Math.acos(t.y),this.quaternion.setFromAxisAngle(q,$))}),K.ArrowHelper.prototype.setLength=function(t,e,r){void 0===e&&(e=.2*t),void 0===r&&(r=.2*e),e<t&&(this.line.scale.set(1,t-e,1),this.line.updateMatrix()),this.cone.scale.set(r,e,r),this.cone.position.y=t,this.cone.updateMatrix()},K.ArrowHelper.prototype.setColor=function(t){void 0!==this.line&&this.line.material.color.set(t),this.cone.material.color.set(t)},K.BoxHelper=function(t){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new K.BufferGeometry;n.setIndex(new K.BufferAttribute(e,1)),n.addAttribute("position",new K.BufferAttribute(r,3)),K.LineSegments.call(this,n,new K.LineBasicMaterial({color:16776960})),void 0!==t&&this.update(t)},K.BoxHelper.prototype=Object.create(K.LineSegments.prototype),K.BoxHelper.prototype.constructor=K.BoxHelper,K.BoxHelper.prototype.update=function(){var t=new K.Box3;return function(e){if(t.setFromObject(e),!t.empty()){var r=t.min,n=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=r.x,o[4]=n.y,o[5]=n.z,o[6]=r.x,o[7]=r.y,o[8]=n.z,o[9]=n.x,o[10]=r.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=r.z,o[15]=r.x,o[16]=n.y,o[17]=r.z,o[18]=r.x,o[19]=r.y,o[20]=r.z,o[21]=n.x,o[22]=r.y,o[23]=r.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),K.BoundingBoxHelper=function(t,e){var r=void 0!==e?e:8947848;this.object=t,this.box=new K.Box3,K.Mesh.call(this,new K.BoxGeometry(1,1,1),new K.MeshBasicMaterial({color:r,wireframe:!0}))},K.BoundingBoxHelper.prototype=Object.create(K.Mesh.prototype),K.BoundingBoxHelper.prototype.constructor=K.BoundingBoxHelper,K.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},K.CameraHelper=function(t){var e=new K.Geometry,r=new K.LineBasicMaterial({color:16777215,vertexColors:K.FaceColors}),n={};function i(t,e,r){o(t,r),o(e,r)}function o(t,r){e.vertices.push(new K.Vector3),e.colors.push(new K.Color(r)),void 0===n[t]&&(n[t]=[]),n[t].push(e.vertices.length-1)}i("n1","n2",16755200),i("n2","n4",16755200),i("n4","n3",16755200),i("n3","n1",16755200),i("f1","f2",16755200),i("f2","f4",16755200),i("f4","f3",16755200),i("f3","f1",16755200),i("n1","f1",16755200),i("n2","f2",16755200),i("n3","f3",16755200),i("n4","f4",16755200),i("p","n1",16711680),i("p","n2",16711680),i("p","n3",16711680),i("p","n4",16711680),i("u1","u2",43775),i("u2","u3",43775),i("u3","u1",43775),i("c","t",16777215),i("p","c",3355443),i("cn1","cn2",3355443),i("cn3","cn4",3355443),i("cf1","cf2",3355443),i("cf3","cf4",3355443),K.LineSegments.call(this,e,r),this.camera=t,this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update()},K.CameraHelper.prototype=Object.create(K.LineSegments.prototype),K.CameraHelper.prototype.constructor=K.CameraHelper;K.CameraHelper.prototype.update=function(){var t,e,r=new K.Vector3,n=new K.Camera;function i(i,o,a,s){r.set(o,a,s).unproject(n);var c=e[i];if(void 0!==c)for(var u=0,h=c.length;u<h;u++)t.vertices[c[u]].copy(r)}return function(){t=this.geometry,e=this.pointMap;n.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.verticesNeedUpdate=!0}}(),K.DirectionalLightHelper=function(t,e){K.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,e=e||1;var r=new K.Geometry;r.vertices.push(new K.Vector3(-e,e,0),new K.Vector3(e,e,0),new K.Vector3(e,-e,0),new K.Vector3(-e,-e,0),new K.Vector3(-e,e,0));var n=new K.LineBasicMaterial({fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new K.Line(r,n),this.add(this.lightPlane),(r=new K.Geometry).vertices.push(new K.Vector3,new K.Vector3),(n=new K.LineBasicMaterial({fog:!1})).color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new K.Line(r,n),this.add(this.targetLine),this.update()},K.DirectionalLightHelper.prototype=Object.create(K.Object3D.prototype),K.DirectionalLightHelper.prototype.constructor=K.DirectionalLightHelper,K.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},K.DirectionalLightHelper.prototype.update=function(){var t=new K.Vector3,e=new K.Vector3,r=new K.Vector3;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(e,t),this.lightPlane.lookAt(r),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(r),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),K.EdgesHelper=function(t,e,r){var n=void 0!==e?e:16777215;K.LineSegments.call(this,new K.EdgesGeometry(t.geometry,r),new K.LineBasicMaterial({color:n})),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},K.EdgesHelper.prototype=Object.create(K.LineSegments.prototype),K.EdgesHelper.prototype.constructor=K.EdgesHelper,K.FaceNormalsHelper=function(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16776960,o=void 0!==n?n:1,a=0,s=this.object.geometry;s instanceof K.Geometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new K.BufferGeometry,u=new K.Float32Attribute(2*a*3,3);c.addAttribute("position",u),K.LineSegments.call(this,c,new K.LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()},K.FaceNormalsHelper.prototype=Object.create(K.LineSegments.prototype),K.FaceNormalsHelper.prototype.constructor=K.FaceNormalsHelper,K.FaceNormalsHelper.prototype.update=function(){var t=new K.Vector3,e=new K.Vector3,r=new K.Matrix3;return function(){this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,c=0,u=0,h=s.length;u<h;u++){var l=s[u],f=l.normal;t.copy(a[l.a]).add(a[l.b]).add(a[l.c]).divideScalar(3).applyMatrix4(n),e.copy(f).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),i.setXYZ(c,t.x,t.y,t.z),c+=1,i.setXYZ(c,e.x,e.y,e.z),c+=1}return i.needsUpdate=!0,this}}(),K.GridHelper=function(t,e){var r=new K.Geometry,n=new K.LineBasicMaterial({vertexColors:K.VertexColors});this.color1=new K.Color(4473924),this.color2=new K.Color(8947848);for(var i=-t;i<=t;i+=e){r.vertices.push(new K.Vector3(-t,0,i),new K.Vector3(t,0,i),new K.Vector3(i,0,-t),new K.Vector3(i,0,t));var o=0===i?this.color1:this.color2;r.colors.push(o,o,o,o)}K.LineSegments.call(this,r,n)},K.GridHelper.prototype=Object.create(K.LineSegments.prototype),K.GridHelper.prototype.constructor=K.GridHelper,K.GridHelper.prototype.setColors=function(t,e){this.color1.set(t),this.color2.set(e),this.geometry.colorsNeedUpdate=!0},K.HemisphereLightHelper=function(t,e){K.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new K.Color,new K.Color];var r=new K.SphereGeometry(e,4,2);r.rotateX(-Math.PI/2);for(var n=0;n<8;n++)r.faces[n].color=this.colors[n<4?0:1];var i=new K.MeshBasicMaterial({vertexColors:K.FaceColors,wireframe:!0});this.lightSphere=new K.Mesh(r,i),this.add(this.lightSphere),this.update()},K.HemisphereLightHelper.prototype=Object.create(K.Object3D.prototype),K.HemisphereLightHelper.prototype.constructor=K.HemisphereLightHelper,K.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},K.HemisphereLightHelper.prototype.update=function(){var t=new K.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),K.PointLightHelper=function(t,e){this.light=t,this.light.updateMatrixWorld();var r=new K.SphereGeometry(e,4,2),n=new K.MeshBasicMaterial({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),K.Mesh.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},K.PointLightHelper.prototype=Object.create(K.Mesh.prototype),K.PointLightHelper.prototype.constructor=K.PointLightHelper,K.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},K.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},K.SkeletonHelper=function(t){this.bones=this.getBoneList(t);for(var e=new K.Geometry,r=0;r<this.bones.length;r++){this.bones[r].parent instanceof K.Bone&&(e.vertices.push(new K.Vector3),e.vertices.push(new K.Vector3),e.colors.push(new K.Color(0,0,1)),e.colors.push(new K.Color(0,1,0)))}e.dynamic=!0;var n=new K.LineBasicMaterial({vertexColors:K.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});K.LineSegments.call(this,e,n),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()},K.SkeletonHelper.prototype=Object.create(K.LineSegments.prototype),K.SkeletonHelper.prototype.constructor=K.SkeletonHelper,K.SkeletonHelper.prototype.getBoneList=function(t){var e=[];t instanceof K.Bone&&e.push(t);for(var r=0;r<t.children.length;r++)e.push.apply(e,this.getBoneList(t.children[r]));return e},K.SkeletonHelper.prototype.update=function(){for(var t=this.geometry,e=(new K.Matrix4).getInverse(this.root.matrixWorld),r=new K.Matrix4,n=0,i=0;i<this.bones.length;i++){var o=this.bones[i];o.parent instanceof K.Bone&&(r.multiplyMatrices(e,o.matrixWorld),t.vertices[n].setFromMatrixPosition(r),r.multiplyMatrices(e,o.parent.matrixWorld),t.vertices[n+1].setFromMatrixPosition(r),n+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},K.SpotLightHelper=function(t){K.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new K.CylinderGeometry(0,1,1,8,1,!0);e.translate(0,-.5,0),e.rotateX(-Math.PI/2);var r=new K.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new K.Mesh(e,r),this.add(this.cone),this.update()},K.SpotLightHelper.prototype=Object.create(K.Object3D.prototype),K.SpotLightHelper.prototype.constructor=K.SpotLightHelper,K.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},K.SpotLightHelper.prototype.update=function(){var t=new K.Vector3,e=new K.Vector3;return function(){var r=this.light.distance?this.light.distance:1e4,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),K.VertexNormalsHelper=function(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16711680,o=void 0!==n?n:1,a=0,s=this.object.geometry;s instanceof K.Geometry?a=3*s.faces.length:s instanceof K.BufferGeometry&&(a=s.attributes.normal.count);var c=new K.BufferGeometry,u=new K.Float32Attribute(2*a*3,3);c.addAttribute("position",u),K.LineSegments.call(this,c,new K.LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()},K.VertexNormalsHelper.prototype=Object.create(K.LineSegments.prototype),K.VertexNormalsHelper.prototype.constructor=K.VertexNormalsHelper,K.VertexNormalsHelper.prototype.update=function(){var t=new K.Vector3,e=new K.Vector3,r=new K.Matrix3;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a instanceof K.Geometry)for(var s=a.vertices,c=a.faces,u=0,h=0,l=c.length;h<l;h++)for(var f=c[h],p=0,d=f.vertexNormals.length;p<d;p++){var m=s[f[n[p]]],v=f.vertexNormals[p];t.copy(m).applyMatrix4(i),e.copy(v).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}else if(a instanceof K.BufferGeometry){var g=a.attributes.position,y=a.attributes.normal;for(u=0,p=0,d=g.count;p<d;p++)t.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(i),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}return o.needsUpdate=!0,this}}(),K.WireframeHelper=function(t,e){var r=void 0!==e?e:16777215;K.LineSegments.call(this,new K.WireframeGeometry(t.geometry),new K.LineBasicMaterial({color:r})),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},K.WireframeHelper.prototype=Object.create(K.LineSegments.prototype),K.WireframeHelper.prototype.constructor=K.WireframeHelper,K.ImmediateRenderObject=function(t){K.Object3D.call(this),this.material=t,this.render=function(t){}},K.ImmediateRenderObject.prototype=Object.create(K.Object3D.prototype),K.ImmediateRenderObject.prototype.constructor=K.ImmediateRenderObject,K.MorphBlendMesh=function(t,e){K.Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var r=this.geometry.morphTargets.length,n=r-1,i=r/1;this.createAnimation("__default",0,n,i),this.setAnimationWeight("__default",1)},K.MorphBlendMesh.prototype=Object.create(K.Mesh.prototype),K.MorphBlendMesh.prototype.constructor=K.MorphBlendMesh,K.MorphBlendMesh.prototype.createAnimation=function(t,e,r,n){var i={start:e,end:r,length:r-e+1,fps:n,duration:(r-e)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},K.MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e,r=/([a-z]+)_?(\d+)/,n={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o].name.match(r);if(s&&s.length>1)n[c=s[1]]||(n[c]={start:1/0,end:-1/0}),o<(u=n[c]).start&&(u.start=o),o>u.end&&(u.end=o),e||(e=c)}for(var c in n){var u=n[c];this.createAnimation(c,u.start,u.end,t)}this.firstAnimation=e},K.MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},K.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},K.MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var r=this.animationsMap[t];r&&(r.fps=e,r.duration=(r.end-r.start)/r.fps)},K.MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var r=this.animationsMap[t];r&&(r.duration=e,r.fps=(r.end-r.start)/r.duration)},K.MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var r=this.animationsMap[t];r&&(r.weight=e)},K.MorphBlendMesh.prototype.setAnimationTime=function(t,e){var r=this.animationsMap[t];r&&(r.time=e)},K.MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,r=this.animationsMap[t];return r&&(e=r.time),e},K.MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,r=this.animationsMap[t];return r&&(e=r.duration),e},K.MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},K.MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},K.MorphBlendMesh.prototype.update=function(t){for(var e=0,r=this.animationsList.length;e<r;e++){var n=this.animationsList[e];if(n.active){var i=n.duration/n.length;n.time+=n.direction*t,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var o=n.start+K.Math.clamp(Math.floor(n.time/i),0,n.length-1),a=n.weight;o!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*a,this.morphTargetInfluences[o]=0,n.lastFrame=n.currentFrame,n.currentFrame=o);var s=n.time%i/i;n.directionBackwards&&(s=1-s),n.currentFrame!==n.lastFrame?(this.morphTargetInfluences[n.currentFrame]=s*a,this.morphTargetInfluences[n.lastFrame]=(1-s)*a):this.morphTargetInfluences[n.currentFrame]=a}}},void 0!==t&&t.exports&&(e=t.exports=K),e.THREE=K},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.METADATA_KEY=n;var i=r(75);e.Container=i.Container;var o=r(8);e.BindingScopeEnum=o.BindingScopeEnum,e.BindingTypeEnum=o.BindingTypeEnum,e.TargetTypeEnum=o.TargetTypeEnum;var a=r(91);e.AsyncContainerModule=a.AsyncContainerModule,e.ContainerModule=a.ContainerModule;var s=r(92);e.injectable=s.injectable;var c=r(93);e.tagged=c.tagged;var u=r(94);e.named=u.named;var h=r(40);e.inject=h.inject,e.LazyServiceIdentifer=h.LazyServiceIdentifer;var l=r(95);e.optional=l.optional;var f=r(96);e.unmanaged=f.unmanaged;var p=r(97);e.multiInject=p.multiInject;var d=r(98);e.targetName=d.targetName;var m=r(99);e.postConstruct=m.postConstruct;var v=r(38);e.MetadataReader=v.MetadataReader;var g=r(12);e.guid=g.guid;var y=r(9);e.decorate=y.decorate;var _=r(43);e.traverseAncerstors=_.traverseAncerstors,e.taggedConstraint=_.taggedConstraint,e.namedConstraint=_.namedConstraint,e.typeConstraint=_.typeConstraint;var b=r(15);e.getServiceIdentifierAsString=b.getServiceIdentifierAsString;var x=r(100);e.multiBindToService=x.multiBindToService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guid=function(){function t(){return Math.floor(65536*(Math.random()+1)).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(1),i=r(104),o=r(4),a=r(105),s=r(106),c=r(107),u=r(45),h=r(108),l=r(16);r.d(e,"b",function(){return l}),r.d(e,"a",function(){return u}),n.default.use(i.a);var f=new i.a.Store({state:a.a,actions:c.a,mutations:h.a,getters:s.a,strict:!1});o.a.bind(o.b.Store).toConstantValue(f)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2);function i(t){return"function"==typeof t?t.name:"symbol"==typeof t?t.toString():t}function o(t){if(t.name)return t.name;var e=t.toString(),r=e.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=function(t,e,r){var n="",i=r(t,e);return 0!==i.length&&(n="\nRegistered bindings:",i.forEach(function(t){var e="Object";null!==t.implementationType&&(e=o(t.implementationType)),n=n+"\n "+e,t.constraint.metaData&&(n=n+" - "+t.constraint.metaData)})),n},e.circularDependencyToException=function t(e){e.childRequests.forEach(function(e){if(function t(e,r){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===r||t(e.parentRequest,r))}(e,e.serviceIdentifier)){var r=function t(e,r){void 0===r&&(r=[]);var n=i(e.serviceIdentifier);return r.push(n),null!==e.parentRequest?t(e.parentRequest,r):r}(e).reverse().join(" --\x3e ");throw new Error(n.CIRCULAR_DEPENDENCY+" "+r)}t(e)})},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var r="",n=e.getNamedTag(),i=e.getCustomTags();return null!==n&&(r+=n.toString()+"\n"),null!==i&&i.forEach(function(t){r+=t.toString()+"\n"})," "+t+"\n "+t+" - "+r}return" "+t},e.getFunctionName=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"EXPAND_EXPERIMENT_CONTAINER",function(){return n}),r.d(e,"REDUCE_EXPERIMENT_CONTAINER",function(){return i}),r.d(e,"ACTIVATE_EXPERIMENT_CONTAINER",function(){return o}),r.d(e,"DEACTIVATE_EXPERIMENT_CONTAINER",function(){return a}),r.d(e,"CONTENT_CLICKABLE",function(){return s}),r.d(e,"CONTENT_NOT_CLICKABLE",function(){return c}),r.d(e,"CURRENT_TITLE_VISIBLE",function(){return u}),r.d(e,"CURRENT_TITLE_INVISIBLE",function(){return h}),r.d(e,"FOOTER_VISIBLE",function(){return l}),r.d(e,"GITHUB_API_STARTED",function(){return f}),r.d(e,"GITHUB_API_FINISHED",function(){return p}),r.d(e,"GITHUB_API_LOADING_ERROR",function(){return d}),r.d(e,"GITHUB_DATA_MAPPING_STARTED",function(){return m}),r.d(e,"GITHUB_DATA_MAPPING_FINISHED",function(){return v}),r.d(e,"STORE_GITHUB_REPOS",function(){return g}),r.d(e,"STORE_COMMIT",function(){return y}),r.d(e,"FOCUS_REPO",function(){return _}),r.d(e,"UNFOCUS_REPO",function(){return b}),r.d(e,"USED_DATA",function(){return x}),r.d(e,"UPDATE_LEVEL",function(){return w});var n="EXPAND_EXPERIMENT_CONTAINER",i="REDUCE_EXPERIMENT_CONTAINER",o="ACTIVATE_EXPERIMENT_CONTAINER",a="DEACTIVATE_EXPERIMENT_CONTAINER",s="CONTENT_CLLICKABLE",c="CONTENT_NOT_CLICKABLE",u="CURRENT_TITLE_VISIBLE",h="CURRENT_TITLE_INVISIBLE",l="FOOTER_VISIBLE",f="GITHUB_API_STARTED",p="GITHUB_API_FINISHED",d="GITHUB_API_LOADING_ERROR",m="GITHUB_DATA_MAPPING_STARTED",v="GITHUB_DATA_MAPPING_FINISHED",g="STORE_GITHUB_REPOS",y="STORE_COMMIT",_="FOCUS_REPO",b="UNFOCUS_REPO",x="USED_DATA",w="UPDATE_LEVEL"},function(t,e,r){"use strict";e.a={INTERSECTION:"intersection",ACTIVATED:"activated",DEACTIVATED:"deactivated"}},function(t,e,r){var n=r(193),i=36e5,o=6e4,a=2,s=/[T ]/,c=/:/,u=/^(\d{2})$/,h=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],l=/^(\d{4})/,f=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],p=/^-(\d{2})$/,d=/^-?(\d{3})$/,m=/^-?(\d{2})-?(\d{2})$/,v=/^-?W(\d{2})$/,g=/^-?W(\d{2})-?(\d{1})$/,y=/^(\d{2}([.,]\d*)?)$/,_=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/([Z+-].*)$/,w=/^(Z)$/,T=/^([+-])(\d{2})$/,S=/^([+-])(\d{2}):?(\d{2})$/;function M(t,e,r){e=e||0,r=r||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var i=7*e+r+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+i),n}t.exports=function(t,e){if(n(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var r=(e||{}).additionalDigits;r=null==r?a:Number(r);var E=function(t){var e,r={},n=t.split(s);if(c.test(n[0])?(r.date=null,e=n[0]):(r.date=n[0],e=n[1]),e){var i=x.exec(e);i?(r.time=e.replace(i[1],""),r.timezone=i[1]):r.time=e}return r}(t),A=function(t,e){var r,n=h[e],i=f[e];if(r=l.exec(t)||i.exec(t)){var o=r[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(r=u.exec(t)||n.exec(t)){var a=r[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(E.date,r),C=A.year,P=function(t,e){if(null===e)return null;var r,n,i,o;if(0===t.length)return(n=new Date(0)).setUTCFullYear(e),n;if(r=p.exec(t))return n=new Date(0),i=parseInt(r[1],10)-1,n.setUTCFullYear(e,i),n;if(r=d.exec(t)){n=new Date(0);var a=parseInt(r[1],10);return n.setUTCFullYear(e,0,a),n}if(r=m.exec(t)){n=new Date(0),i=parseInt(r[1],10)-1;var s=parseInt(r[2],10);return n.setUTCFullYear(e,i,s),n}if(r=v.exec(t))return o=parseInt(r[1],10)-1,M(e,o);if(r=g.exec(t)){o=parseInt(r[1],10)-1;var c=parseInt(r[2],10)-1;return M(e,o,c)}return null}(A.restDateString,C);if(P){var O,R=P.getTime(),L=0;return E.time&&(L=function(t){var e,r,n;if(e=y.exec(t))return(r=parseFloat(e[1].replace(",",".")))%24*i;if(e=_.exec(t))return r=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),r%24*i+n*o;if(e=b.exec(t)){r=parseInt(e[1],10),n=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return r%24*i+n*o+1e3*a}return null}(E.time)),E.timezone?(k=E.timezone,O=(D=w.exec(k))?0:(D=T.exec(k))?(I=60*parseInt(D[2],10),"+"===D[1]?-I:I):(D=S.exec(k))?(I=60*parseInt(D[2],10)+parseInt(D[3],10),"+"===D[1]?-I:I):0):(O=new Date(R+L).getTimezoneOffset(),O=new Date(R+L+O*o).getTimezoneOffset()),new Date(R+L+O*o)}var k,D,I;return new Date(t)}},function(t,e,r){"use strict";var n={DataMapperService:Symbol.for("DataMapperService"),RepositoryMapper:Symbol.for("RepositoryMapper"),CommitsMapper:Symbol.for("CommitsMapper"),GithubApiClient:Symbol.for("GithubApiClient"),Breakpoints:Symbol.for("Breakpoints"),AllLevels:Symbol.for("AllLevels"),LevelsDataLoader:Symbol.for("LevelDataLoader"),LevelsService:Symbol.for("LevelsService"),LevelsServiceFactory:Symbol.for("LevelsServiceFactory"),LevelModelFactory:Symbol.for("LevelModelFactory"),MediaQueryService:Symbol.for("MediaQueryService"),FocusDataService:Symbol.for("FocusDataService"),FocusDataServiceFactory:Symbol.for("FocusDataServiceFactory"),Store:Symbol.for("Store")};e.a=n},function(t,e,r){"use strict";var n=r(152),i=r(153),o=r(154);r.d(e,"b",function(){return n.a}),r.d(e,"c",function(){return i.a}),r.d(e,"a",function(){return o.a})},function(t,e,r){"use strict";e.a={parameters:{height:{min:50,max:100,default:50},thickness:{min:5,max:40,default:10},verticalSegments:{min:4,max:10,default:10},radiusSegments:{min:3,max:5,default:5},shapeAngleStart:{min:0,max:1,default:.9},shapeAmplitude:{min:0,max:180,default:45}},appearance:{color:"#2e2d2d"}}},function(t,e,r){"use strict";var n=r(169);e.a=n.a},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var c,u=[],h=!1,l=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!h){var t=s(f);h=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,h=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||h||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25),i=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new n.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(24),i=r(43),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new n.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new n.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new n.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=i.taggedConstraint(t)(e),new n.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return i.typeConstraint(t)(e.parentRequest)},new n.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return i.namedConstraint(t)(e.parentRequest)},new n.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(r){return i.taggedConstraint(t)(e)(r.parentRequest)},new n.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.typeConstraint(t))},new n.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.typeConstraint(t))},new n.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.namedConstraint(t))},new n.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.namedConstraint(t))},new n.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(r){return i.traverseAncerstors(r,i.taggedConstraint(t)(e))},new n.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(r){return!i.traverseAncerstors(r,i.taggedConstraint(t)(e))},new n.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,t)},new n.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,t)},new n.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=o},function(t,e,r){"use strict";
/**
  * vue-class-component v6.2.0
  * (c) 2015-present Evan You
  * @license MIT
  */Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=r(1))&&"object"==typeof n&&"default"in n?n.default:n,o={__proto__:[]}instanceof Array;var a=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured"];function s(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var r=t.prototype;Object.getOwnPropertyNames(r).forEach(function(t){if("constructor"!==t)if(a.indexOf(t)>-1)e[t]=r[t];else{var n=Object.getOwnPropertyDescriptor(r,t);"function"==typeof n.value?(e.methods||(e.methods={}))[t]=n.value:(n.get||n.set)&&((e.computed||(e.computed={}))[t]={get:n.get,set:n.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e){var r=e.prototype._init;e.prototype._init=function(){var e=this,r=Object.getOwnPropertyNames(t);if(t.$options.props)for(var n in t.$options.props)t.hasOwnProperty(n)||r.push(n);r.forEach(function(r){"_"!==r.charAt(0)&&Object.defineProperty(e,r,{get:function(){return t[r]},set:function(e){return t[r]=e},configurable:!0})})};var n=new e;e.prototype._init=r;var i={};return Object.keys(n).forEach(function(t){void 0!==n[t]&&(i[t]=n[t])}),i}(this,t)}});var n=t.__decorators__;n&&(n.forEach(function(t){return t(e)}),delete t.__decorators__);var s=Object.getPrototypeOf(t.prototype),c=s instanceof i?s.constructor:i,u=c.extend(e);return function(t,e,r){Object.getOwnPropertyNames(e).forEach(function(n){if("prototype"!==n){var i=Object.getOwnPropertyDescriptor(t,n);if(!i||i.configurable){var a,s,c=Object.getOwnPropertyDescriptor(e,n);if(!o){if("cid"===n)return;var u=Object.getOwnPropertyDescriptor(r,n);if(a=c.value,s=typeof a,null!=a&&("object"===s||"function"===s)&&u&&u.value===c.value)return}0,Object.defineProperty(t,n,c)}}})}(u,t,c),u}function c(t){return"function"==typeof t?s(t):function(e){return s(e,t)}}!function(t){t.registerHooks=function(t){a.push.apply(a,t)}}(c||(c={}));var u=c;e.default=u,e.createDecorator=function(t){return function(e,r,n){var i="function"==typeof e?e:e.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof n&&(n=void 0),i.__decorators__.push(function(e){return t(e,r,n)})}},e.mixins=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.extend({mixins:t})}},function(t,e,r){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r;!function(r){!function(n){var i="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=a(r);function a(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}void 0===i.Reflect?i.Reflect=r:o=a(i.Reflect,o),function(e){var r=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return k(Object.create(null))}:s?function(){return k({__proto__:null})}:function(){return k({})},has:c?function(t,e){return r.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return r.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},h=Object.getPrototypeOf(Function),l="object"==typeof t&&Object({ENV:"production",NODE_ENV:"production",DEBUG_MODE:!1,API_KEY:"XXXX-XXXXX-XXXX-XXXX"})&&"true"===Object({ENV:"production",NODE_ENV:"production",DEBUG_MODE:!1,API_KEY:"XXXX-XXXXX-XXXX-XXXX"}).REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,i)},e.prototype.entries=function(){return new r(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function i(t,e){return e}function a(t,e){return[t,e]}}():Map,p=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,d=new(l||"function"!=typeof WeakMap?function(){var t=16,e=u.create(),n=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){var r=o(t,!0);return r[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+s()}while(u.has(e,t));return e[t]=!0,t}function o(t,e){if(!r.call(t,n)){if(!e)return;Object.defineProperty(t,n,{value:u.create()})}return t[n]}function a(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function s(){var e=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t);return a(new Array(t),t)}(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<t;++n){var i=e[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function m(t,e,r){var n=d.get(t);if(x(n)){if(!r)return;n=new f,d.set(t,n)}var i=n.get(e);if(x(i)){if(!r)return;i=new f,n.set(e,i)}return i}function v(t,e,r){var n=m(e,r,!1);return!x(n)&&!!n.has(t)}function g(t,e,r){var n=m(e,r,!1);if(!x(n))return n.get(t)}function y(t,e,r,n){var i=m(r,n,!0);i.set(t,e)}function _(t,e){var r=[],n=m(t,e,!1);if(x(n))return r;for(var i=n.keys(),a=function(t){var e=P(t,o);if(!A(e))throw new TypeError;var r=e.call(t);if(!T(r))throw new TypeError;return r}(i),s=0;;){var c=O(a);if(!c)return r.length=s,r;var u=c.value;try{r[s]=u}catch(t){try{R(a)}finally{throw t}}s++}}function b(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function x(t){return void 0===t}function w(t){return null===t}function T(t){return"object"==typeof t?null!==t:"function"==typeof t}function S(t,e){switch(b(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",n=P(t,i);if(void 0!==n){var o=n.call(t,r);if(T(o))throw new TypeError;return o}return function(t,e){if("string"===e){var r=t.toString;if(A(r)){var n=r.call(t);if(!T(n))return n}var i=t.valueOf;if(A(i)){var n=i.call(t);if(!T(n))return n}}else{var i=t.valueOf;if(A(i)){var n=i.call(t);if(!T(n))return n}var o=t.toString;if(A(o)){var n=o.call(t);if(!T(n))return n}}throw new TypeError}(t,"default"===r?"number":r)}function M(t){var e=S(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function E(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function A(t){return"function"==typeof t}function C(t){return"function"==typeof t}function P(t,e){var r=t[e];if(void 0!==r&&null!==r){if(!A(r))throw new TypeError;return r}}function O(t){var e=t.next();return!e.done&&e}function R(t){var e=t.return;e&&e.call(t)}function L(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===h)return e;if(e!==h)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var i=n.constructor;return"function"!=typeof i?e:i===t?e:i}function k(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,r,n){if(x(r)){if(!E(t))throw new TypeError;if(!C(e))throw new TypeError;return function(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],i=n(e);if(!x(i)&&!w(i)){if(!C(i))throw new TypeError;e=i}}return e}(t,e)}if(!E(t))throw new TypeError;if(!T(e))throw new TypeError;if(!T(n)&&!x(n)&&!w(n))throw new TypeError;return w(n)&&(n=void 0),r=M(r),function(t,e,r,n){for(var i=t.length-1;i>=0;--i){var o=t[i],a=o(e,r,n);if(!x(a)&&!w(a)){if(!T(a))throw new TypeError;n=a}}return n}(t,e,r,n)}),e("metadata",function(t,e){return function(r,n){if(!T(r))throw new TypeError;if(!x(n)&&!function(t){switch(b(t)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;y(t,e,r,n)}}),e("defineMetadata",function(t,e,r,n){if(!T(r))throw new TypeError;x(n)||(n=M(n));return y(t,e,r,n)}),e("hasMetadata",function(t,e,r){if(!T(e))throw new TypeError;x(r)||(r=M(r));return function t(e,r,n){var i=v(e,r,n);if(i)return!0;var o=L(r);if(!w(o))return t(e,o,n);return!1}(t,e,r)}),e("hasOwnMetadata",function(t,e,r){if(!T(e))throw new TypeError;x(r)||(r=M(r));return v(t,e,r)}),e("getMetadata",function(t,e,r){if(!T(e))throw new TypeError;x(r)||(r=M(r));return function t(e,r,n){var i=v(e,r,n);if(i)return g(e,r,n);var o=L(r);if(!w(o))return t(e,o,n);return}(t,e,r)}),e("getOwnMetadata",function(t,e,r){if(!T(e))throw new TypeError;x(r)||(r=M(r));return g(t,e,r)}),e("getMetadataKeys",function(t,e){if(!T(t))throw new TypeError;x(e)||(e=M(e));return function t(e,r){var n=_(e,r);var i=L(e);if(null===i)return n;var o=t(i,r);if(o.length<=0)return n;if(n.length<=0)return o;var a=new p;var s=[];for(var c=0,u=n;c<u.length;c++){var h=u[c],l=a.has(h);l||(a.add(h),s.push(h))}for(var f=0,d=o;f<d.length;f++){var h=d[f],l=a.has(h);l||(a.add(h),s.push(h))}return s}(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!T(t))throw new TypeError;x(e)||(e=M(e));return _(t,e)}),e("deleteMetadata",function(t,e,r){if(!T(e))throw new TypeError;x(r)||(r=M(r));var n=m(e,r,!1);if(x(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var i=d.get(e);return i.delete(r),i.size>0||(d.delete(e),!0)})}(o)}()}(r||(r={}))}).call(e,r(23),r(13))},function(t,e,r){"use strict";r(44),r(29);var n=r(109);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";var n=function(){return function(t,e){this.name=t,this.path=e}}();e.a=n},function(t,e,r){"use strict";var n=r(116),i=r(136),o=r(4);r.d(e,"a",function(){return i.a}),o.a.bind(o.b.GithubApiClient).to(n.a)},function(t,e,r){"use strict";(function(e){var n=r(5),i=r(121),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,c={adapter:("undefined"!=typeof XMLHttpRequest?s=r(47):void 0!==e&&(s=r(47)),s),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(t){c.headers[t]={}}),n.forEach(["post","put","patch"],function(t){c.headers[t]=n.merge(o)}),t.exports=c}).call(e,r(23))},function(t,e,r){"use strict";e.a={eventToUpdateLevel:"mousedown",excludedFocusableObjectIds:["floor"],maxSceneItems:15}},function(t,e,r){"use strict";r(7),r(34),r(55);var n=r(161);r(56),r(57),r(58),r(59),r(60),r(61);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(7);
/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */n.e._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(){var t=function(t){n.c.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var e,r,i=this.vars;for(r in i)e=i[r],o(e)&&-1!==e.join("").indexOf("{self}")&&(i[r]=this._swapSelfInParams(e));o(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},e=n.f._internals,r=t._internals={},i=e.isSelector,o=e.isArray,a=e.lazyTweens,s=e.lazyRender,c=n.e._gsDefine.globals,u=function(t){var e,r={};for(e in t)r[e]=t[e];return r},h=function(t,e,r){var n,i,o=t.cycle;for(n in o)i=o[n],t[n]="function"==typeof i?i(r,e[r]):i[r%i.length];delete t.cycle},l=r.pauseCallback=function(){},f=function(t){var e,r=[],n=t.length;for(e=0;e!==n;r.push(t[e++]));return r},p=t.prototype=new n.c;return t.version="1.20.5",p.constructor=t,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(t,e,r,i){var o=r.repeat&&c.TweenMax||n.f;return e?this.add(new o(t,e,r),i):this.set(t,r,i)},p.from=function(t,e,r,i){return this.add((r.repeat&&c.TweenMax||n.f).from(t,e,r),i)},p.fromTo=function(t,e,r,i,o){var a=i.repeat&&c.TweenMax||n.f;return e?this.add(a.fromTo(t,e,r,i),o):this.set(t,i,o)},p.staggerTo=function(e,r,o,a,s,c,l,p){var d,m,v=new t({onComplete:c,onCompleteParams:l,callbackScope:p,smoothChildTiming:this.smoothChildTiming}),g=o.cycle;for("string"==typeof e&&(e=n.f.selector(e)||e),i(e=e||[])&&(e=f(e)),(a=a||0)<0&&((e=f(e)).reverse(),a*=-1),m=0;m<e.length;m++)(d=u(o)).startAt&&(d.startAt=u(d.startAt),d.startAt.cycle&&h(d.startAt,e,m)),g&&(h(d,e,m),null!=d.duration&&(r=d.duration,delete d.duration)),v.to(e[m],r,d,m*a);return this.add(v,s)},p.staggerFrom=function(t,e,r,n,i,o,a,s){return r.immediateRender=0!=r.immediateRender,r.runBackwards=!0,this.staggerTo(t,e,r,n,i,o,a,s)},p.staggerFromTo=function(t,e,r,n,i,o,a,s,c){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,this.staggerTo(t,e,n,i,o,a,s,c)},p.call=function(t,e,r,i){return this.add(n.f.delayedCall(0,t,e,r),i)},p.set=function(t,e,r){return r=this._parseTimeOrLabel(r,0,!0),null==e.immediateRender&&(e.immediateRender=r===this._time&&!this._paused),this.add(new n.f(t,0,e),r)},t.exportRoot=function(e,r){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var i,o,a,s,c=new t(e),u=c._timeline;for(null==r&&(r=!0),u._remove(c,!0),c._startTime=0,c._rawPrevTime=c._time=c._totalTime=u._time,a=u._first;a;)s=a._next,r&&a instanceof n.f&&a.target===a.vars.onComplete||((o=a._startTime-a._delay)<0&&(i=1),c.add(a,o)),a=s;return u.add(c,0),i&&c.totalDuration(),c},p.add=function(e,r,i,a){var s,c,u,h,l,f;if("number"!=typeof r&&(r=this._parseTimeOrLabel(r,0,!0,e)),!(e instanceof n.a)){if(e instanceof Array||e&&e.push&&o(e)){for(i=i||"normal",a=a||0,s=r,c=e.length,u=0;u<c;u++)o(h=e[u])&&(h=new t({tweens:h})),this.add(h,s),"string"!=typeof h&&"function"!=typeof h&&("sequence"===i?s=h._startTime+h.totalDuration()/h._timeScale:"start"===i&&(h._startTime-=h.delay())),s+=a;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,r);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=n.f.delayedCall(0,e)}if(n.c.prototype.add.call(this,e,r),e._time&&e.render((this.rawTime()-e._startTime)*e._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=(l=this).rawTime()>e._startTime;l._timeline;)f&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,!1),l=l._timeline;return this},p.remove=function(t){if(t instanceof n.a){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?n.a._rootFramesTimeline:n.a._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&o(t)){for(var r=t.length;--r>-1;)this.remove(t[r]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},p._remove=function(t,e){return n.c.prototype._remove.call(this,t,e),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},p.insert=p.insertMultiple=function(t,e,r,n){return this.add(t,e||0,r,n)},p.appendMultiple=function(t,e,r,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),r,n)},p.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},p.addPause=function(t,e,r,i){var o=n.f.delayedCall(0,l,r,i||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},p.removeLabel=function(t){return delete this._labels[t],this},p.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},p._parseTimeOrLabel=function(t,e,r,i){var a,s;if(i instanceof n.a&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&o(i)))for(s=i.length;--s>-1;)i[s]instanceof n.a&&i[s].timeline===this&&this.remove(i[s]);if(a="number"!=typeof t||e?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof e)return this._parseTimeOrLabel(e,r&&"number"==typeof t&&null==this._labels[e]?t-a:0,r);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=a);else{if(-1===(s=t.indexOf("=")))return null==this._labels[t]?r?this._labels[t]=a+e:e:this._labels[t]+e;e=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,r):a}return Number(t)+e},p.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(t,e){return this.play(t,e)},p.gotoAndStop=function(t,e){return this.pause(t,e)},p.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var n,i,o,c,u,h,l,f=this._time,p=this._dirty?this.totalDuration():this._totalDuration,d=this._startTime,m=this._timeScale,v=this._paused;if(f!==this._time&&(t+=this._time-f),t>=p-1e-7&&t>=0)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(i=!0,c="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>1e-10&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(c="onReverseComplete",i=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=i=!0,c="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&i)for(n=this._first;n&&0===n._startTime;)n._duration||(i=!1),n=n._next;t=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=f)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==f&&this._first||r||u||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(l=this._time)>=f)for(n=this._first;n&&(o=n._next,l===this._time&&(!this._paused||v));)(n._active||n._startTime<=l&&!n._paused&&!n._gc)&&(h===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)),n=o;else for(n=this._last;n&&(o=n._prev,l===this._time&&(!this._paused||v));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,r),h=h._prev;h=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)}n=o}this._onUpdate&&(e||(a.length&&s(),this._callback("onUpdate"))),c&&(this._gc||d!==this._startTime&&m===this._timeScale||(0===this._time||p>=this.totalDuration())&&(i&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[c]&&this._callback(c)))}},p._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof t&&e._hasPausedChild())return!0;e=e._next}return!1},p.getChildren=function(t,e,r,i){i=i||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<i||(a instanceof n.f?!1!==e&&(o[s++]=a):(!1!==r&&(o[s++]=a),!1!==t&&(s=(o=o.concat(a.getChildren(!0,e,r))).length))),a=a._next;return o},p.getTweensOf=function(t,e){var r,i,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),i=(r=n.f.getTweensOf(t)).length;--i>-1;)(r[i].timeline===this||e&&this._contains(r[i]))&&(a[s++]=r[i]);return o&&this._enabled(!1,!0),a},p.recent=function(){return this._recent},p._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},p.shiftChildren=function(t,e,r){r=r||0;for(var n,i=this._first,o=this._labels;i;)i._startTime>=r&&(i._startTime+=t),i=i._next;if(e)for(n in o)o[n]>=r&&(o[n]+=t);return this._uncache(!0)},p._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var r=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=r.length,i=!1;--n>-1;)r[n]._kill(t,e)&&(i=!0);return i},p.clear=function(t){var e=this.getChildren(!1,!0,!0),r=e.length;for(this._time=this._totalTime=0;--r>-1;)e[r]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return n.a.prototype.invalidate.call(this)},p._enabled=function(t,e){if(t===this._gc)for(var r=this._first;r;)r._enabled(t,!0),r=r._next;return n.c.prototype._enabled.call(this,t,e)},p.totalTime=function(t,e,r){this._forcingPlayhead=!0;var i=n.a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},p.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,r,n=0,i=this._last,o=999999999999;i;)e=i._prev,i._dirty&&i.totalDuration(),i._startTime>o&&this._sortChildren&&!i._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(i,i._startTime-i._delay),this._calculatingDuration=0):o=i._startTime,i._startTime<0&&!i._paused&&(n-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale,this._time-=i._startTime,this._totalTime-=i._startTime,this._rawPrevTime-=i._startTime),this.shiftChildren(-i._startTime,!1,-9999999999),o=0),(r=i._startTime+i._totalDuration/i._timeScale)>n&&(n=r),i=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},p.paused=function(t){if(!t)for(var e=this._first,r=this._time;e;)e._startTime===r&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return n.a.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===n.a._rootFramesTimeline},p.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},t},!0);const i=n.e.TimelineLite},function(t,e,r){"use strict";var n=r(1),i=r(168),o=r(17),a=r(37),s=r(36),c=r(171);r.d(e,"d",function(){return o.a}),r.d(e,"c",function(){return a.a}),r.d(e,"a",function(){return s.a}),r.d(e,"b",function(){return c.a}),n.default.component("scene",i.a)},function(t,e,r){"use strict";var n=function(){function t(t,e,r){this.id=t,this.object=e,this.event=r}return t.create=function(e,r,n){return new t(e,r,n)},t}();e.a=n},function(t,e,r){"use strict";e.a={fog:{color:131586,density:.003},renderer:"webGL",particles:!0,particlesOptions:{count:256,color:"#B2BEB5"},reactToMouseMove:!0,reactToMouseMoveOptions:{reactiveArea:25,zoomThreshold:100},observeIntsections:!0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(n.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(n.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(n.TAGGED_PROP,t)||[]},t}();e.MetadataReader=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===n.STACK_OVERFLOW}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(0),o=r(6),a=r(9),s=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=s,e.inject=function(t){return function(e,r,s){if(void 0===t)throw new Error(n.UNDEFINED_INJECT_ANNOTATION(e.name));var c=new o.Metadata(i.INJECT_TAG,t);"number"==typeof s?a.tagParameter(e,r,s,c):a.tagProperty(e,r,c)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(12),o=r(6),a=r(82),s=function(){function t(t,e,r,s){this.guid=i.guid(),this.type=t,this.serviceIdentifier=r,this.name=new a.QueryableString(e||""),this.metadata=new Array;var c=null;"string"==typeof s?c=new o.Metadata(n.NAMED_TAG,s):s instanceof o.Metadata&&(c=s),null!==c&&this.metadata.push(c)}return t.prototype.hasTag=function(t){for(var e=0,r=this.metadata;e<r.length;e++){if(r[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(n.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(n.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(n.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(t){return t.key!==n.INJECT_TAG&&t.key!==n.MULTI_INJECT_TAG&&t.key!==n.NAME_TAG&&t.key!==n.UNMANAGED_TAG&&t.key!==n.NAMED_TAG})},t.prototype.isOptional=function(){return this.matchesTag(n.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===n.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return t.key!==n.INJECT_TAG&&t.key!==n.MULTI_INJECT_TAG&&t.key!==n.NAME_TAG&&t.key!==n.UNMANAGED_TAG&&t.key!==n.NAMED_TAG}):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(n.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(r){for(var n=0,i=e.metadata;n<i.length;n++){var o=i[n];if(o.key===t&&o.value===r)return!0}return!1}},t}();e.Target=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(24),i=r(25),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new n.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(6),o=function(t,e){var r=t.parentRequest;return null!==r&&(!!e(r)||o(r,e))};e.traverseAncerstors=o;var a=function(t){return function(e){var r=function(r){return null!==r&&null!==r.target&&r.target.matchesTag(t)(e)};return r.metaData=new i.Metadata(t,e),r}};e.taggedConstraint=a;var s=a(n.NAMED_TAG);e.namedConstraint=s;e.typeConstraint=function(t){return function(e){var r=null;if(null!==e){if(r=e.bindings[0],"string"==typeof t)return r.serviceIdentifier===t;var n=e.bindings[0].implementationType;return t===n}return!1}}},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r(1),i=r(101),o=r(102),a=r(111),s=r(114),c=r(138);n.default.use(i.a);var u=function(){return new i.a({mode:"history",routes:[{path:"/",components:{content:o.a,"experiment-container":c.a}},{path:"/experiment",components:{content:s.a,"experiment-container":c.a}},{path:"/contact",components:{content:a.a,"experiment-container":null}}],base:"/mntns/dist/",scrollBehavior:function(){return{x:0,y:0}}})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"RETRIEVE_GITHUB_REPOS",function(){return n}),r.d(e,"RETRIEVE_GITHUB_COMMITS_FOR_REPO",function(){return i});var n="RETRIEVE_GITHUB_REPOS",i="RETRIEVE_GITHUB_COMMITS_FOR_REPO"},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(5),i=r(122),o=r(124),a=r(125),s=r(126),c=r(48),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(127);t.exports=function(t){return new Promise(function(e,h){var l=t.data,f=t.headers;n.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(t.url)||(p=new window.XDomainRequest,d="onload",m=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+u(v+":"+g)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||m)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:t,request:p};i(e,h,n),p=null}},p.onerror=function(){h(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){h(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var y=r(128),_=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;_&&(f[t.xsrfHeaderName]=_)}if("setRequestHeader"in p&&n.forEach(f,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),h(t),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(t,e,r){"use strict";var n=r(123);t.exports=function(t,e,r,i,o){var a=new Error(t);return n(a,e,r,i,o)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";var n=r(1),i=(r(52),r(167)),o=r(179);r.d(e,"a",function(){return i.a}),n.default.component("generator",o.a)},function(t,e,r){"use strict";var n=r(20),i=r(155),o=r(53),a=r(159),s=r(166),c=r(64),u=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},h=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=function(){function t(t,e){void 0===e&&(e=[]),this.sceneManager=t,this.mountainsData=e,this.mountains=[],this.addGlobalLight(),this.addShadowLight(),this.addFloor(),this.createMountains()}return t.prototype.addMountain=function(t){var e=a.a.create(t.id,t.height,t.thickness),r={x:Object(n.a)(t.x,s.a.layout.position.x.min,s.a.layout.position.x.max),z:Object(n.a)(t.z,s.a.layout.position.z.min,s.a.layout.position.z.max)};this.sceneManager.addElement(o.a.create(t.id,e.mesh,{x:r.x,z:r.z,y:0})),this.mountains.push(e)},t.prototype.clearAllMountains=function(t){return void 0===t&&(t=!0),u(this,void 0,void 0,function(){var e=this;return h(this,function(r){return this.mountains.forEach(function(r,n){return u(e,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return t?[4,r.shrink(!0,!1)]:[3,2];case 1:return e.sent(),[3,3];case 2:Promise.resolve(),e.label=3;case 3:return this.sceneManager.removeElement(r.id),[2]}})})}),this.mountains=[],[2]})})},t.prototype.clearMountain=function(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,function(){var r=this;return h(this,function(n){return this.mountains.map(function(n,i){return u(r,void 0,void 0,function(){return h(this,function(r){switch(r.label){case 0:return n.id!==t?[3,4]:e?[4,n.shrink(!0,!1)]:[3,2];case 1:return r.sent(),[3,3];case 2:Promise.resolve(),r.label=3;case 3:this.mountains.splice(i,1),this.sceneManager.removeElement(t),r.label=4;case 4:return[2]}})})}),[2]})})},t.prototype.findMountainById=function(t){var e=null;return this.mountains.forEach(function(r){r.id===t&&(e=r)}),e},t.prototype.setCamera=function(t){return u(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return"start"!==t?[3,2]:[4,this.sceneManager.setCameraToStart()];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.addFloor=function(){for(var t=c.b.planeMesh(s.a.floor.dimensions.width,s.a.floor.dimensions.height,s.a.floor.dimensions.depth,s.a.floor.color),e=t.geometry,r=e.vertices,i=0;i<r.length;i++){var a=r[i];a.x+=Object(n.b)(-s.a.floor.randomShift,s.a.floor.randomShift),a.y+=Object(n.b)(-s.a.floor.randomShift,s.a.floor.randomShift),a.z+=Object(n.b)(-s.a.floor.randomShift,s.a.floor.randomShift)}e.computeFaceNormals(),e.verticesNeedUpdate=!0,e.colorsNeedUpdate=!0,t.rotation.x=-Math.PI/2,this.sceneManager.addElement(o.a.create("floor",t))},t.prototype.addGlobalLight=function(){this.globalLight=i.a.create(s.a.globalLight.type,s.a.globalLight.primaryColor,s.a.globalLight.secondaryColor,s.a.globalLight.density),this.sceneManager.addElement(o.a.create("globalLight",this.globalLight.lightElement))},t.prototype.addShadowLight=function(){this.shadowLight=i.a.create(s.a.shadowLight.type,s.a.shadowLight.color,s.a.shadowLight.density,{castShadow:!0}),this.sceneManager.addElement(o.a.create("shadowLight",this.shadowLight.lightElement,{x:s.a.shadowLight.position.x,y:s.a.shadowLight.position.y,z:s.a.shadowLight.position.z}))},t.prototype.createMountains=function(){var t=this;this.mountainsData.forEach(function(e){t.addMountain(e)})},t}();e.a=l},function(t,e,r){"use strict";var n=function(){function t(t,e,r){this.id=t,this.position=function(t){var e={x:0,y:0,z:0};t&&"number"==typeof t.y&&(e.y=t.y);t&&"number"==typeof t.x&&(e.x=t.x);t&&"number"==typeof t.z&&(e.z=t.z);return e}(r),this.object=e,this.object.name=t}return t.create=function(e,r,n){return void 0===n&&(n={}),new t(e,r,n)},t}();e.a=n},function(t,e,r){"use strict";var n=r(10),i=(r.n(n),r(33)),o=r(62),a=r.n(o),s=r(63),c=r(21),u=r(20),h=r(64),l=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},f=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},p=function(){function t(t,e,r){var i,o,l,f;for(this.id=t,this.vectorPoints=[],this.states={isShrunk:!1},this.data={parameters:null,geometryData:null},this.data.parameters=s.a.create(r,e),this.height=this.data.parameters.height,this.thickness=c.a.parameters.thickness.default,this.color=c.a.appearance.color,this.verticalSegments=c.a.parameters.verticalSegments.default,this.radiusSegments=u.c(c.a.parameters.radiusSegments.min,c.a.parameters.radiusSegments.max),this.shapeAngleStart=c.a.parameters.shapeAngleStart.default,this.shapeAmplitude=c.a.parameters.shapeAmplitude.default,this.shapeAngle=Math.PI-this.shapeAngleStart,this.freq=this.shapeAngle/this.verticalSegments,this.segHeight=this.height/this.verticalSegments,this.vectorPoints.push(new n.Vector3(0,0,0)),i=0,f=0;f<this.verticalSegments;f++)o=30-3*f,l=u.b(0,2),this.vectorPoints.push(new n.Vector3(o,i,l)),i+=this.segHeight;this.vectorPoints.push(new n.Vector3(0,i,0)),this.mesh=new n.Mesh,this.mesh=h.a.lathe(this.vectorPoints,this.radiusSegments,c.a.appearance.color),this.mesh.geometry.uvsNeedUpdate=!0,this.data.geometryData=a()(this.mesh.geometry),this.grow()}return t.prototype.grow=function(t){return void 0===t&&(t=!0),l(this,void 0,void 0,function(){var e,r,n,o=this;return f(this,function(a){return e=new Function,r=new Promise(function(t){e=t}),n=function(){t||(o.mesh.geometry.vertices.forEach(function(t,e){t.x=o.data.geometryData.vertices[e].x,t.y=o.data.geometryData.vertices[e].y,t.z=o.data.geometryData.vertices[e].z}),o.states.isShrunk=!1,e());var r=[],n=function(){o.mesh.geometry.verticesNeedUpdate=!0};o.mesh.geometry.vertices.forEach(function(t,e){var a=new Function,s=new Promise(function(t){a=t}),c=new Function,u=new Promise(function(t){c=t});r.push(s),r.push(u),i.a.to(t,4,{x:o.data.geometryData.vertices[e].x,z:o.data.geometryData.vertices[e].z,onUpdate:n,onComplete:c}),i.a.to(t,6,{y:o.data.geometryData.vertices[e].y,onComplete:a})}),Promise.all(r).then(function(){o.states.isShrunk=!1,e()})},this.states.isShrunk?n():this.shrink().then(function(){n()}),[2,r]})})},t.prototype.shrink=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=!0),l(this,void 0,void 0,function(){var r,n,o,a,s,c,u,h=this;return f(this,function(l){return r=new Function,n=new Promise(function(t){r=t}),o=function(){if(e){var t=h.mesh.material;t.transparent=!1,t.opacity=1}},e&&((a=this.mesh.material).transparent=!0,a.opacity=0),t||((s=this.mesh.geometry).vertices.forEach(function(t){t.x=0,t.y=0,t.z=0,s.verticesNeedUpdate=!0}),this.states.isShrunk=!0,o(),r()),c=[],u=function(){h.mesh.geometry.verticesNeedUpdate=!0},this.mesh.geometry.vertices.forEach(function(t){var e=new Function,r=new Promise(function(t){e=t});c.push(r),i.a.to(t,.8,{x:0,y:0,z:0,onUpdate:u,onComplete:e})}),Promise.all(c).then(function(){h.states.isShrunk=!0,o(),r()}),[2,n]})})},t}();e.a=p},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(7),i=r(34);
/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
n.e._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(){var t=function(t){i.a.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},e=n.f._internals,r=e.lazyTweens,o=e.lazyRender,a=n.e._gsDefine.globals,s=new n.b(null,null,1,0),c=t.prototype=new i.a;return c.constructor=t,c.kill()._gc=!1,t.version="1.20.5",c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.a.prototype.invalidate.call(this)},c.addCallback=function(t,e,r,i){return this.add(n.f.delayedCall(0,t,r,i),e)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var r=this.getTweensOf(t,!1),n=r.length,i=this._parseTimeOrLabel(e);--n>-1;)r[n]._startTime===i&&r[n]._enabled(!1,!1);return this},c.removePause=function(t){return this.removeCallback(i.a._internals.pauseCallback,t)},c.tweenTo=function(t,e){e=e||{};var r,i,o,c={ease:s,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},u=e.repeat&&a.TweenMax||n.f;for(i in e)c[i]=e[i];return c.time=this._parseTimeOrLabel(t),r=Math.abs(Number(c.time)-this._time)/this._timeScale||.001,o=new u(this,r,c),c.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||r!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||o,e.onStartParams||[])},o},c.tweenFromTo=function(t,e,r){r=r||{},t=this._parseTimeOrLabel(t),r.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},r.immediateRender=!1!==r.immediateRender;var n=this.tweenTo(e,r);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,a,s,c,u,h,l,f,p=this._time,d=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,v=this._totalTime,g=this._startTime,y=this._timeScale,_=this._rawPrevTime,b=this._paused,x=this._cycle;if(p!==this._time&&(t+=this._time-p),t>=d-1e-7&&t>=0)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(a=!0,c="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||_<0||1e-10===_)&&_!==t&&this._first&&(u=!0,_>1e-10&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===m&&1e-10!==_&&(_>0||t<0&&_>=0)&&!this._locked)&&(c="onReverseComplete",a=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=a=!0,c="onReverseComplete"):_>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&a)for(i=this._first;i&&0===i._startTime;)i._duration||(a=!1),i=i._next;t=0,this._initted||(u=!0)}else if(0===m&&_<0&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=m+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=p||this._repeat&&x!==this._cycle)for(i=this._first;i&&i._startTime<=t&&!l;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(l=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!l;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(l=i),i=i._prev;l&&l._startTime<m&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var w=this._yoyo&&0!=(1&x),T=w===(this._yoyo&&0!=(1&this._cycle)),S=this._totalTime,M=this._cycle,E=this._rawPrevTime,A=this._time;if(this._totalTime=x*m,this._cycle<x?w=!w:this._totalTime+=m,this._time=p,this._rawPrevTime=0===m?_-1e-4:_,this._cycle=x,this._locked=!0,p=w?0:m,this.render(p,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=M,this._locked=!1,this._callback("onRepeat")),p!==this._time)return;if(T&&(this._cycle=x,this._locked=!0,p=w?m+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=A,this._totalTime=S,this._cycle=M,this._rawPrevTime=E}if(this._time!==p&&this._first||n||u||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(f=this._time)>=p)for(i=this._first;i&&(s=i._next,f===this._time&&(!this._paused||b));)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(l===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=s;else for(i=this._last;i&&(s=i._prev,f===this._time&&(!this._paused||b));){if(i._active||i._startTime<=p&&!i._paused&&!i._gc){if(l===i){for(l=i._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,n),l=l._prev;l=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=s}this._onUpdate&&(e||(r.length&&o(),this._callback("onUpdate"))),c&&(this._locked||this._gc||g!==this._startTime&&y===this._timeScale||(0===this._time||d>=this.totalDuration())&&(a&&(r.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[c]&&this._callback(c)))}else v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},c.getActive=function(t,e,r){null==t&&(t=!0),null==e&&(e=!0),null==r&&(r=!1);var n,i,o=[],a=this.getChildren(t,e,r),s=0,c=a.length;for(n=0;n<c;n++)(i=a[n]).isActive()&&(o[s++]=i);return o},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,r=this.getLabelsArray(),n=r.length;for(e=0;e<n;e++)if(r[e].time>t)return r[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),r=e.length;--r>-1;)if(e[r].time<t)return e[r].name;return null},c.getLabelsArray=function(){var t,e=[],r=0;for(t in this._labels)e[r++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.invalidate=function(){return this._locked=!1,i.a.prototype.invalidate.call(this)},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},c.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(i.a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},t},!0);const o=n.e.TimelineMax},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(7);
/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */n.e._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(){var t,e,r,i,o=function(){n.d.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},a=n.e._gsDefine.globals,s={},c=o.prototype=new n.d("css");c.constructor=o,o.version="1.20.5",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,c="px",o.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,h,l,f,p,d,m,v,g=/(?:\-|\.|\b)(\d|\.|e\-)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,M=/^(rgb|hsl)/,E=/([A-Z])/g,A=/-([a-z])/gi,C=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,P=function(t,e){return e.toUpperCase()},O=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,k=/,(?=[^\)]*(?:\(|$))/gi,D=/[\s,\(]/i,I=Math.PI/180,N=180/Math.PI,F={},B={style:{}},U=n.e.document||{createElement:function(){return B}},V=function(t,e){return U.createElementNS?U.createElementNS(e||"http://www.w3.org/1999/xhtml",t):U.createElement(t)},j=V("div"),G=V("img"),z=o._internals={_specialProps:s},H=(n.e.navigator||{}).userAgent||"",W=function(){var t=H.indexOf("Android"),e=V("a");return l=-1!==H.indexOf("Safari")&&-1===H.indexOf("Chrome")&&(-1===t||parseFloat(H.substr(t+8,2))>3),p=l&&parseFloat(H.substr(H.indexOf("Version/")+8,2))<6,f=-1!==H.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(H))&&(d=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),X=function(t){return w.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},$=function(t){n.e.console&&console.log(t)},q="",Y="",K=function(t,e){var r,n,i=(e=e||j).style;if(void 0!==i[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),r=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===i[r[n]+t];);return n>=0?(q="-"+(Y=3===n?"ms":r[n]).toLowerCase()+"-",Y+t):null},Q=("undefined"!=typeof window?window:U.defaultView||{getComputedStyle:function(){}}).getComputedStyle,Z=o.getStyle=function(t,e,r,n,i){var o;return W||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(r=r||Q(t))?o=r[e]||r.getPropertyValue(e)||r.getPropertyValue(e.replace(E,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==i||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:i):X(t)},J=z.convertToPixels=function(t,e,r,i,a){if("px"===i||!i&&"lineHeight"!==e)return r;if("auto"===i||!r)return 0;var s,c,u,h=O.test(e),l=t,f=j.style,p=r<0,d=1===r;if(p&&(r=-r),d&&(r*=100),"lineHeight"!==e||i)if("%"===i&&-1!==e.indexOf("border"))s=r/100*(h?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+Z(t,"position")+";line-height:0;","%"!==i&&l.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)f[h?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(l=t.parentNode||U.body,-1!==Z(l,"display").indexOf("flex")&&(f.position="absolute"),c=l._gsCache,u=n.f.ticker.frame,c&&h&&c.time===u)return c.width*r/100;f[h?"width":"height"]=r+i}l.appendChild(j),s=parseFloat(j[h?"offsetWidth":"offsetHeight"]),l.removeChild(j),h&&"%"===i&&!1!==o.cacheWidths&&((c=l._gsCache=l._gsCache||{}).time=u,c.width=s/r*100),0!==s||a||(s=J(t,e,r,i,!0))}else c=Q(t).lineHeight,t.style.lineHeight=r,s=parseFloat(Q(t).lineHeight),t.style.lineHeight=c;return d&&(s/=100),p?-s:s},tt=z.calculateOffset=function(t,e,r){if("absolute"!==Z(t,"position",r))return 0;var n="left"===e?"Left":"Top",i=Z(t,"margin"+n,r);return t["offset"+n]-(J(t,e,parseFloat(i),i.replace(x,""))||0)},et=function(t,e){var r,n,i,o={};if(e=e||Q(t,null))if(r=e.length)for(;--r>-1;)-1!==(i=e[r]).indexOf("-transform")&&Lt!==i||(o[i.replace(A,P)]=e.getPropertyValue(i));else for(r in e)-1!==r.indexOf("Transform")&&Rt!==r||(o[r]=e[r]);else if(e=t.currentStyle||t.style)for(r in e)"string"==typeof r&&void 0===o[r]&&(o[r.replace(A,P)]=e[r]);return W||(o.opacity=X(t)),n=Wt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Dt&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},rt=function(t,e,r,n,i){var o,a,s,c={},u=t.style;for(a in r)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=r[a])||i&&i[a])&&-1===a.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(c[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(b,"")?o:0:tt(t,a),void 0!==u[a]&&(s=new gt(u,a,u[a],s))));if(n)for(a in n)"className"!==a&&(c[a]=n[a]);return{difs:c,firstMPT:s}},nt={width:["Left","Right"],height:["Top","Bottom"]},it=["marginLeft","marginRight","marginTop","marginBottom"],ot=function(t,e,r){if("svg"===(t.nodeName+"").toLowerCase())return(r||Q(t))[e]||0;if(t.getCTM&&Gt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),i=nt[e],o=i.length;for(r=r||Q(t,null);--o>-1;)n-=parseFloat(Z(t,"padding"+i[o],r,!0))||0,n-=parseFloat(Z(t,"border"+i[o]+"Width",r,!0))||0;return n},at=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var r,n=t.split(" "),i=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":n[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],r=0;r<n.length;r++)t.push(at(n[r]));return t.join(",")}return null==o?o="center"===i?"50%":"0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&-1===(i+"").indexOf("="))&&(i="50%"),t=i+" "+o+(n.length>2?" "+n[2]:""),e&&(e.oxp=-1!==i.indexOf("%"),e.oyp=-1!==o.indexOf("%"),e.oxr="="===i.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(i.replace(b,"")),e.oy=parseFloat(o.replace(b,"")),e.v=t),e||t},st=function(t,e){return"function"==typeof t&&(t=t(v,m)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(v,m)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ut=function(t,e,r,n){var i,o,a,s,c;return"function"==typeof t&&(t=t(v,m)),null==t?s=e:"number"==typeof t?s=t:(i=360,o=t.split("_"),a=((c="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:N)-(c?0:e),o.length&&(n&&(n[r]=e+a),-1!==t.indexOf("short")&&(a%=i)!==a%(i/2)&&(a=a<0?a+i:a-i),-1!==t.indexOf("_cw")&&a<0?a=(a+9999999999*i)%i-(a/i|0)*i:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*i)%i-(a/i|0)*i)),s=e+a),s<1e-6&&s>-1e-6&&(s=0),s},ht={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},lt=function(t,e,r){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)+.5|0},ft=o.parseColor=function(t,e){var r,n,i,o,a,s,c,u,h,l,f;if(t)if("number"==typeof t)r=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ht[t])r=ht[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(i=t.charAt(2))+i+(o=t.charAt(3))+o),r=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(r=f=t.match(g),e){if(-1!==t.indexOf("="))return t.match(y)}else a=Number(r[0])%360/360,s=Number(r[1])/100,n=2*(c=Number(r[2])/100)-(i=c<=.5?c*(s+1):c+s-c*s),r.length>3&&(r[3]=Number(r[3])),r[0]=lt(a+1/3,n,i),r[1]=lt(a,n,i),r[2]=lt(a-1/3,n,i);else r=t.match(g)||ht.transparent;r[0]=Number(r[0]),r[1]=Number(r[1]),r[2]=Number(r[2]),r.length>3&&(r[3]=Number(r[3]))}else r=ht.black;return e&&!f&&(n=r[0]/255,i=r[1]/255,o=r[2]/255,c=((u=Math.max(n,i,o))+(h=Math.min(n,i,o)))/2,u===h?a=s=0:(l=u-h,s=c>.5?l/(2-u-h):l/(u+h),a=u===n?(i-o)/l+(i<o?6:0):u===i?(o-n)/l+2:(n-i)/l+4,a*=60),r[0]=a+.5|0,r[1]=100*s+.5|0,r[2]=100*c+.5|0),r},pt=function(t,e){var r,n,i,o=t.match(dt)||[],a=0,s="";if(!o.length)return t;for(r=0;r<o.length;r++)n=o[r],a+=(i=t.substr(a,t.indexOf(n,a)-a)).length+n.length,3===(n=ft(n,e)).length&&n.push(1),s+=i+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+t.substr(a)},dt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ht)dt+="|"+c+"\\b";dt=new RegExp(dt+")","gi"),o.colorStringFilter=function(t){var e,r=t[0]+" "+t[1];dt.test(r)&&(e=-1!==r.indexOf("hsl(")||-1!==r.indexOf("hsla("),t[0]=pt(t[0],e),t[1]=pt(t[1],e)),dt.lastIndex=0},n.f.defaultStringFilter||(n.f.defaultStringFilter=o.colorStringFilter);var mt=function(t,e,r,n){if(null==t)return function(t){return t};var i,o=e?(t.match(dt)||[""])[0]:"",a=t.split(o).join("").match(_)||[],s=t.substr(0,t.indexOf(a[0])),c=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",h=a.length,l=h>0?a[0].replace(g,""):"";return h?i=e?function(t){var e,f,p,d;if("number"==typeof t)t+=l;else if(n&&k.test(t)){for(d=t.replace(k,"|").split("|"),p=0;p<d.length;p++)d[p]=i(d[p]);return d.join(",")}if(e=(t.match(dt)||[o])[0],p=(f=t.split(e).join("").match(_)||[]).length,h>p--)for(;++p<h;)f[p]=r?f[(p-1)/2|0]:a[p];return s+f.join(u)+u+e+c+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=l;else if(n&&k.test(t)){for(o=t.replace(k,"|").split("|"),f=0;f<o.length;f++)o[f]=i(o[f]);return o.join(",")}if(f=(e=t.match(_)||[]).length,h>f--)for(;++f<h;)e[f]=r?e[(f-1)/2|0]:a[f];return s+e.join(u)+c}:function(t){return t}},vt=function(t){return t=t.split(","),function(e,r,n,i,o,a,s){var c,u=(r+"").split(" ");for(s={},c=0;c<4;c++)s[t[c]]=u[c]=u[c]||u[(c-1)/2>>0];return i.parse(e,s,o,a)}},gt=(z._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,r,n,i,o,a=this.data,s=a.proxy,c=a.firstMPT;c;)e=s[c.v],c.r?e=c.r(e):e<1e-6&&e>-1e-6&&(e=0),c.t[c.p]=e,c=c._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===t||0===t)for(c=a.firstMPT,o=1===t?"e":"b";c;){if((r=c.t).type){if(1===r.type){for(i=r.xs0+r.s+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r[o]=i}}else r[o]=r.s+r.xs0;c=c._next}},function(t,e,r,n,i){this.t=t,this.p=e,this.v=r,this.r=i,n&&(n._prev=this,this._next=n)}),yt=(z._parseToProxy=function(t,e,r,n,i,o){var a,s,c,u,h,l=n,f={},p={},d=r._transform,m=F;for(r._transform=null,F=e,n=h=r.parse(t,e,n,i),F=m,o&&(r._transform=d,l&&(l._prev=null,l._prev&&(l._prev._next=null)));n&&n!==l;){if(n.type<=1&&(p[s=n.p]=n.s+n.c,f[s]=n.s,o||(u=new gt(n,"s",s,u,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)c="xn"+a,p[s=n.p+"_"+c]=n.data[c],f[s]=n[c],o||(u=new gt(n,c,s,u,n.rxp[c]));n=n._next}return{proxy:f,end:p,firstMPT:u,pt:h}},z.CSSPropTween=function(e,r,n,o,a,s,c,u,h,l,f){this.t=e,this.p=r,this.s=n,this.c=o,this.n=c||r,e instanceof yt||i.push(this.n),this.r=u?"function"==typeof u?u:Math.round:u,this.type=s||0,h&&(this.pr=h,t=!0),this.b=void 0===l?n:l,this.e=void 0===f?n+o:f,a&&(this._next=a,a._prev=this)}),_t=function(t,e,r,n,i,o){var a=new yt(t,e,r,n-r,i,-1,o);return a.b=r,a.e=a.xs0=n,a},bt=o.parseComplex=function(t,e,r,n,i,a,s,c,h,l){r=r||a||"","function"==typeof n&&(n=n(v,m)),s=new yt(t,e,0,0,s,l?2:1,null,!1,c,r,n),n+="",i&&dt.test(n+r)&&(n=[r,n],o.colorStringFilter(n),r=n[0],n=n[1]);var f,p,d,_,b,x,w,T,S,M,E,A,C,P=r.split(", ").join(",").split(" "),O=n.split(", ").join(",").split(" "),R=P.length,L=!1!==u;for(-1===n.indexOf(",")&&-1===r.indexOf(",")||(-1!==(n+r).indexOf("rgb")||-1!==(n+r).indexOf("hsl")?(P=P.join(" ").replace(k,", ").split(" "),O=O.join(" ").replace(k,", ").split(" ")):(P=P.join(" ").split(",").join(", ").split(" "),O=O.join(" ").split(",").join(", ").split(" ")),R=P.length),R!==O.length&&(R=(P=(a||"").split(" ")).length),s.plugin=h,s.setRatio=l,dt.lastIndex=0,f=0;f<R;f++)if(_=P[f],b=O[f]+"",(T=parseFloat(_))||0===T)s.appendXtra("",T,st(b,T),b.replace(y,""),!(!L||-1===b.indexOf("px"))&&Math.round,!0);else if(i&&dt.test(_))A=")"+((A=b.indexOf(")")+1)?b.substr(A):""),C=-1!==b.indexOf("hsl")&&W,M=b,_=ft(_,C),b=ft(b,C),(S=_.length+b.length>6)&&!W&&0===b[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(O[f]).join("transparent")):(W||(S=!1),C?s.appendXtra(M.substr(0,M.indexOf("hsl"))+(S?"hsla(":"hsl("),_[0],st(b[0],_[0]),",",!1,!0).appendXtra("",_[1],st(b[1],_[1]),"%,",!1).appendXtra("",_[2],st(b[2],_[2]),S?"%,":"%"+A,!1):s.appendXtra(M.substr(0,M.indexOf("rgb"))+(S?"rgba(":"rgb("),_[0],b[0]-_[0],",",Math.round,!0).appendXtra("",_[1],b[1]-_[1],",",Math.round).appendXtra("",_[2],b[2]-_[2],S?",":A,Math.round),S&&(_=_.length<4?1:_[3],s.appendXtra("",_,(b.length<4?1:b[3])-_,A,!1))),dt.lastIndex=0;else if(x=_.match(g)){if(!(w=b.match(y))||w.length!==x.length)return s;for(d=0,p=0;p<x.length;p++)E=x[p],M=_.indexOf(E,d),s.appendXtra(_.substr(d,M-d),Number(E),st(w[p],E),"",!(!L||"px"!==_.substr(M+E.length,2))&&Math.round,0===p),d=M+E.length;s["xs"+s.l]+=_.substr(d)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+b:b;if(-1!==n.indexOf("=")&&s.data){for(A=s.xs0+s.data.s,f=1;f<s.l;f++)A+=s["xs"+f]+s.data["xn"+f];s.e=A+s["xs"+f]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},xt=9;for((c=yt.prototype).l=c.pr=0;--xt>0;)c["xn"+xt]=0,c["xs"+xt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,r,n,i,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+t:t||"",r||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",s>0?(a.data["xn"+s]=e+r,a.rxp["xn"+s]=i,a["xn"+s]=e,a.plugin||(a.xfirst=new yt(a,"xn"+s,e,r,a.xfirst||a,0,a.n,i,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+r},a.rxp={},a.s=e,a.c=r,a.r=i,a)):(a["xs"+s]+=e+(n||""),a)};var wt=function(t,e){e=e||{},this.p=e.prefix&&K(t)||t,s[t]=s[this.p]=this,this.format=e.formatter||mt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Tt=z._registerComplexSpecialProp=function(t,e,r){"object"!=typeof e&&(e={parser:r});var n,i=t.split(","),o=e.defaultValue;for(r=r||[o],n=0;n<i.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=r[n]||o,new wt(i[n],e)},St=z._registerPluginProp=function(t){if(!s[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Tt(t,{parser:function(t,r,n,i,o,c,u){var h=a.com.greensock.plugins[e];return h?(h._cssRegister(),s[n].parse(t,r,n,i,o,c,u)):($("Error: "+e+" js file not loaded."),o)}})}};(c=wt.prototype).parseComplex=function(t,e,r,n,i,o){var a,s,c,u,h,l,f=this.keyword;if(this.multi&&(k.test(r)||k.test(e)?(s=e.replace(k,"|").split("|"),c=r.replace(k,"|").split("|")):f&&(s=[e],c=[r])),c){for(u=c.length>s.length?c.length:s.length,a=0;a<u;a++)e=s[a]=s[a]||this.dflt,r=c[a]=c[a]||this.dflt,f&&(h=e.indexOf(f))!==(l=r.indexOf(f))&&(-1===l?s[a]=s[a].split(f).join(""):-1===h&&(s[a]+=" "+f));e=s.join(", "),r=c.join(", ")}return bt(t,this.p,e,r,this.clrs,this.dflt,n,this.pr,i,o)},c.parse=function(t,e,n,i,o,a,s){return this.parseComplex(t.style,this.format(Z(t,this.p,r,!1,this.dflt)),this.format(e),o,a)},o.registerSpecialProp=function(t,e,r){Tt(t,{parser:function(t,n,i,o,a,s,c){var u=new yt(t,i,0,0,a,2,i,!1,r);return u.plugin=s,u.setRatio=e(t,n,o._tween,i),u},priority:r})},o.useSVGTransformAttr=!0;var Mt,Et,At,Ct,Pt,Ot="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Rt=K("transform"),Lt=q+"transform",kt=K("transformOrigin"),Dt=null!==K("perspective"),It=z.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=!(!1===o.defaultForce3D||!Dt)&&(o.defaultForce3D||"auto")},Nt=n.e.SVGElement,Ft=function(t,e,r){var n,i=U.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in r)i.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),r[n]);return e.appendChild(i),i},Bt=U.documentElement||{},Ut=(Pt=d||/Android/i.test(H)&&!n.e.chrome,U.createElementNS&&!Pt&&(Et=Ft("svg",Bt),Ct=(At=Ft("rect",Et,{width:100,height:50,x:100})).getBoundingClientRect().width,At.style[kt]="50% 50%",At.style[Rt]="scaleX(0.5)",Pt=Ct===At.getBoundingClientRect().width&&!(f&&Dt),Bt.removeChild(Et)),Pt),Vt=function(t,e,r,n,i,a){var s,c,u,h,l,f,p,d,m,v,g,y,_,b,x=t._gsTransform,w=Ht(t,!0);x&&(_=x.xOrigin,b=x.yOrigin),(!n||(s=n.split(" ")).length<2)&&(0===(p=t.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(e=at(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),r.xOrigin=h=parseFloat(s[0]),r.yOrigin=l=parseFloat(s[1]),n&&w!==zt&&(f=w[0],p=w[1],d=w[2],m=w[3],v=w[4],g=w[5],(y=f*m-p*d)&&(c=h*(m/y)+l*(-d/y)+(d*g-m*v)/y,u=h*(-p/y)+l*(f/y)-(f*g-p*v)/y,h=r.xOrigin=s[0]=c,l=r.yOrigin=s[1]=u)),x&&(a&&(r.xOffset=x.xOffset,r.yOffset=x.yOffset,x=r),i||!1!==i&&!1!==o.defaultSmoothOrigin?(c=h-_,u=l-b,x.xOffset+=c*w[0]+u*w[2]-c,x.yOffset+=c*w[1]+u*w[3]-u):x.xOffset=x.yOffset=0),a||t.setAttribute("data-svg-origin",s.join(" "))},jt=function(t){var e,r=V("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,o=this.style.cssText;if(Bt.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=jt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return i?n.insertBefore(this,i):n.appendChild(this),Bt.removeChild(r),this.style.cssText=o,e},Gt=function(t){return!(!Nt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(t){try{return t.getBBox()}catch(e){return jt.call(t,!0)}}(t))},zt=[1,0,0,1,0,0],Ht=function(t,e){var r,n,i,o,a,s,c=t._gsTransform||new It,u=t.style;if(Rt?n=Z(t,Lt,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(R))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),c.x||0,c.y||0].join(","):""),r=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Rt||!(s=!Q(t)||"none"===Q(t).display)&&t.parentNode||(s&&(o=u.display,u.display="block"),t.parentNode||(a=1,Bt.appendChild(t)),r=!(n=Z(t,Lt,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,o?u.display=o:s&&Yt(u,"display"),a&&Bt.removeChild(t)),(c.svg||t.getCTM&&Gt(t))&&(r&&-1!==(u[Rt]+"").indexOf("matrix")&&(n=u[Rt],r=0),i=t.getAttribute("transform"),r&&i&&(n="matrix("+(i=t.transform.baseVal.consolidate().matrix).a+","+i.b+","+i.c+","+i.d+","+i.e+","+i.f+")",r=0)),r)return zt;for(i=(n||"").match(g)||[],xt=i.length;--xt>-1;)o=Number(i[xt]),i[xt]=(a=o-(o|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+o:o;return e&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},Wt=z.getTransform=function(t,e,r,i){if(t._gsTransform&&r&&!i)return t._gsTransform;var a,s,c,u,h,l,f=r&&t._gsTransform||new It,p=f.scaleX<0,d=Dt&&(parseFloat(Z(t,kt,e,!1,"0 0 0").split(" ")[2])||f.zOrigin)||0,m=parseFloat(o.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!Gt(t)),f.svg&&(Vt(t,Z(t,kt,e,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),Mt=o.useSVGTransformAttr||Ut),(a=Ht(t))!==zt){if(16===a.length){var v,g,y,_,b,x=a[0],w=a[1],T=a[2],S=a[3],M=a[4],E=a[5],A=a[6],C=a[7],P=a[8],O=a[9],R=a[10],L=a[12],k=a[13],D=a[14],I=a[11],F=Math.atan2(A,R);f.zOrigin&&(L=P*(D=-f.zOrigin)-a[12],k=O*D-a[13],D=R*D+f.zOrigin-a[14]),f.rotationX=F*N,F&&(v=M*(_=Math.cos(-F))+P*(b=Math.sin(-F)),g=E*_+O*b,y=A*_+R*b,P=M*-b+P*_,O=E*-b+O*_,R=A*-b+R*_,I=C*-b+I*_,M=v,E=g,A=y),F=Math.atan2(-T,R),f.rotationY=F*N,F&&(g=w*(_=Math.cos(-F))-O*(b=Math.sin(-F)),y=T*_-R*b,O=w*b+O*_,R=T*b+R*_,I=S*b+I*_,x=v=x*_-P*b,w=g,T=y),F=Math.atan2(w,x),f.rotation=F*N,F&&(v=x*(_=Math.cos(F))+w*(b=Math.sin(F)),g=M*_+E*b,y=P*_+O*b,w=w*_-x*b,E=E*_-M*b,O=O*_-P*b,x=v,M=g,P=y),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),F=Math.atan2(M,E),f.scaleX=(1e5*Math.sqrt(x*x+w*w+T*T)+.5|0)/1e5,f.scaleY=(1e5*Math.sqrt(E*E+A*A)+.5|0)/1e5,f.scaleZ=(1e5*Math.sqrt(P*P+O*O+R*R)+.5|0)/1e5,x/=f.scaleX,M/=f.scaleY,w/=f.scaleX,E/=f.scaleY,Math.abs(F)>2e-5?(f.skewX=F*N,M=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(F))):f.skewX=0,f.perspective=I?1/(I<0?-I:I):0,f.x=L,f.y=k,f.z=D,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*x-f.yOrigin*M),f.y-=f.yOrigin-(f.yOrigin*w-f.xOrigin*E))}else if(!Dt||i||!a.length||f.x!==a[4]||f.y!==a[5]||!f.rotationX&&!f.rotationY){var B=a.length>=6,U=B?a[0]:1,V=a[1]||0,j=a[2]||0,G=B?a[3]:1;f.x=a[4]||0,f.y=a[5]||0,c=Math.sqrt(U*U+V*V),u=Math.sqrt(G*G+j*j),h=U||V?Math.atan2(V,U)*N:f.rotation||0,l=j||G?Math.atan2(j,G)*N+h:f.skewX||0,f.scaleX=c,f.scaleY=u,f.rotation=h,f.skewX=l,Dt&&(f.rotationX=f.rotationY=f.z=0,f.perspective=m,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*U+f.yOrigin*j),f.y-=f.yOrigin-(f.xOrigin*V+f.yOrigin*G))}for(s in Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(p?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=d,f)f[s]<2e-5&&f[s]>-2e-5&&(f[s]=0)}return r&&(t._gsTransform=f,f.svg&&(Mt&&t.style[Rt]?n.f.delayedCall(.001,function(){Yt(t.style,Rt)}):!Mt&&t.getAttribute("transform")&&n.f.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Xt=function(t){var e,r,n=this.data,i=-n.rotation*I,o=i+n.skewX*I,a=(Math.cos(i)*n.scaleX*1e5|0)/1e5,s=(Math.sin(i)*n.scaleX*1e5|0)/1e5,c=(Math.sin(o)*-n.scaleY*1e5|0)/1e5,u=(Math.cos(o)*n.scaleY*1e5|0)/1e5,h=this.t.style,l=this.t.currentStyle;if(l){r=s,s=-c,c=-r,e=l.filter,h.filter="";var f,p,m=this.t.offsetWidth,v=this.t.offsetHeight,g="absolute"!==l.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+s+", M21="+c+", M22="+u,_=n.x+m*n.xPercent/100,b=n.y+v*n.yPercent/100;if(null!=n.ox&&(_+=(f=(n.oxp?m*n.ox*.01:n.ox)-m/2)-(f*a+(p=(n.oyp?v*n.oy*.01:n.oy)-v/2)*s),b+=p-(f*c+p*u)),y+=g?", Dx="+((f=m/2)-(f*a+(p=v/2)*s)+_)+", Dy="+(p-(f*c+p*u)+b)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?h.filter=e.replace(L,y):h.filter=y+" "+e,0!==t&&1!==t||1===a&&0===s&&0===c&&1===u&&(g&&-1===y.indexOf("Dx=0, Dy=0")||w.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&h.removeAttribute("filter")),!g){var T,S,M,E=d<8?1:-1;for(f=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((a<0?-a:a)*m+(s<0?-s:s)*v))/2+_),n.ieOffsetY=Math.round((v-((u<0?-u:u)*v+(c<0?-c:c)*m))/2+b),xt=0;xt<4;xt++)M=(r=-1!==(T=l[S=it[xt]]).indexOf("px")?parseFloat(T):J(this.t,S,parseFloat(T),T.replace(x,""))||0)!==n[S]?xt<2?-n.ieOffsetX:-n.ieOffsetY:xt<2?f-n.ieOffsetX:p-n.ieOffsetY,h[S]=(n[S]=Math.round(r-M*(0===xt||2===xt?1:E)))+"px"}}},$t=z.set3DTransformRatio=z.setTransformRatio=function(t){var e,r,n,i,o,a,s,c,u,h,l,p,d,m,v,g,y,_,b,x,w,T=this.data,S=this.t.style,M=T.rotation,E=T.rotationX,A=T.rotationY,C=T.scaleX,P=T.scaleY,O=T.scaleZ,R=T.x,L=T.y,k=T.z,D=T.svg,N=T.perspective,F=T.force3D,B=T.skewY,U=T.skewX;if(B&&(U+=B,M+=B),!((1!==t&&0!==t||"auto"!==F||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&F||k||N||A||E||1!==O)||Mt&&D||!Dt)M||U||D?(M*=I,x=U*I,w=1e5,r=Math.cos(M)*C,o=Math.sin(M)*C,n=Math.sin(M-x)*-P,a=Math.cos(M-x)*P,x&&"simple"===T.skewType&&(e=Math.tan(x-B*I),n*=e=Math.sqrt(1+e*e),a*=e,B&&(e=Math.tan(B*I),r*=e=Math.sqrt(1+e*e),o*=e)),D&&(R+=T.xOrigin-(T.xOrigin*r+T.yOrigin*n)+T.xOffset,L+=T.yOrigin-(T.xOrigin*o+T.yOrigin*a)+T.yOffset,Mt&&(T.xPercent||T.yPercent)&&(v=this.t.getBBox(),R+=.01*T.xPercent*v.width,L+=.01*T.yPercent*v.height),R<(v=1e-6)&&R>-v&&(R=0),L<v&&L>-v&&(L=0)),b=(r*w|0)/w+","+(o*w|0)/w+","+(n*w|0)/w+","+(a*w|0)/w+","+R+","+L+")",D&&Mt?this.t.setAttribute("transform","matrix("+b):S[Rt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+b):S[Rt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+P+","+R+","+L+")";else{if(f&&(C<(v=1e-4)&&C>-v&&(C=O=2e-5),P<v&&P>-v&&(P=O=2e-5),!N||T.z||T.rotationX||T.rotationY||(N=0)),M||U)M*=I,g=r=Math.cos(M),y=o=Math.sin(M),U&&(M-=U*I,g=Math.cos(M),y=Math.sin(M),"simple"===T.skewType&&(e=Math.tan((U-B)*I),g*=e=Math.sqrt(1+e*e),y*=e,T.skewY&&(e=Math.tan(B*I),r*=e=Math.sqrt(1+e*e),o*=e))),n=-y,a=g;else{if(!(A||E||1!==O||N||D))return void(S[Rt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+L+"px,"+k+"px)"+(1!==C||1!==P?" scale("+C+","+P+")":""));r=a=1,n=o=0}h=1,i=s=c=u=l=p=0,d=N?-1/N:0,m=T.zOrigin,v=1e-6,",","0",(M=A*I)&&(g=Math.cos(M),c=-(y=Math.sin(M)),l=d*-y,i=r*y,s=o*y,h=g,d*=g,r*=g,o*=g),(M=E*I)&&(e=n*(g=Math.cos(M))+i*(y=Math.sin(M)),_=a*g+s*y,u=h*y,p=d*y,i=n*-y+i*g,s=a*-y+s*g,h*=g,d*=g,n=e,a=_),1!==O&&(i*=O,s*=O,h*=O,d*=O),1!==P&&(n*=P,a*=P,u*=P,p*=P),1!==C&&(r*=C,o*=C,c*=C,l*=C),(m||D)&&(m&&(R+=i*-m,L+=s*-m,k+=h*-m+m),D&&(R+=T.xOrigin-(T.xOrigin*r+T.yOrigin*n)+T.xOffset,L+=T.yOrigin-(T.xOrigin*o+T.yOrigin*a)+T.yOffset),R<v&&R>-v&&(R="0"),L<v&&L>-v&&(L="0"),k<v&&k>-v&&(k=0)),b=T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(",b+=(r<v&&r>-v?"0":r)+","+(o<v&&o>-v?"0":o)+","+(c<v&&c>-v?"0":c),b+=","+(l<v&&l>-v?"0":l)+","+(n<v&&n>-v?"0":n)+","+(a<v&&a>-v?"0":a),E||A||1!==O?(b+=","+(u<v&&u>-v?"0":u)+","+(p<v&&p>-v?"0":p)+","+(i<v&&i>-v?"0":i),b+=","+(s<v&&s>-v?"0":s)+","+(h<v&&h>-v?"0":h)+","+(d<v&&d>-v?"0":d)+","):b+=",0,0,0,0,1,0,",b+=R+","+L+","+k+","+(N?1+-k/N:1)+")",S[Rt]=b}};(c=It.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Tt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,i,a,s,c){if(i._lastParsedTransform===c)return a;i._lastParsedTransform=c;var u,h=c.scale&&"function"==typeof c.scale?c.scale:0;"function"==typeof c[n]&&(u=c[n],c[n]=e),h&&(c.scale=h(v,t));var l,f,p,d,g,y,_,b,x,w=t._gsTransform,T=t.style,S=Ot.length,M=c,E={},A=Wt(t,r,!0,M.parseTransform),C=M.transform&&("function"==typeof M.transform?M.transform(v,m):M.transform);if(A.skewType=M.skewType||A.skewType||o.defaultSkewType,i._transform=A,C&&"string"==typeof C&&Rt)(f=j.style)[Rt]=C,f.display="block",f.position="absolute",-1!==C.indexOf("%")&&(f.width=Z(t,"width"),f.height=Z(t,"height")),U.body.appendChild(j),l=Wt(j,null,!1),"simple"===A.skewType&&(l.scaleY*=Math.cos(l.skewX*I)),A.svg&&(y=A.xOrigin,_=A.yOrigin,l.x-=A.xOffset,l.y-=A.yOffset,(M.transformOrigin||M.svgOrigin)&&(C={},Vt(t,at(M.transformOrigin),C,M.svgOrigin,M.smoothOrigin,!0),y=C.xOrigin,_=C.yOrigin,l.x-=C.xOffset-A.xOffset,l.y-=C.yOffset-A.yOffset),(y||_)&&(b=Ht(j,!0),l.x-=y-(y*b[0]+_*b[2]),l.y-=_-(y*b[1]+_*b[3]))),U.body.removeChild(j),l.perspective||(l.perspective=A.perspective),null!=M.xPercent&&(l.xPercent=ct(M.xPercent,A.xPercent)),null!=M.yPercent&&(l.yPercent=ct(M.yPercent,A.yPercent));else if("object"==typeof M){if(l={scaleX:ct(null!=M.scaleX?M.scaleX:M.scale,A.scaleX),scaleY:ct(null!=M.scaleY?M.scaleY:M.scale,A.scaleY),scaleZ:ct(M.scaleZ,A.scaleZ),x:ct(M.x,A.x),y:ct(M.y,A.y),z:ct(M.z,A.z),xPercent:ct(M.xPercent,A.xPercent),yPercent:ct(M.yPercent,A.yPercent),perspective:ct(M.transformPerspective,A.perspective)},null!=(g=M.directionalRotation))if("object"==typeof g)for(f in g)M[f]=g[f];else M.rotation=g;"string"==typeof M.x&&-1!==M.x.indexOf("%")&&(l.x=0,l.xPercent=ct(M.x,A.xPercent)),"string"==typeof M.y&&-1!==M.y.indexOf("%")&&(l.y=0,l.yPercent=ct(M.y,A.yPercent)),l.rotation=ut("rotation"in M?M.rotation:"shortRotation"in M?M.shortRotation+"_short":"rotationZ"in M?M.rotationZ:A.rotation,A.rotation,"rotation",E),Dt&&(l.rotationX=ut("rotationX"in M?M.rotationX:"shortRotationX"in M?M.shortRotationX+"_short":A.rotationX||0,A.rotationX,"rotationX",E),l.rotationY=ut("rotationY"in M?M.rotationY:"shortRotationY"in M?M.shortRotationY+"_short":A.rotationY||0,A.rotationY,"rotationY",E)),l.skewX=ut(M.skewX,A.skewX),l.skewY=ut(M.skewY,A.skewY)}for(Dt&&null!=M.force3D&&(A.force3D=M.force3D,d=!0),(p=A.force3D||A.z||A.rotationX||A.rotationY||l.z||l.rotationX||l.rotationY||l.perspective)||null==M.scale||(l.scaleZ=1);--S>-1;)((C=l[x=Ot[S]]-A[x])>1e-6||C<-1e-6||null!=M[x]||null!=F[x])&&(d=!0,a=new yt(A,x,A[x],C,a),x in E&&(a.e=E[x]),a.xs0=0,a.plugin=s,i._overwriteProps.push(a.n));return C=M.transformOrigin,A.svg&&(C||M.svgOrigin)&&(y=A.xOffset,_=A.yOffset,Vt(t,at(C),l,M.svgOrigin,M.smoothOrigin),a=_t(A,"xOrigin",(w?A:l).xOrigin,l.xOrigin,a,"transformOrigin"),a=_t(A,"yOrigin",(w?A:l).yOrigin,l.yOrigin,a,"transformOrigin"),y===A.xOffset&&_===A.yOffset||(a=_t(A,"xOffset",w?y:A.xOffset,A.xOffset,a,"transformOrigin"),a=_t(A,"yOffset",w?_:A.yOffset,A.yOffset,a,"transformOrigin")),C="0px 0px"),(C||Dt&&p&&A.zOrigin)&&(Rt?(d=!0,x=kt,C=(C||Z(t,x,r,!1,"50% 50%"))+"",(a=new yt(T,x,0,0,a,-1,"transformOrigin")).b=T[x],a.plugin=s,Dt?(f=A.zOrigin,C=C.split(" "),A.zOrigin=(C.length>2&&(0===f||"0px"!==C[2])?parseFloat(C[2]):f)||0,a.xs0=a.e=C[0]+" "+(C[1]||"50%")+" 0px",(a=new yt(A,"zOrigin",0,0,a,-1,a.n)).b=f,a.xs0=a.e=A.zOrigin):a.xs0=a.e=C):at(C+"",A)),d&&(i._transformType=A.svg&&Mt||!p&&3!==this._transformType?2:3),u&&(c[n]=u),h&&(c.scale=h),a},prefix:!0}),Tt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Tt("borderRadius",{defaultValue:"0px",parser:function(t,n,i,o,a,s){n=this.format(n);var c,u,h,l,f,p,d,m,v,g,y,_,b,x,w,T,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],M=t.style;for(v=parseFloat(t.offsetWidth),g=parseFloat(t.offsetHeight),c=n.split(" "),u=0;u<S.length;u++)this.p.indexOf("border")&&(S[u]=K(S[u])),-1!==(f=l=Z(t,S[u],r,!1,"0px")).indexOf(" ")&&(f=(l=f.split(" "))[0],l=l[1]),p=h=c[u],d=parseFloat(f),_=f.substr((d+"").length),(b="="===p.charAt(1))?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),y=p.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(p),y=p.substr((m+"").length)),""===y&&(y=e[i]||_),y!==_&&(x=J(t,"borderLeft",d,_),w=J(t,"borderTop",d,_),"%"===y?(f=x/v*100+"%",l=w/g*100+"%"):"em"===y?(f=x/(T=J(t,"borderLeft",1,"em"))+"em",l=w/T+"em"):(f=x+"px",l=w+"px"),b&&(p=parseFloat(f)+m+y,h=parseFloat(l)+m+y)),a=bt(M,S[u],f+" "+l,p+" "+h,!1,"0px",a);return a},prefix:!0,formatter:mt("0px 0px 0px 0px",!1,!0)}),Tt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,i,o,a){return bt(t.style,n,this.format(Z(t,n,r,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:mt("0px 0px",!1,!0)}),Tt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,i,o,a){var s,c,u,h,l,f,p="background-position",m=r||Q(t,null),v=this.format((m?d?m.getPropertyValue(p+"-x")+" "+m.getPropertyValue(p+"-y"):m.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==v.indexOf("%")!=(-1!==g.indexOf("%"))&&g.split(",").length<2&&(f=Z(t,"backgroundImage").replace(C,""))&&"none"!==f){for(s=v.split(" "),c=g.split(" "),G.setAttribute("src",f),u=2;--u>-1;)(h=-1!==(v=s[u]).indexOf("%"))!==(-1!==c[u].indexOf("%"))&&(l=0===u?t.offsetWidth-G.width:t.offsetHeight-G.height,s[u]=h?parseFloat(v)/100*l+"px":parseFloat(v)/l*100+"%");v=s.join(" ")}return this.parseComplex(t.style,v,g,o,a)},formatter:at}),Tt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return"co"===(t+="").substr(0,2)?t:at(-1===t.indexOf(" ")?t+" "+t:t)}}),Tt("perspective",{defaultValue:"0px",prefix:!0}),Tt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Tt("transformStyle",{prefix:!0}),Tt("backfaceVisibility",{prefix:!0}),Tt("userSelect",{prefix:!0}),Tt("margin",{parser:vt("marginTop,marginRight,marginBottom,marginLeft")}),Tt("padding",{parser:vt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Tt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,i,o,a){var s,c,u;return d<9?(c=t.currentStyle,u=d<8?" ":",",s="rect("+c.clipTop+u+c.clipRight+u+c.clipBottom+u+c.clipLeft+")",e=this.format(e).split(",").join(u)):(s=this.format(Z(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,a)}}),Tt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Tt("autoRound,strictUnits",{parser:function(t,e,r,n,i){return i}}),Tt("border",{defaultValue:"0px solid #000",parser:function(t,e,n,i,o,a){var s=Z(t,"borderTopWidth",r,!1,"0px"),c=this.format(e).split(" "),u=c[0].replace(x,"");return"px"!==u&&(s=parseFloat(s)/J(t,"borderTopWidth",1,u)+u),this.parseComplex(t.style,this.format(s+" "+Z(t,"borderTopStyle",r,!1,"solid")+" "+Z(t,"borderTopColor",r,!1,"#000")),c.join(" "),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(dt)||["#000"])[0]}}),Tt("borderWidth",{parser:vt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Tt("float,cssFloat,styleFloat",{parser:function(t,e,r,n,i,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new yt(a,s,0,0,i,-1,r,!1,0,a[s],e)}});var qt=function(t){var e,r=this.t,n=r.filter||Z(this.data,"filter")||"",i=this.s+this.c*t|0;100===i&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(r.removeAttribute("filter"),e=!Z(this.data,"filter")):(r.filter=n.replace(S,""),e=!0)),e||(this.xn1&&(r.filter=n=n||"alpha(opacity="+i+")"),-1===n.indexOf("pacity")?0===i&&this.xn1||(r.filter=n+" alpha(opacity="+i+")"):r.filter=n.replace(w,"opacity="+i))};Tt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,i,o,a){var s=parseFloat(Z(t,"opacity",r,!1,"1")),c=t.style,u="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),u&&1===s&&"hidden"===Z(t,"visibility",r)&&0!==e&&(s=0),W?o=new yt(c,"opacity",s,e-s,o):((o=new yt(c,"opacity",100*s,100*(e-s),o)).xn1=u?1:0,c.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=qt),u&&((o=new yt(c,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",i._overwriteProps.push(o.n),i._overwriteProps.push(n)),o}});var Yt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(E,"-$1").toLowerCase())):t.removeAttribute(e))},Kt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,r=this.t.style;e;)e.v?r[e.p]=e.v:Yt(r,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Tt("className",{parser:function(e,n,i,o,a,s,c){var u,h,l,f,p,d=e.getAttribute("class")||"",m=e.style.cssText;if((a=o._classNamePT=new yt(e,i,0,0,a,2)).setRatio=Kt,a.pr=-11,t=!0,a.b=d,h=et(e,r),l=e._gsClassPT){for(f={},p=l.data;p;)f[p.p]=1,p=p._next;l.setRatio(1)}return e._gsClassPT=a,a.e="="!==n.charAt(1)?n:d.replace(new RegExp("(?:\\s|^)"+n.substr(2)+"(?![\\w-])"),"")+("+"===n.charAt(0)?" "+n.substr(2):""),e.setAttribute("class",a.e),u=rt(e,h,et(e),c,f),e.setAttribute("class",d),a.data=u.firstMPT,e.style.cssText=m,a=a.xfirst=o.parse(e,u.difs,a,s)}});var Qt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,r,n,i,o,a=this.t.style,c=s.transform.parse;if("all"===this.e)a.cssText="",i=!0;else for(n=(e=this.e.split(" ").join("").split(",")).length;--n>-1;)r=e[n],s[r]&&(s[r].parse===c?i=!0:r="transformOrigin"===r?kt:s[r].p),Yt(a,r);i&&(Yt(a,Rt),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Tt("clearProps",{parser:function(e,r,n,i,o){return(o=new yt(e,n,0,0,o,2)).setRatio=Qt,o.e=r,o.pr=-10,o.data=i._tween,t=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),xt=c.length;xt--;)St(c[xt]);(c=o.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(n,a,c,f){if(!n.nodeType)return!1;this._target=m=n,this._tween=c,this._vars=a,v=f,u=a.autoRound,t=!1,e=a.suffixMap||o.suffixMap,r=Q(n,""),i=this._overwriteProps;var d,g,y,_,b,x,w,S,M,E=n.style;if(h&&""===E.zIndex&&("auto"!==(d=Z(n,"zIndex",r))&&""!==d||this._addLazySet(E,"zIndex",0)),"string"==typeof a&&(_=E.cssText,d=et(n,r),E.cssText=_+";"+a,d=rt(n,d,et(n)).difs,!W&&T.test(a)&&(d.opacity=parseFloat(RegExp.$1)),a=d,E.cssText=_),a.className?this._firstPT=g=s.className.parse(n,a.className,"className",this,null,null,a):this._firstPT=g=this.parse(n,a,null),this._transformType){for(M=3===this._transformType,Rt?l&&(h=!0,""===E.zIndex&&("auto"!==(w=Z(n,"zIndex",r))&&""!==w||this._addLazySet(E,"zIndex",0)),p&&this._addLazySet(E,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(M?"visible":"hidden"))):E.zoom=1,y=g;y&&y._next;)y=y._next;S=new yt(n,"transform",0,0,null,2),this._linkCSSP(S,null,y),S.setRatio=Rt?$t:Xt,S.data=this._transform||Wt(n,r,!0),S.tween=c,S.pr=-1,i.pop()}if(t){for(;g;){for(x=g._next,y=_;y&&y.pr>g.pr;)y=y._next;(g._prev=y?y._prev:b)?g._prev._next=g:_=g,(g._next=y)?y._prev=g:b=g,g=x}this._firstPT=_}return!0},c.parse=function(t,n,i,o){var a,c,h,l,f,p,d,g,y,_,b=t.style;for(a in n){if("function"==typeof(p=n[a])&&(p=p(v,m)),c=s[a])i=c.parse(t,p,a,this,i,o,n);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,t.style,"setProperty",Q(t).getPropertyValue(a)+"",p+"",a,!1,a);continue}f=Z(t,a,r)+"",y="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||y&&M.test(p)?(y||(p=((p=ft(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),i=bt(b,a,f,p,!0,"transparent",i,0,o)):y&&D.test(p)?i=bt(b,a,f,p,!0,null,i,0,o):(d=(h=parseFloat(f))||0===h?f.substr((h+"").length):"",""!==f&&"auto"!==f||("width"===a||"height"===a?(h=ot(t,a,r),d="px"):"left"===a||"top"===a?(h=tt(t,a,r),d="px"):(h="opacity"!==a?0:1,d="")),(_=y&&"="===p.charAt(1))?(l=parseInt(p.charAt(0)+"1",10),p=p.substr(2),l*=parseFloat(p),g=p.replace(x,"")):(l=parseFloat(p),g=y?p.replace(x,""):""),""===g&&(g=a in e?e[a]:d),p=l||0===l?(_?l+h:l)+g:n[a],d!==g&&(""===g&&"lineHeight"!==a||(l||0===l)&&h&&(h=J(t,a,h,d),"%"===g?(h/=J(t,a,100,"%")/100,!0!==n.strictUnits&&(f=h+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?h/=J(t,a,1,g):"px"!==g&&(l=J(t,a,l,g),g="px"),_&&(l||0===l)&&(p=l+h+g))),_&&(l+=h),!h&&0!==h||!l&&0!==l?void 0!==b[a]&&(p||p+""!="NaN"&&null!=p)?(i=new yt(b,a,l||h||0,0,i,-1,a,!1,0,f,p)).xs0="none"!==p||"display"!==a&&-1===a.indexOf("Style")?p:f:$("invalid "+a+" tween value: "+n[a]):(i=new yt(b,a,h,l-h,i,0,a,!1!==u&&("px"===g||"zIndex"===a),0,f,p)).xs0=g)}o&&i&&!i.plugin&&(i.plugin=o)}return i},c.setRatio=function(t){var e,r,n,i=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;i;){if(e=i.c*t+i.s,i.r?e=i.r(e):e<1e-6&&e>-1e-6&&(e=0),i.type)if(1===i.type)if(2===(n=i.l))i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2;else if(3===n)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===n)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===n)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(r=i.xs0+e+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.t[i.p]=r}else-1===i.type?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(t);else i.t[i.p]=e+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(t),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&-1!==i.type)if(e=i.r(i.s+i.c),i.type){if(1===i.type){for(n=i.l,r=i.xs0+e+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.t[i.p]=r}}else i.t[i.p]=e+i.xs0;else i.t[i.p]=i.e;else i.setRatio(t);i=i._next}},c._enableTransforms=function(t){this._transform=this._transform||Wt(this._target,r,!0),this._transformType=this._transform.svg&&Mt||!t&&3!==this._transformType?2:3};var Zt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,r){var n=this._firstPT=new yt(t,e,0,0,this._firstPT,2);n.e=r,n.setRatio=Zt,n.data=this},c._linkCSSP=function(t,e,r,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),r?r._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=r),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&(e.r=t[e.p]),e=e._next},c._kill=function(t){var e,r,i,o=t;if(t.autoAlpha||t.alpha){for(r in o={},t)o[r]=t[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(e=this._classNamePT)&&((i=e.xfirst)&&i._prev?this._linkCSSP(i._prev,e._next,i._prev._prev):i===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,i._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==r&&e.plugin._kill&&(e.plugin._kill(t),r=e.plugin),e=e._next;return n.d.prototype._kill.call(this,o)};var Jt=function(t,e,r){var n,i,o,a;if(t.slice)for(i=t.length;--i>-1;)Jt(t[i],e,r);else for(i=(n=t.childNodes).length;--i>-1;)a=(o=n[i]).type,o.style&&(e.push(et(o)),r&&r.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Jt(o,e,r)};return o.cascadeTo=function(t,e,r){var i,o,a,s,c=n.f.to(t,e,r),u=[c],h=[],l=[],f=[],p=n.f._internals.reservedProps;for(t=c._targets||c.target,Jt(t,h,f),c.render(e,!0,!0),Jt(t,l),c.render(0,!0,!0),c._enabled(!0),i=f.length;--i>-1;)if((o=rt(f[i],h[i],l[i])).firstMPT){for(a in o=o.difs,r)p[a]&&(o[a]=r[a]);for(a in s={},o)s[a]=h[i][a];u.push(n.f.fromTo(f[i],e,s,o))}return u},n.d.activate([o]),o},!0);const i=n.e.CSSPlugin},function(t,e,r){"use strict";r.d(e,"a",function(){return n});
/*!
 * VERSION: 0.6.1
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
const n=r(7).e._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,r,n){var i,o;if("function"!=typeof t.setAttribute)return!1;for(i in e)"function"==typeof(o=e[i])&&(o=o(n,t)),this._addTween(t,"setAttribute",t.getAttribute(i)+"",o+"",i,!1,i),this._overwriteProps.push(i);return!0}})},function(t,e,r){"use strict";r.d(e,"a",function(){return n});
/*!
 * VERSION: 1.6.0
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
const n=r(7).e._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(t,e,r){return this._tween=r,!0}}),i=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(r){return(Math.round(r/t)*t*e|0)/e}},o=function(t,e){for(;t;)t.f||t.blob||(t.m=e||Math.round),t=t._next},a=n.prototype;a._onInitAllProps=function(){var t,e,r,n,a=this._tween,s=a.vars.roundProps,c={},u=a._propLookup.roundProps;if("object"!=typeof s||s.push)for("string"==typeof s&&(s=s.split(",")),r=s.length;--r>-1;)c[s[r]]=Math.round;else for(n in s)c[n]=i(s[n]);for(n in c)for(t=a._firstPT;t;)e=t._next,t.pg?t.t._mod(c):t.n===n&&(2===t.f&&t.t?o(t.t._firstPT,c[n]):(this._add(t.t,n,t.s,t.c,c[n]),e&&(e._prev=t._prev),t._prev?t._prev._next=e:a._firstPT===t&&(a._firstPT=e),t._next=t._prev=null,a._propLookup[n]=u)),t=e;return!1},a._add=function(t,e,r,n,i){this._addTween(t,e,r,r+n,e,i||Math.round),this._overwriteProps.push(e)}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});
/*!
 * VERSION: 0.3.1
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
const n=r(7).e._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,r,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,o,a,s,c,u,h=!0===e.useRadians?2*Math.PI:360;for(i in e)"useRadians"!==i&&("function"==typeof(s=e[i])&&(s=s(n,t)),o=(u=(s+"").split("_"))[0],a=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),c=(s=this.finals[i]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0)-a,u.length&&(-1!==(o=u.join("_")).indexOf("short")&&(c%=h)!==c%(h/2)&&(c=c<0?c+h:c-h),-1!==o.indexOf("_cw")&&c<0?c=(c+9999999999*h)%h-(c/h|0)*h:-1!==o.indexOf("ccw")&&c>0&&(c=(c-9999999999*h)%h-(c/h|0)*h)),(c>1e-6||c<-1e-6)&&(this._addTween(t,i,a,a+c,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}});n._autoCSS=!0},function(t,e,r){"use strict";r.d(e,"a",function(){return v});var n=r(7),i=180/Math.PI,o=[],a=[],s=[],c={},u=n.e._gsDefine.globals,h=function(t,e,r,n){r===n&&(r=n-(n-e)/1e6),t===e&&(e=t+(r-t)/1e6),this.a=t,this.b=e,this.c=r,this.d=n,this.da=n-t,this.ca=r-t,this.ba=e-t},l=function(t,e,r,n){var i={a:t},o={},a={},s={c:n},c=(t+e)/2,u=(e+r)/2,h=(r+n)/2,l=(c+u)/2,f=(u+h)/2,p=(f-l)/8;return i.b=c+(t-c)/4,o.b=l+p,i.c=o.a=(i.b+o.b)/2,o.c=a.a=(l+f)/2,a.b=f-p,s.b=h+(n-h)/4,a.c=s.a=(a.b+s.b)/2,[i,o,a,s]},f=function(t,e,r,n,i){var c,u,h,f,p,d,m,v,g,y,_,b,x,w=t.length-1,T=0,S=t[0].a;for(c=0;c<w;c++)u=(p=t[T]).a,h=p.d,f=t[T+1].d,i?(_=o[c],x=((b=a[c])+_)*e*.25/(n?.5:s[c]||.5),v=h-((d=h-(h-u)*(n?.5*e:0!==_?x/_:0))+(((m=h+(f-h)*(n?.5*e:0!==b?x/b:0))-d)*(3*_/(_+b)+.5)/4||0))):v=h-((d=h-(h-u)*e*.5)+(m=h+(f-h)*e*.5))/2,d+=v,m+=v,p.c=g=d,p.b=0!==c?S:S=p.a+.6*(p.c-p.a),p.da=h-u,p.ca=g-u,p.ba=S-u,r?(y=l(u,S,g,h),t.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,S=m;(p=t[T]).b=S,p.c=S+.4*(p.d-S),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=S-p.a,r&&(y=l(p.a,S,p.c,p.d),t.splice(T,1,y[0],y[1],y[2],y[3]))},p=function(t,e,r,n){var i,s,c,u,l,f,p=[];if(n)for(s=(t=[n].concat(t)).length;--s>-1;)"string"==typeof(f=t[s][e])&&"="===f.charAt(1)&&(t[s][e]=n[e]+Number(f.charAt(0)+f.substr(2)));if((i=t.length-2)<0)return p[0]=new h(t[0][e],0,0,t[0][e]),p;for(s=0;s<i;s++)c=t[s][e],u=t[s+1][e],p[s]=new h(c,0,0,u),r&&(l=t[s+2][e],o[s]=(o[s]||0)+(u-c)*(u-c),a[s]=(a[s]||0)+(l-u)*(l-u));return p[s]=new h(t[s][e],0,0,t[s+1][e]),p},d=function(t,e,r,n,i,u){var h,l,d,m,v,g,y,_,b={},x=[],w=u||t[0];for(l in i="string"==typeof i?","+i+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])x.push(l);if(t.length>1){for(_=t[t.length-1],y=!0,h=x.length;--h>-1;)if(l=x[h],Math.abs(w[l]-_[l])>.05){y=!1;break}y&&(t=t.concat(),u&&t.unshift(u),t.push(t[1]),u=t[t.length-3])}for(o.length=a.length=s.length=0,h=x.length;--h>-1;)l=x[h],c[l]=-1!==i.indexOf(","+l+","),b[l]=p(t,l,c[l],u);for(h=o.length;--h>-1;)o[h]=Math.sqrt(o[h]),a[h]=Math.sqrt(a[h]);if(!n){for(h=x.length;--h>-1;)if(c[l])for(g=(d=b[x[h]]).length-1,m=0;m<g;m++)v=d[m+1].da/a[m]+d[m].da/o[m]||0,s[m]=(s[m]||0)+v*v;for(h=s.length;--h>-1;)s[h]=Math.sqrt(s[h])}for(h=x.length,m=r?4:1;--h>-1;)d=b[l=x[h]],f(d,e,r,n,c[l]),y&&(d.splice(0,m),d.splice(d.length-m,m));return b},m=function(t,e,r){for(var n,i,o,a,s,c,u,h,l,f,p,d=1/r,m=t.length;--m>-1;)for(o=(f=t[m]).a,a=f.d-o,s=f.c-o,c=f.b-o,n=i=0,h=1;h<=r;h++)n=i-(i=((u=d*h)*u*a+3*(l=1-u)*(u*s+l*c))*u),e[p=m*r+h-1]=(e[p]||0)+n*n},v=n.e._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,r){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,i,o,a,s,c=e.values||[],u={},l=c[0],f=e.autoRotate||r.vars.orientToBezier;for(n in this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",!0===f?0:Number(f)||0]]:null,l)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),i=this._func[n]="function"==typeof t[n],u[n]=i?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),s||u[n]!==c[0][n]&&(s=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?d(c,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):function(t,e,r){var n,i,o,a,s,c,u,l,f,p,d,m={},v="cubic"===(e=e||"soft")?3:2,g="soft"===e,y=[];if(g&&r&&(t=[r].concat(t)),null==t||t.length<v+1)throw"invalid Bezier data";for(f in t[0])y.push(f);for(c=y.length;--c>-1;){for(m[f=y[c]]=s=[],p=0,l=t.length,u=0;u<l;u++)n=null==r?t[u][f]:"string"==typeof(d=t[u][f])&&"="===d.charAt(1)?r[f]+Number(d.charAt(0)+d.substr(2)):Number(d),g&&u>1&&u<l-1&&(s[p++]=(n+s[p-2])/2),s[p++]=n;for(l=p-v+1,p=0,u=0;u<l;u+=v)n=s[u],i=s[u+1],o=s[u+2],a=2===v?0:s[u+3],s[p++]=d=3===v?new h(n,i,o,a):new h(n,(2*i+n)/3,(2*i+o)/3,o);s.length=p}return m}(c,e.type,u),this._segCount=this._beziers[n].length,this._timeRes){var p=function(t,e){var r,n,i,o,a=[],s=[],c=0,u=0,h=(e=e>>0||6)-1,l=[],f=[];for(r in t)m(t[r],a,e);for(i=a.length,n=0;n<i;n++)c+=Math.sqrt(a[n]),f[o=n%e]=c,o===h&&(u+=c,l[o=n/e>>0]=f,s[o]=u,c=0,f=[]);return{length:u,lengths:s,segments:l}}(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),o=f.length;--o>-1;){for(a=0;a<3;a++)n=f[o][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=f[o][2],this._initialRotations[o]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=r.vars.runBackwards?1:0,!0},set:function(t){var e,r,n,o,a,s,c,u,h,l,f=this._segCount,p=this._func,d=this._target,m=t!==this._startRatio;if(this._timeRes){if(h=this._lengths,l=this._curSeg,t*=this._length,n=this._li,t>this._l2&&n<f-1){for(u=f-1;n<u&&(this._l2=h[++n])<=t;);this._l1=h[n-1],this._li=n,this._curSeg=l=this._segments[n],this._s2=l[this._s1=this._si=0]}else if(t<this._l1&&n>0){for(;n>0&&(this._l1=h[--n])>=t;);0===n&&t<this._l1?this._l1=0:n++,this._l2=h[n],this._li=n,this._curSeg=l=this._segments[n],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(e=n,t-=this._l1,n=this._si,t>this._s2&&n<l.length-1){for(u=l.length-1;n<u&&(this._s2=l[++n])<=t;);this._s1=l[n-1],this._si=n}else if(t<this._s1&&n>0){for(;n>0&&(this._s1=l[--n])>=t;);0===n&&t<this._s1?this._s1=0:n++,this._s2=l[n],this._si=n}s=(n+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(e=t<0?0:t>=1?f-1:f*t>>0)*(1/f))*f;for(r=1-s,n=this._props.length;--n>-1;)o=this._props[n],c=(s*s*(a=this._beziers[o][e]).da+3*r*(s*a.ca+r*a.ba))*s+a.a,this._mod[o]&&(c=this._mod[o](c,d)),p[o]?d[o](c):d[o]=c;if(this._autoRotate){var v,g,y,_,b,x,w,T=this._autoRotate;for(n=T.length;--n>-1;)o=T[n][2],x=T[n][3]||0,w=!0===T[n][4]?1:i,a=this._beziers[T[n][0]],v=this._beziers[T[n][1]],a&&v&&(a=a[e],v=v[e],g=a.a+(a.b-a.a)*s,g+=((_=a.b+(a.c-a.b)*s)-g)*s,_+=(a.c+(a.d-a.c)*s-_)*s,y=v.a+(v.b-v.a)*s,y+=((b=v.b+(v.c-v.b)*s)-y)*s,b+=(v.c+(v.d-v.c)*s-b)*s,c=m?Math.atan2(b-y,_-g)*w+x:this._initialRotations[n],this._mod[o]&&(c=this._mod[o](c,d)),p[o]?d[o](c):d[o]=c)}}}),g=v.prototype;
/*!
 * VERSION: 1.3.8
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/v.bezierThrough=d,v.cubicToQuadratic=l,v._autoCSS=!0,v.quadraticToCubic=function(t,e,r){return new h(t,(2*e+t)/3,(2*e+r)/3,r)},v._cssRegister=function(){var t=u.CSSPlugin;if(t){var e=t._internals,r=e._parseToProxy,n=e._setPluginRatio,i=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,c){e instanceof Array&&(e={values:e}),c=new v;var u,h,l,f=e.values,p=f.length-1,d=[],m={};if(p<0)return s;for(u=0;u<=p;u++)l=r(t,f[u],a,s,c,p!==u),d[u]=l.end;for(h in e)m[h]=e[h];return m.values=d,(s=new i(t,"bezier",0,0,l.pt,2)).data=l,s.plugin=c,s.setRatio=n,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(u=!0===m.autoRotate?0:Number(m.autoRotate),m.autoRotate=null!=l.end.left?[["left","top","rotation",u,!1]]:null!=l.end.x&&[["x","y","rotation",u,!1]]),m.autoRotate&&(a._transform||a._enableTransforms(!1),l.autoRotate=a._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,a._overwriteProps.push("rotation")),c._onInitTween(l.proxy,m,a._tween),s}})}},g._mod=function(t){for(var e,r=this._overwriteProps,n=r.length;--n>-1;)(e=t[r[n]])&&"function"==typeof e&&(this._mod[r[n]]=e)},g._kill=function(t){var e,r,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],r=n.length;--r>-1;)n[r]===e&&n.splice(r,1);if(n=this._autoRotate)for(r=n.length;--r>-1;)t[n[r][2]]&&n.splice(r,1);return this._super._kill.call(this,t)}},function(t,e,r){"use strict";var n=r(7);
/*!
 * VERSION: 1.16.0
 * DATE: 2018-05-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/n.e._gsDefine("easing.Back",["easing.Ease"],function(){var t,e,r,i,o=n.e.GreenSockGlobals||n.e,a=o.com.greensock,s=2*Math.PI,c=Math.PI/2,u=a._class,h=function(t,e){var r=u("easing."+t,function(){},!0),i=r.prototype=new n.b;return i.constructor=r,i.getRatio=e,r},l=n.b.register||function(){},f=function(t,e,r,n,i){var o=u("easing."+t,{easeOut:new e,easeIn:new r,easeInOut:new n},!0);return l(o,t),o},p=function(t,e,r){this.t=t,this.v=e,r&&(this.next=r,r.prev=this,this.c=r.v-e,this.gap=r.t-t)},d=function(t,e){var r=u("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new n.b;return i.constructor=r,i.getRatio=e,i.config=function(t){return new r(t)},r},m=f("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=u("easing.SlowMo",function(t,e,r){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===r},!0),g=v.prototype=new n.b;return g.constructor=v,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),g.config=v.config=function(t,e,r){return new v(t,e,r)},(g=(t=u("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new n.b).constructor=t,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},g.config=t.config=function(e,r){return new t(e,r)},(g=(e=u("easing.ExpoScaleEase",function(t,e,r){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=r},!0)).prototype=new n.b).constructor=e,g.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},g.config=e.config=function(t,r,n){return new e(t,r,n)},(g=(r=u("easing.RoughEase",function(t){for(var e,r,i,o,a,s,c=(t=t||{}).taper||"none",u=[],h=0,l=0|(t.points||20),f=l,d=!1!==t.randomize,m=!0===t.clamp,v=t.template instanceof n.b?t.template:null,g="number"==typeof t.strength?.4*t.strength:.4;--f>-1;)e=d?Math.random():1/l*f,r=v?v.getRatio(e):e,i="none"===c?g:"out"===c?(o=1-e)*o*g:"in"===c?e*e*g:e<.5?(o=2*e)*o*.5*g:(o=2*(1-e))*o*.5*g,d?r+=Math.random()*i-.5*i:f%2?r+=.5*i:r-=.5*i,m&&(r>1?r=1:r<0&&(r=0)),u[h++]={x:e,y:r};for(u.sort(function(t,e){return t.x-e.x}),s=new p(1,1,null),f=l;--f>-1;)a=u[f],s=new p(a.x,a.y,s);this._prev=new p(0,0,0!==s.t?s:s.next)},!0)).prototype=new n.b).constructor=r,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new r(t)},r.ease=new r,f("Bounce",h("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),f("Elastic",(i=function(t,e,r){var i=u("easing."+t,function(t,e){this._p1=t>=1?t:1,this._p2=(e||r)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),o=i.prototype=new n.b;return o.constructor=i,o.getRatio=e,o.config=function(t,e){return new i(t,e)},i})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),i("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),i("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",h("SineOut",function(t){return Math.sin(t*c)}),h("SineIn",function(t){return 1-Math.cos(t*c)}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(t){return n.b.map[t]}},!0),l(o.SlowMo,"SlowMo","ease,"),l(r,"RoughEase","ease,"),l(t,"SteppedEase","ease,"),m},!0);const i=n.e.Back;e.a=i;const o=n.e.Elastic;e.d=o;const a=n.e.Bounce;e.b=a;const s=n.e.RoughEase;e.g=s;const c=n.e.SlowMo;e.i=c;const u=n.e.SteppedEase;e.j=u;const h=n.e.Circ;e.c=h;const l=n.e.Expo;e.e=l;const f=n.e.Sine;e.h=f;const p=n.e.ExpoScaleEase;e.f=p},function(t,e,r){(function(t,r){var n=200,i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Boolean]",c="[object Date]",u="[object Function]",h="[object GeneratorFunction]",l="[object Map]",f="[object Number]",p="[object Object]",d="[object RegExp]",m="[object Set]",v="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",T="[object Int16Array]",S="[object Int32Array]",M="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",C="[object Uint32Array]",P=/\w*$/,O=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,L={};L[a]=L["[object Array]"]=L[y]=L[_]=L[s]=L[c]=L[b]=L[x]=L[w]=L[T]=L[S]=L[l]=L[f]=L[p]=L[d]=L[m]=L[v]=L[g]=L[M]=L[E]=L[A]=L[C]=!0,L["[object Error]"]=L[u]=L["[object WeakMap]"]=!1;var k="object"==typeof t&&t&&t.Object===Object&&t,D="object"==typeof self&&self&&self.Object===Object&&self,I=k||D||Function("return this")(),N="object"==typeof e&&e&&!e.nodeType&&e,F=N&&"object"==typeof r&&r&&!r.nodeType&&r,B=F&&F.exports===N;function U(t,e){return t.set(e[0],e[1]),t}function V(t,e){return t.add(e),t}function j(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function G(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function H(t,e){return function(r){return t(e(r))}}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var X,$=Array.prototype,q=Function.prototype,Y=Object.prototype,K=I["__core-js_shared__"],Q=(X=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",Z=q.toString,J=Y.hasOwnProperty,tt=Y.toString,et=RegExp("^"+Z.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=B?I.Buffer:void 0,nt=I.Symbol,it=I.Uint8Array,ot=H(Object.getPrototypeOf,Object),at=Object.create,st=Y.propertyIsEnumerable,ct=$.splice,ut=Object.getOwnPropertySymbols,ht=rt?rt.isBuffer:void 0,lt=H(Object.keys,Object),ft=Ft(I,"DataView"),pt=Ft(I,"Map"),dt=Ft(I,"Promise"),mt=Ft(I,"Set"),vt=Ft(I,"WeakMap"),gt=Ft(Object,"create"),yt=Gt(ft),_t=Gt(pt),bt=Gt(dt),xt=Gt(mt),wt=Gt(vt),Tt=nt?nt.prototype:void 0,St=Tt?Tt.valueOf:void 0;function Mt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){this.__data__=new Et(t)}function Pt(t,e){var r=Ht(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Wt(t)}(t)&&J.call(t,"callee")&&(!st.call(t,"callee")||tt.call(t)==a)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!J.call(t,o)||i&&("length"==o||Vt(o,n))||r.push(o);return r}function Ot(t,e,r){var n=t[e];J.call(t,e)&&zt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Rt(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function Lt(t,e,r,n,i,o,O){var R;if(n&&(R=o?n(t,i,o,O):n(t)),void 0!==R)return R;if(!qt(t))return t;var k=Ht(t);if(k){if(R=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&J.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,R)}else{var D=Ut(t),I=D==u||D==h;if(Xt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(D==p||D==a||I&&!o){if(G(t))return o?t:{};if(R=function(t){return"function"!=typeof t.constructor||jt(t)?{}:(e=ot(t),qt(e)?at(e):{});var e}(I?{}:t),!e)return function(t,e){return It(t,Bt(t),e)}(t,function(t,e){return t&&It(e,Yt(e),t)}(R,t))}else{if(!L[D])return o?t:{};R=function(t,e,r,n){var i=t.constructor;switch(e){case y:return Dt(t);case s:case c:return new i(+t);case _:return function(t,e){var r=e?Dt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case b:case x:case w:case T:case S:case M:case E:case A:case C:return function(t,e){var r=e?Dt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case l:return function(t,e,r){return j(e?r(z(t),!0):z(t),U,new t.constructor)}(t,n,r);case f:case v:return new i(t);case d:return(u=new(a=t).constructor(a.source,P.exec(a))).lastIndex=a.lastIndex,u;case m:return function(t,e,r){return j(e?r(W(t),!0):W(t),V,new t.constructor)}(t,n,r);case g:return o=t,St?Object(St.call(o)):{}}var o;var a,u}(t,D,Lt,e)}}O||(O=new Ct);var N=O.get(t);if(N)return N;if(O.set(t,R),!k)var F=r?function(t){return function(t,e,r){var n=e(t);return Ht(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Yt,Bt)}(t):Yt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(F||t,function(i,o){F&&(i=t[o=i]),Ot(R,o,Lt(i,e,r,n,o,t,O))}),R}function kt(t){return!(!qt(t)||Q&&Q in t)&&($t(t)||G(t)?et:O).test(Gt(t))}function Dt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function It(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=n?n(r[a],t[a],a,r,t):void 0;Ot(r,a,void 0===s?t[a]:s)}return r}function Nt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ft(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return kt(r)?r:void 0}Mt.prototype.clear=function(){this.__data__=gt?gt(null):{}},Mt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Mt.prototype.get=function(t){var e=this.__data__;if(gt){var r=e[t];return r===i?void 0:r}return J.call(e,t)?e[t]:void 0},Mt.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:J.call(e,t)},Mt.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?i:e,this},Et.prototype.clear=function(){this.__data__=[]},Et.prototype.delete=function(t){var e=this.__data__,r=Rt(e,t);return!(r<0||(r==e.length-1?e.pop():ct.call(e,r,1),0))},Et.prototype.get=function(t){var e=this.__data__,r=Rt(e,t);return r<0?void 0:e[r][1]},Et.prototype.has=function(t){return Rt(this.__data__,t)>-1},Et.prototype.set=function(t,e){var r=this.__data__,n=Rt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Mt,map:new(pt||Et),string:new Mt}},At.prototype.delete=function(t){return Nt(this,t).delete(t)},At.prototype.get=function(t){return Nt(this,t).get(t)},At.prototype.has=function(t){return Nt(this,t).has(t)},At.prototype.set=function(t,e){return Nt(this,t).set(t,e),this},Ct.prototype.clear=function(){this.__data__=new Et},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Et){var i=r.__data__;if(!pt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new At(i)}return r.set(t,e),this};var Bt=ut?H(ut,Object):function(){return[]},Ut=function(t){return tt.call(t)};function Vt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||R.test(t))&&t>-1&&t%1==0&&t<e}function jt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Gt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(ft&&Ut(new ft(new ArrayBuffer(1)))!=_||pt&&Ut(new pt)!=l||dt&&"[object Promise]"!=Ut(dt.resolve())||mt&&Ut(new mt)!=m||vt&&"[object WeakMap]"!=Ut(new vt))&&(Ut=function(t){var e=tt.call(t),r=e==p?t.constructor:void 0,n=r?Gt(r):void 0;if(n)switch(n){case yt:return _;case _t:return l;case bt:return"[object Promise]";case xt:return m;case wt:return"[object WeakMap]"}return e});var Ht=Array.isArray;function Wt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!$t(t)}var Xt=ht||function(){return!1};function $t(t){var e=qt(t)?tt.call(t):"";return e==u||e==h}function qt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Yt(t){return Wt(t)?Pt(t):function(t){if(!jt(t))return lt(t);var e=[];for(var r in Object(t))J.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}r.exports=function(t){return Lt(t,!0,!0)}}).call(e,r(13),r(163)(t))},function(t,e,r){"use strict";var n=r(20),i=r(21),o=function(){function t(t,e){void 0===t&&(t=i.a.parameters.thickness.default),void 0===e&&(e=i.a.parameters.height.default),this.thickness=Object(n.a)(t,i.a.parameters.thickness.min,i.a.parameters.thickness.max),this.height=Object(n.a)(e,i.a.parameters.height.min,i.a.parameters.height.max)}return t.create=function(e,r){return new t(e,r)},t}();e.a=o},function(t,e,r){"use strict";var n=r(164);r.d(e,"a",function(){return n.a}),e.b=n.a},function(t,e,r){"use strict";var n=r(10),i=(r.n(n),r(66)),o=function(){function t(t,e,r,o,a){switch(t){case i.a.PERSPECTIVE:this.cameraElement=new n.PerspectiveCamera(e,r,o,a);break;default:this.cameraElement=new n.Camera}}return t.create=function(e,r,n,i,o){return new t(e,r,n,i,o)},t}();e.a=o},function(t,e,r){"use strict";e.a={PERSPECTIVE:"perspective"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"reposMappers",function(){return i}),r.d(e,"commitsMappers",function(){return o});var n=r(21),i=[{dataKey:["size"],mountainsParameter:"height",min:n.a.parameters.height.min,max:n.a.parameters.height.max,type:"number"},{dataKey:["created_at"],mountainsParameter:"x",min:-400,max:400,type:"date"},{dataKey:["pushed_at"],mountainsParameter:"z",min:-400,max:400,type:"date"}],o=[{dataKey:["commit","author","date"],mountainsParameter:"x",min:-400,max:400,type:"date"},{dataKey:["commit","message"],mountainsParameter:"height",min:n.a.parameters.height.min,max:n.a.parameters.height.max,type:"string"}]},function(t,e,r){"use strict";var n=r(190),i=r(191);r.d(e,"b",function(){return n.a}),r.d(e,"a",function(){return i.a})},function(t,e,r){"use strict";var n=r(199);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";e.a={REPOS:"repos",COMMITS:"commits"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(4),o=r(44),a=r(141),s=r(144),c=r(148),u=(r(151),r(182),r(30),r(184),r(187),r(200),r(203),r(206),r(213),r(217));r.n(u),new n.default({router:Object(o.a)(),el:"#app-main",store:i.a.get(i.b.Store),components:{navbar:a.a,footerbar:c.a,"experiment-container":s.a}})},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(73),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,r(13))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,a,s,c=1,u={},h=!1,l=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return u[c]=i,n(c),c++},f.clearImmediate=p}function p(t){delete u[t]}function d(t){if(h)setTimeout(d,0,t);else{var e=u[t];if(e){h=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{p(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(13),r(23))},function(t,e,r){"use strict";var n=r(11),i=(r.n(n),new n.Container);e.a=i},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(76),a=r(2),s=r(8),c=r(0),u=r(38),h=r(77),l=r(84),f=r(86),p=r(12),d=r(15),m=r(89),v=r(90),g=function(){function t(t){var e=t||{};if("object"!=typeof e)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=s.BindingScopeEnum.Transient;else if(e.defaultScope!==s.BindingScopeEnum.Singleton&&e.defaultScope!==s.BindingScopeEnum.Transient&&e.defaultScope!==s.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.guid=p.guid(),this._bindingDictionary=new v.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new u.MetadataReader}return t.merge=function(e,r){var n=new t,i=h.getBindingDictionary(n),o=h.getBindingDictionary(e),a=h.getBindingDictionary(r);function s(t,e){t.traverse(function(t,r){r.forEach(function(t){e.add(t.serviceIdentifier,t.clone())})})}return s(o,i),s(a,i),n},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=this._getContainerModuleHelpersFactory(),n=0,i=t;n<i.length;n++){var o=i[n],a=r(o.guid);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n(this,void 0,void 0,function(){var e,r,n,o,a;return i(this,function(i){switch(i.label){case 0:e=this._getContainerModuleHelpersFactory(),r=0,n=t,i.label=1;case 1:return r<n.length?(o=n[r],a=e(o.guid),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];e.forEach(function(e){var r,n=(r=e.guid,function(t){return t.moduleId===r});t._bindingDictionary.removeByCondition(n)})},t.prototype.bind=function(t){var e=this.options.defaultScope||s.BindingScopeEnum.Transient,r=new o.Binding(t,e);return this._bindingDictionary.add(t,r),new f.BindingToSyntax(r)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(a.CANNOT_UNBIND+" "+d.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new v.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,c.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,r){var n=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=h.createMockRequest(this,t,e,r);n=i.some(function(t){return t.constraint(o)})}return!n&&this.parent&&(n=this.parent.isBoundTagged(t,e,r)),n},t.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var r=new t(e);return r.parent=this,r},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(t,e){return e(t)},r)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,s.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,r){return this._get(!1,!1,s.TargetTypeEnum.Variable,t,e,r)},t.prototype.getNamed=function(t,e){return this.getTagged(t,c.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,s.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,r){return this._get(!1,!0,s.TargetTypeEnum.Variable,t,e,r)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,c.NAMED_TAG,e)},t.prototype.resolve=function(e){var r=new t;return r.bind(e).toSelf(),r.parent=this,r.get(e)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e};return function(r){return{bindFunction:(n=r,function(r){var i=t.bind.bind(t)(r);return e(i,n),i}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:function(r){return function(n){var i=t.rebind.bind(t)(n);return e(i,r),i}}(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var n}},t.prototype._get=function(t,e,r,n,i,o){var s=null,c={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:i,serviceIdentifier:n,targetType:r,value:o};if(this._middleware){if(void 0===(s=this._middleware(c))||null===s)throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else s=this._planAndResolve()(c);return s},t.prototype._planAndResolve=function(){var t=this;return function(e){var r=h.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return r=e.contextInterceptor(r),l.resolve(r)}},t}();e.Container=g},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8),i=r(12),o=function(){function t(t,e){this.guid=i.guid(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=n.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(78),i=r(2),o=r(8),a=r(0),s=r(39),c=r(15),u=r(79),h=r(6),l=r(80),f=r(81),p=r(83),d=r(41);function m(t){return t._bindingDictionary}function v(t,e,r,o,a){var s=g(r.container,a.serviceIdentifier),u=[];return s.length===n.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(a.serviceIdentifier).toSelf(),s=g(r.container,a.serviceIdentifier)),u=e?s:s.filter(function(t){var e=new p.Request(t.serviceIdentifier,r,o,t,a);return t.constraint(e)}),function(t,e,r,o){switch(e.length){case n.BindingCount.NoBindingsAvailable:if(r.isOptional())return e;var a=c.getServiceIdentifierAsString(t),s=i.NOT_REGISTERED;throw s+=c.listMetadataForTarget(a,r),s+=c.listRegisteredBindingsForServiceIdentifier(o,a,g),new Error(s);case n.BindingCount.OnlyOneBindingAvailable:if(!r.isArray())return e;case n.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return e;var a=c.getServiceIdentifierAsString(t),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=c.listRegisteredBindingsForServiceIdentifier(o,a,g),new Error(s)}}(a.serviceIdentifier,u,a,r.container),u}function g(t,e){var r=[],n=m(t);return n.hasKey(e)?r=n.get(e):null!==t.parent&&(r=g(t.parent,e)),r}e.getBindingDictionary=m,e.plan=function(t,e,r,n,m,g,y,_){void 0===_&&(_=!1);var b=new u.Context(e),x=function(t,e,r,n,i,o){var s=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,c=new h.Metadata(s,r),u=new d.Target(e,n,r,c);if(void 0!==i){var l=new h.Metadata(i,o);u.metadata.push(l)}return u}(r,n,m,"",g,y);try{return function t(e,r,n,a,s,c){var u,h;if(null===s){u=v(e,r,a,null,c),h=new p.Request(n,a,null,u,c);var d=new l.Plan(a,h);a.addPlan(d)}else u=v(e,r,a,s,c),h=s.addChildRequest(c.serviceIdentifier,u,c);u.forEach(function(r){var n=null;if(c.isArray())n=h.addChildRequest(r.serviceIdentifier,r,c);else{if(r.cache)return;n=h}if(r.type===o.BindingTypeEnum.Instance&&null!==r.implementationType){var s=f.getDependencies(e,r.implementationType);if(!a.container.options.skipBaseClassChecks){var u=f.getBaseClassDependencyCount(e,r.implementationType);if(s.length<u){var l=i.ARGUMENTS_LENGTH_MISMATCH(f.getFunctionName(r.implementationType));throw new Error(l)}}s.forEach(function(r){t(e,!1,r.serviceIdentifier,a,n,r)})}})}(t,_,m,b,null,x),b}catch(t){throw s.isStackOverflowExeption(t)&&b.plan&&c.circularDependencyToException(b.plan.rootRequest),t}},e.createMockRequest=function(t,e,r,n){var i=new d.Target(o.TargetTypeEnum.Variable,"",e,new h.Metadata(r,n)),a=new u.Context(t);return new p.Request(e,a,null,[],i)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12),i=function(){function t(t){this.guid=n.guid(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){this.parentContext=t,this.rootRequest=e}}();e.Plan=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40),i=r(2),o=r(8),a=r(0),s=r(15);e.getFunctionName=s.getFunctionName;var c=r(41);function u(t,e,r,n){var a=t.getConstructorMetadata(r),s=a.compilerGeneratedMetadata;if(void 0===s){var u=i.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(u)}var f=a.userGeneratedMetadata,p=Object.keys(f),d=function(t,e,r,n,i){for(var o=[],a=0;a<i;a++){var s=a,c=h(s,t,e,r,n);null!==c&&o.push(c)}return o}(n,e,s,f,0===r.length&&p.length>0?p.length:r.length),m=function t(e,r){var n=e.getPropertiesMetadata(r);var i=[];var a=Object.keys(n);for(var s=0,u=a;s<u.length;s++){var h=u[s],f=n[h],p=l(n[h]),d=p.targetName||h,m=p.inject||p.multiInject,v=new c.Target(o.TargetTypeEnum.ClassProperty,d,m);v.metadata=f,i.push(v)}var g=Object.getPrototypeOf(r.prototype).constructor;if(g!==Object){var y=t(e,g);i=i.concat(y)}return i}(t,r);return d.concat(m)}function h(t,e,r,a,s){var u=s[t.toString()]||[],h=l(u),f=!0!==h.unmanaged,p=a[t],d=h.inject||h.multiInject;if((p=d||p)instanceof n.LazyServiceIdentifer&&(p=p.unwrap()),f){var m=p===Object,v=p===Function;if(!e&&(m||v||void 0===p)){var g=i.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+r+".";throw new Error(g)}var y=new c.Target(o.TargetTypeEnum.ConstructorArgument,h.targetName,p);return y.metadata=u,y}return null}function l(t){var e={};return t.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[a.INJECT_TAG],multiInject:e[a.MULTI_INJECT_TAG],targetName:e[a.NAME_TAG],unmanaged:e[a.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return u(t,s.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,r){var n=Object.getPrototypeOf(r.prototype).constructor;if(n!==Object){var i=u(e,s.getFunctionName(n),n,!0),o=i.map(function(t){return t.metadata.filter(function(t){return t.key===a.UNMANAGED_TAG})}),c=[].concat.apply([],o).length,h=i.length-c;return h>0?h:t(e,n)}return 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,r=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},r)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12),i=function(){function t(t,e,r,i,o){this.guid=n.guid(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===r?new Map:null}return t.prototype.addChildRequest=function(e,r,n){var i=new t(e,this.parentContext,this,r,n);return this.childRequests.push(i),i},t}();e.Request=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(8),o=r(39),a=r(15),s=r(85),c=function(t,e,r){try{return r()}catch(r){throw o.isStackOverflowExeption(r)?new Error(n.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):r}},u=function(t){return function(e){e.parentContext.setCurrentRequest(e);var r=e.bindings,o=e.childRequests,h=e.target&&e.target.isArray(),l=!(e.parentRequest&&e.parentRequest.target&&e.target&&e.parentRequest.target.matchesArray(e.target.serviceIdentifier));if(h&&l)return o.map(function(e){return u(t)(e)});var f=null;if(!e.target.isOptional()||0!==r.length){var p=r[0],d=p.scope===i.BindingScopeEnum.Singleton,m=p.scope===i.BindingScopeEnum.Request;if(d&&p.activated)return p.cache;if(m&&null!==t&&t.has(p.guid))return t.get(p.guid);if(p.type===i.BindingTypeEnum.ConstantValue)f=p.cache;else if(p.type===i.BindingTypeEnum.Function)f=p.cache;else if(p.type===i.BindingTypeEnum.Constructor)f=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)f=c("toDynamicValue",p.serviceIdentifier,function(){return p.dynamicValue(e.parentContext)});else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)f=c("toFactory",p.serviceIdentifier,function(){return p.factory(e.parentContext)});else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)f=c("toProvider",p.serviceIdentifier,function(){return p.provider(e.parentContext)});else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var v=a.getServiceIdentifierAsString(e.serviceIdentifier);throw new Error(n.INVALID_BINDING_TYPE+" "+v)}f=s.resolveInstance(p.implementationType,o,u(t))}return"function"==typeof p.onActivation&&(f=p.onActivation(e.parentContext,f)),d&&(p.cache=f,p.activated=!0),m&&null!==t&&!t.has(p.guid)&&t.set(p.guid,f),f}}};e.resolve=function(t){return u(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(8),o=r(0);e.resolveInstance=function(t,e,r){var a,s,c=null;if(e.length>0){var u=e.filter(function(t){return null!==t.target&&t.target.type===i.TargetTypeEnum.ConstructorArgument}).map(r);s=u,c=function(t,e,r){var n=e.filter(function(t){return null!==t.target&&t.target.type===i.TargetTypeEnum.ClassProperty}),o=n.map(r);return n.forEach(function(e,r){var n;n=e.target.name.value();var i=o[r];t[n]=i}),t}(c=new((a=t).bind.apply(a,[void 0].concat(s))),e,r)}else c=new t;return function(t,e){if(Reflect.hasMetadata(o.POST_CONSTRUCT,t)){var r=Reflect.getMetadata(o.POST_CONSTRUCT,t);try{e[r.value]()}catch(e){throw new Error(n.POST_CONSTRUCT_ERROR(t.name,e.message))}}}(t,c),c}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(8),o=r(87),a=r(42),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+n.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(n.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,e},t.prototype.toAutoFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue(function(e){return e.container.get(t)})},t}();e.BindingToSyntax=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(88),i=r(24),o=r(25),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new n.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8),i=r(42),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=n.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=n.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=n.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.of=function(e,r){var n=new t;return n.bindings=e,n.middleware=r,n},t}();e.ContainerSnapshot=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error(n.NULL_ARGUMENT);if(null===e||void 0===e)throw new Error(n.NULL_ARGUMENT);var r=this._map.get(t);void 0!==r?(r.push(e),this._map.set(t,r)):this._map.set(t,[e])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(n.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(n.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(n.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(n.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach(function(r,n){var i=r.filter(function(e){return!t(e)});i.length>0?e._map.set(n,i):e._map.delete(n)})},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(n.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(t,r){t.forEach(function(t){return e.add(r,t.clone())})}),e},t.prototype.traverse=function(t){this._map.forEach(function(e,r){t(r,e)})},t}();e.Lookup=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12),i=function(){return function(t){this.guid=n.guid(),this.registry=t}}();e.ContainerModule=i;var o=function(){return function(t){this.guid=n.guid(),this.registry=t}}();e.AsyncContainerModule=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(0);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(n.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,e,t),t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(9);e.tagged=function(t,e){return function(r,o,a){var s=new n.Metadata(t,e);"number"==typeof a?i.tagParameter(r,o,a,s):i.tagProperty(r,o,s)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(6),o=r(9);e.named=function(t){return function(e,r,a){var s=new i.Metadata(n.NAMED_TAG,t);"number"==typeof a?o.tagParameter(e,r,a,s):o.tagProperty(e,r,s)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(6),o=r(9);e.optional=function(){return function(t,e,r){var a=new i.Metadata(n.OPTIONAL_TAG,!0);"number"==typeof r?o.tagParameter(t,e,r,a):o.tagProperty(t,e,a)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(6),o=r(9);e.unmanaged=function(){return function(t,e,r){var a=new i.Metadata(n.UNMANAGED_TAG,!0);o.tagParameter(t,e,r,a)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(6),o=r(9);e.multiInject=function(t){return function(e,r,a){var s=new i.Metadata(n.MULTI_INJECT_TAG,t);"number"==typeof a?o.tagParameter(e,r,a,s):o.tagProperty(e,r,s)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(6),o=r(9);e.targetName=function(t){return function(e,r,a){var s=new i.Metadata(n.NAME_TAG,t);o.tagParameter(e,r,a,s)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(0),o=r(6);e.postConstruct=function(){return function(t,e,r){var a=new o.Metadata(i.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(n.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,t.constructor)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=function(t){return function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(r){return t.bind(r).toService(e)})}}}},function(t,e,r){"use strict";
/**
  * vue-router v3.0.1
  * (c) 2017 Evan You
  * @license MIT
  */function n(t,e){0}function i(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var o={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,n=e.children,i=e.parent,o=e.data;o.routerView=!0;for(var a=i.$createElement,s=r.name,c=i.$route,u=i._routerViewCache||(i._routerViewCache={}),h=0,l=!1;i&&i._routerRoot!==i;)i.$vnode&&i.$vnode.data.routerView&&h++,i._inactive&&(l=!0),i=i.$parent;if(o.routerViewDepth=h,l)return a(u[s],o,n);var f=c.matched[h];if(!f)return u[s]=null,a();var p=u[s]=f.components[s];o.registerRouteInstance=function(t,e){var r=f.instances[s];(e&&r!==t||!e&&r===t)&&(f.instances[s]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){f.instances[s]=e.componentInstance};var d=o.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(c,f.props&&f.props[s]);if(d){d=o.props=function(t,e){for(var r in e)t[r]=e[r];return t}({},d);var m=o.attrs=o.attrs||{};for(var v in d)p.props&&v in p.props||(m[v]=d[v],delete d[v])}return a(p,o,n)}};var a=/[!'()*]/g,s=function(t){return"%"+t.charCodeAt(0).toString(16)},c=/%2C/g,u=function(t){return encodeURIComponent(t).replace(a,s).replace(c,",")},h=decodeURIComponent;function l(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),n=h(r.shift()),i=r.length>0?h(r.join("=")):null;void 0===e[n]?e[n]=i:Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]}),e):e}function f(t){var e=t?Object.keys(t).map(function(e){var r=t[e];if(void 0===r)return"";if(null===r)return u(e);if(Array.isArray(r)){var n=[];return r.forEach(function(t){void 0!==t&&(null===t?n.push(u(e)):n.push(u(e)+"="+u(t)))}),n.join("&")}return u(e)+"="+u(r)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function d(t,e,r,n){var i=n&&n.options.stringifyQuery,o=e.query||{};try{o=m(o)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:g(e,i),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return r&&(a.redirectedFrom=g(r,i)),Object.freeze(a)}function m(t){if(Array.isArray(t))return t.map(m);if(t&&"object"==typeof t){var e={};for(var r in t)e[r]=m(t[r]);return e}return t}var v=d(null,{path:"/"});function g(t,e){var r=t.path,n=t.query;void 0===n&&(n={});var i=t.hash;return void 0===i&&(i=""),(r||"/")+(e||f)(n)+i}function y(t,e){return e===v?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&t.hash===e.hash&&_(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&_(t.query,e.query)&&_(t.params,e.params)))}function _(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(function(r){var n=t[r],i=e[r];return"object"==typeof n&&"object"==typeof i?_(n,i):String(n)===String(i)})}var b,x=[String,Object],w=[String,Array],T={name:"router-link",props:{to:{type:x,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:w,default:"click"}},render:function(t){var e=this,r=this.$router,n=this.$route,i=r.resolve(this.to,n,this.append),o=i.location,a=i.route,s=i.href,c={},u=r.options.linkActiveClass,h=r.options.linkExactActiveClass,l=null==u?"router-link-active":u,f=null==h?"router-link-exact-active":h,m=null==this.activeClass?l:this.activeClass,v=null==this.exactActiveClass?f:this.exactActiveClass,g=o.path?d(null,o,null,r):a;c[v]=y(n,g),c[m]=this.exact?c[v]:function(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var r in e)if(!(r in t))return!1;return!0}(t.query,e.query)}(n,g);var _=function(t){S(t)&&(e.replace?r.replace(o):r.push(o))},x={click:S};Array.isArray(this.event)?this.event.forEach(function(t){x[t]=_}):x[this.event]=_;var w={class:c};if("a"===this.tag)w.on=x,w.attrs={href:s};else{var T=function t(e){if(e)for(var r,n=0;n<e.length;n++){if("a"===(r=e[n]).tag)return r;if(r.children&&(r=t(r.children)))return r}}(this.$slots.default);if(T){T.isStatic=!1;var M=b.util.extend;(T.data=M({},T.data)).on=x,(T.data.attrs=M({},T.data.attrs)).href=s}else w.on=x}return t(this.tag,w,this.$slots.default)}};function S(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function M(t){if(!M.installed||b!==t){M.installed=!0,b=t;var e=function(t){return void 0!==t},r=function(t,r){var n=t.$options._parentVnode;e(n)&&e(n=n.data)&&e(n=n.registerRouteInstance)&&n(t,r)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",o),t.component("router-link",T);var n=t.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var E="undefined"!=typeof window;function A(t,e,r){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var i=e.split("/");r&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function C(t){return t.replace(/\/\//g,"/")}var P=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},O=H,R=N,L=function(t,e){return B(N(t,e))},k=B,D=z,I=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function N(t,e){for(var r,n=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(r=I.exec(t));){var c=r[0],u=r[1],h=r.index;if(a+=t.slice(o,h),o=h+c.length,u)a+=u[1];else{var l=t[o],f=r[2],p=r[3],d=r[4],m=r[5],v=r[6],g=r[7];a&&(n.push(a),a="");var y=null!=f&&null!=l&&l!==f,_="+"===v||"*"===v,b="?"===v||"*"===v,x=r[2]||s,w=d||m;n.push({name:p||i++,prefix:f||"",delimiter:x,optional:b,repeat:_,partial:y,asterisk:!!g,pattern:w?V(w):g?".*":"[^"+U(x)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&n.push(a),n}function F(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function B(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var i="",o=r||{},a=(n||{}).pretty?F:encodeURIComponent,s=0;s<t.length;s++){var c=t[s];if("string"!=typeof c){var u,h=o[c.name];if(null==h){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(P(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var l=0;l<h.length;l++){if(u=a(h[l]),!e[s].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===l?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?encodeURI(h).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):a(h),!e[s].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');i+=c.prefix+u}}else i+=c}return i}}function U(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function V(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function j(t,e){return t.keys=e,t}function G(t){return t.sensitive?"":"i"}function z(t,e,r){P(e)||(r=e||r,e=[]);for(var n=(r=r||{}).strict,i=!1!==r.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=U(s);else{var c=U(s.prefix),u="(?:"+s.pattern+")";e.push(s),s.repeat&&(u+="(?:"+c+u+")*"),o+=u=s.optional?s.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var h=U(r.delimiter||"/"),l=o.slice(-h.length)===h;return n||(o=(l?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=i?"$":n&&l?"":"(?="+h+"|$)",j(new RegExp("^"+o,G(r)),e)}function H(t,e,r){return P(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return j(t,e)}(t,e):P(t)?function(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(H(t[i],e,r).source);return j(new RegExp("(?:"+n.join("|")+")",G(r)),e)}(t,e,r):function(t,e,r){return z(N(t,r),e,r)}(t,e,r)}O.parse=R,O.compile=L,O.tokensToFunction=k,O.tokensToRegExp=D;var W=Object.create(null);function X(t,e,r){try{return(W[t]||(W[t]=O.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function $(t,e,r,n){var i=e||[],o=r||Object.create(null),a=n||Object.create(null);t.forEach(function(t){!function t(e,r,n,i,o,a){var s=i.path;var c=i.name;0;var u=i.pathToRegexpOptions||{};var h=function(t,e,r){r||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return C(e.path+"/"+t)}(s,o,u.strict);"boolean"==typeof i.caseSensitive&&(u.sensitive=i.caseSensitive);var l={path:h,regex:function(t,e){var r=O(t,[],e);return r}(h,u),components:i.components||{default:i.component},instances:{},name:c,parent:o,matchAs:a,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach(function(i){var o=a?C(a+"/"+i.path):void 0;t(e,r,n,i,l,o)});if(void 0!==i.alias){var f=Array.isArray(i.alias)?i.alias:[i.alias];f.forEach(function(a){var s={path:a,children:i.children};t(e,r,n,s,o,l.path||"/")})}r[l.path]||(e.push(l.path),r[l.path]=l);c&&(n[c]||(n[c]=l))}(i,o,a,t)});for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:o,nameMap:a}}function q(t,e,r,n){var i="string"==typeof t?{path:t}:t;if(i.name||i._normalized)return i;if(!i.path&&i.params&&e){(i=Y({},i))._normalized=!0;var o=Y(Y({},e.params),i.params);if(e.name)i.name=e.name,i.params=o;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;i.path=X(a,o,e.path)}else 0;return i}var s=function(t){var e="",r="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var i=t.indexOf("?");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{path:t,query:r,hash:e}}(i.path||""),c=e&&e.path||"/",u=s.path?A(s.path,c,r||i.append):c,h=function(t,e,r){void 0===e&&(e={});var n,i=r||l;try{n=i(t||"")}catch(t){n={}}for(var o in e)n[o]=e[o];return n}(s.query,i.query,n&&n.options.parseQuery),f=i.hash||s.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:u,query:h,hash:f}}function Y(t,e){for(var r in e)t[r]=e[r];return t}function K(t,e){var r=$(t),n=r.pathList,i=r.pathMap,o=r.nameMap;function a(t,r,a){var s=q(t,r,!1,e),u=s.name;if(u){var h=o[u];if(!h)return c(null,s);var l=h.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof s.params&&(s.params={}),r&&"object"==typeof r.params)for(var f in r.params)!(f in s.params)&&l.indexOf(f)>-1&&(s.params[f]=r.params[f]);if(h)return s.path=X(h.path,s.params),c(h,s,a)}else if(s.path){s.params={};for(var p=0;p<n.length;p++){var d=n[p],m=i[d];if(Q(m.regex,s.path,s.params))return c(m,s,a)}}return c(null,s)}function s(t,r){var n=t.redirect,i="function"==typeof n?n(d(t,r,null,e)):n;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return c(null,r);var s=i,u=s.name,h=s.path,l=r.query,f=r.hash,p=r.params;if(l=s.hasOwnProperty("query")?s.query:l,f=s.hasOwnProperty("hash")?s.hash:f,p=s.hasOwnProperty("params")?s.params:p,u){o[u];return a({_normalized:!0,name:u,query:l,hash:f,params:p},void 0,r)}if(h){var m=function(t,e){return A(t,e.parent?e.parent.path:"/",!0)}(h,t);return a({_normalized:!0,path:X(m,p),query:l,hash:f},void 0,r)}return c(null,r)}function c(t,r,n){return t&&t.redirect?s(t,n||r):t&&t.matchAs?function(t,e,r){var n=a({_normalized:!0,path:X(r,e.params)});if(n){var i=n.matched,o=i[i.length-1];return e.params=n.params,c(o,e)}return c(null,e)}(0,r,t.matchAs):d(t,r,n,e)}return{match:a,addRoutes:function(t){$(t,n,i,o)}}}function Q(t,e,r){var n=e.match(t);if(!n)return!1;if(!r)return!0;for(var i=1,o=n.length;i<o;++i){var a=t.keys[i-1],s="string"==typeof n[i]?decodeURIComponent(n[i]):n[i];a&&(r[a.name]=s)}return!0}var Z=Object.create(null);function J(){window.history.replaceState({key:lt()},""),window.addEventListener("popstate",function(t){var e;et(),t.state&&t.state.key&&(e=t.state.key,ut=e)})}function tt(t,e,r,n){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var t=function(){var t=lt();if(t)return Z[t]}(),o=i(e,r,n?t:null);o&&("function"==typeof o.then?o.then(function(e){ot(e,t)}).catch(function(t){0}):ot(o,t))})}}function et(){var t=lt();t&&(Z[t]={x:window.pageXOffset,y:window.pageYOffset})}function rt(t){return it(t.x)||it(t.y)}function nt(t){return{x:it(t.x)?t.x:window.pageXOffset,y:it(t.y)?t.y:window.pageYOffset}}function it(t){return"number"==typeof t}function ot(t,e){var r,n="object"==typeof t;if(n&&"string"==typeof t.selector){var i=document.querySelector(t.selector);if(i){var o=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:n.left-r.left-e.x,y:n.top-r.top-e.y}}(i,o={x:it((r=o).x)?r.x:0,y:it(r.y)?r.y:0})}else rt(t)&&(e=nt(t))}else n&&rt(t)&&(e=nt(t));e&&window.scrollTo(e.x,e.y)}var at,st=E&&((-1===(at=window.navigator.userAgent).indexOf("Android 2.")&&-1===at.indexOf("Android 4.0")||-1===at.indexOf("Mobile Safari")||-1!==at.indexOf("Chrome")||-1!==at.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),ct=E&&window.performance&&window.performance.now?window.performance:Date,ut=ht();function ht(){return ct.now().toFixed(3)}function lt(){return ut}function ft(t,e){et();var r=window.history;try{e?r.replaceState({key:ut},"",t):(ut=ht(),r.pushState({key:ut},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function pt(t){ft(t,!0)}function dt(t,e,r){var n=function(i){i>=t.length?r():t[i]?e(t[i],function(){n(i+1)}):n(i+1)};n(0)}function mt(t){return function(e,r,n){var o=!1,a=0,s=null;vt(t,function(t,e,r,c){if("function"==typeof t&&void 0===t.cid){o=!0,a++;var u,h=_t(function(e){var i;((i=e).__esModule||yt&&"Module"===i[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:b.extend(e),r.components[c]=e,--a<=0&&n()}),l=_t(function(t){var e="Failed to resolve async component "+c+": "+t;s||(s=i(t)?t:new Error(e),n(s))});try{u=t(h,l)}catch(t){l(t)}if(u)if("function"==typeof u.then)u.then(h,l);else{var f=u.component;f&&"function"==typeof f.then&&f.then(h,l)}}}),o||n()}}function vt(t,e){return gt(t.map(function(t){return Object.keys(t.components).map(function(r){return e(t.components[r],t.instances[r],t,r)})}))}function gt(t){return Array.prototype.concat.apply([],t)}var yt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function _t(t){var e=!1;return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(!e)return e=!0,t.apply(this,r)}}var bt=function(t,e){this.router=t,this.base=function(t){if(!t)if(E){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=v,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function xt(t,e,r,n){var i=vt(t,function(t,n,i,o){var a=function(t,e){"function"!=typeof t&&(t=b.extend(t));return t.options[e]}(t,e);if(a)return Array.isArray(a)?a.map(function(t){return r(t,n,i,o)}):r(a,n,i,o)});return gt(n?i.reverse():i)}function wt(t,e){if(e)return function(){return t.apply(e,arguments)}}bt.prototype.listen=function(t){this.cb=t},bt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},bt.prototype.onError=function(t){this.errorCbs.push(t)},bt.prototype.transitionTo=function(t,e,r){var n=this,i=this.router.match(t,this.current);this.confirmTransition(i,function(){n.updateRoute(i),e&&e(i),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(t){t(i)}))},function(t){r&&r(t),t&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(e){e(t)}))})},bt.prototype.confirmTransition=function(t,e,r){var o=this,a=this.current,s=function(t){i(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):(n(),console.error(t))),r&&r(t)};if(y(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),s();var c=function(t,e){var r,n=Math.max(t.length,e.length);for(r=0;r<n&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}(this.current.matched,t.matched),u=c.updated,h=c.deactivated,l=c.activated,f=[].concat(function(t){return xt(t,"beforeRouteLeave",wt,!0)}(h),this.router.beforeHooks,function(t){return xt(t,"beforeRouteUpdate",wt)}(u),l.map(function(t){return t.beforeEnter}),mt(l));this.pending=t;var p=function(e,r){if(o.pending!==t)return s();try{e(t,a,function(t){!1===t||i(t)?(o.ensureURL(!0),s(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(s(),"object"==typeof t&&t.replace?o.replace(t):o.push(t)):r(t)})}catch(t){s(t)}};dt(f,p,function(){var r=[];dt(function(t,e,r){return xt(t,"beforeRouteEnter",function(t,n,i,o){return function(t,e,r,n,i){return function(o,a,s){return t(o,a,function(t){s(t),"function"==typeof t&&n.push(function(){!function t(e,r,n,i){r[n]?e(r[n]):i()&&setTimeout(function(){t(e,r,n,i)},16)}(t,e.instances,r,i)})})}}(t,i,o,e,r)})}(l,r,function(){return o.current===t}).concat(o.router.resolveHooks),p,function(){if(o.pending!==t)return s();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick(function(){r.forEach(function(t){t()})})})})},bt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(r){r&&r(t,e)})};var Tt=function(t){function e(e,r){var n=this;t.call(this,e,r);var i=e.options.scrollBehavior;i&&J();var o=St(this.base);window.addEventListener("popstate",function(t){var r=n.current,a=St(n.base);n.current===v&&a===o||n.transitionTo(a,function(t){i&&tt(e,t,r,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,r){var n=this,i=this.current;this.transitionTo(t,function(t){ft(C(n.base+t.fullPath)),tt(n.router,t,i,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this,i=this.current;this.transitionTo(t,function(t){pt(C(n.base+t.fullPath)),tt(n.router,t,i,!1),e&&e(t)},r)},e.prototype.ensureURL=function(t){if(St(this.base)!==this.current.fullPath){var e=C(this.base+this.current.fullPath);t?ft(e):pt(e)}},e.prototype.getCurrentLocation=function(){return St(this.base)},e}(bt);function St(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Mt=function(t){function e(e,r,n){t.call(this,e,r),n&&function(t){var e=St(t);if(!/^\/#/.test(e))return window.location.replace(C(t+"/#"+e)),!0}(this.base)||Et()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,r=st&&e;r&&J(),window.addEventListener(st?"popstate":"hashchange",function(){var e=t.current;Et()&&t.transitionTo(At(),function(n){r&&tt(t.router,n,e,!0),st||Ot(n.fullPath)})})},e.prototype.push=function(t,e,r){var n=this,i=this.current;this.transitionTo(t,function(t){Pt(t.fullPath),tt(n.router,t,i,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this,i=this.current;this.transitionTo(t,function(t){Ot(t.fullPath),tt(n.router,t,i,!1),e&&e(t)},r)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;At()!==e&&(t?Pt(e):Ot(e))},e.prototype.getCurrentLocation=function(){return At()},e}(bt);function Et(){var t=At();return"/"===t.charAt(0)||(Ot("/"+t),!1)}function At(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function Ct(t){var e=window.location.href,r=e.indexOf("#");return(r>=0?e.slice(0,r):e)+"#"+t}function Pt(t){st?ft(Ct(t)):window.location.hash=t}function Ot(t){st?pt(Ct(t)):window.location.replace(Ct(t))}var Rt=function(t){function e(e,r){t.call(this,e,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)},r)},e.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var n=this.stack[r];this.confirmTransition(n,function(){e.index=r,e.updateRoute(n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(bt),Lt=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=K(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!st&&!1!==t.fallback,this.fallback&&(e="hash"),E||(e="abstract"),this.mode=e,e){case"history":this.history=new Tt(this,t.base);break;case"hash":this.history=new Mt(this,t.base,this.fallback);break;case"abstract":this.history=new Rt(this,t.base);break;default:0}},kt={currentRoute:{configurable:!0}};function Dt(t,e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}Lt.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},kt.currentRoute.get=function(){return this.history&&this.history.current},Lt.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var r=this.history;if(r instanceof Tt)r.transitionTo(r.getCurrentLocation());else if(r instanceof Mt){var n=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),n,n)}r.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Lt.prototype.beforeEach=function(t){return Dt(this.beforeHooks,t)},Lt.prototype.beforeResolve=function(t){return Dt(this.resolveHooks,t)},Lt.prototype.afterEach=function(t){return Dt(this.afterHooks,t)},Lt.prototype.onReady=function(t,e){this.history.onReady(t,e)},Lt.prototype.onError=function(t){this.history.onError(t)},Lt.prototype.push=function(t,e,r){this.history.push(t,e,r)},Lt.prototype.replace=function(t,e,r){this.history.replace(t,e,r)},Lt.prototype.go=function(t){this.history.go(t)},Lt.prototype.back=function(){this.go(-1)},Lt.prototype.forward=function(){this.go(1)},Lt.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Lt.prototype.resolve=function(t,e,r){var n=q(t,e||this.history.current,r,this),i=this.match(n,e),o=i.redirectedFrom||i.fullPath;return{location:n,route:i,href:function(t,e,r){var n="hash"===r?"#"+e:e;return t?C(t+"/"+n):n}(this.history.base,o,this.mode),normalizedTo:n,resolved:i}},Lt.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==v&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Lt.prototype,kt),Lt.install=M,Lt.version="3.0.1",E&&window.Vue&&window.Vue.use(Lt),e.a=Lt},function(t,e,r){"use strict";var n=r(103);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n,i=r(3),o=r(14),a=r(28),s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.beforeCreate=function(){this.$store.commit(o.b.REDUCE_EXPERIMENT_CONTAINER)},e.prototype.startExperiment=function(){this.$router.push("/experiment")},e=c([Object(i.a)({template:r(110),computed:{canStart:function(){return this.titleIn}}})],e)}(a.a)},function(t,e,r){"use strict";
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */var n=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:r});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,e.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},i="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=("function"==typeof r?r():r)||{}},s={namespaced:{configurable:!0}};s.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){o(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&o(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&o(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&o(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,s);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,r){return t+((e=e.getChild(r)).namespaced?r+"/":"")},"")},c.prototype.update=function(t){!function t(e,r,n){0;r.update(n);if(n.modules)for(var i in n.modules){if(!r.getChild(i))return void 0;t(e.concat(i),r.getChild(i),n.modules[i])}}([],this.root,t)},c.prototype.register=function(t,e,r){var n=this;void 0===r&&(r=!0);var i=new a(e,r);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&o(e.modules,function(e,i){n.register(t.concat(i),e,r)})},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),r=t[t.length-1];e.getChild(r).runtime&&e.removeChild(r)};var u;var h=function(t){var e=this;void 0===t&&(t={}),!u&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var r=t.plugins;void 0===r&&(r=[]);var n=t.strict;void 0===n&&(n=!1);var o=t.state;void 0===o&&(o={}),"function"==typeof o&&(o=o()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u;var a=this,s=this.dispatch,h=this.commit;this.dispatch=function(t,e){return s.call(a,t,e)},this.commit=function(t,e,r){return h.call(a,t,e,r)},this.strict=n,m(this,o,[],this._modules.root),d(this,o),r.forEach(function(t){return t(e)}),u.config.devtools&&function(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){i.emit("vuex:mutation",t,e)}))}(this)},l={state:{configurable:!0}};function f(t,e){return e.indexOf(t)<0&&e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function p(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;m(t,r,[],t._modules.root,!0),d(t,r,e)}function d(t,e,r){var n=t._vm;t.getters={};var i={};o(t._wrappedGetters,function(e,r){i[r]=function(){return e(t)},Object.defineProperty(t.getters,r,{get:function(){return t._vm[r]},enumerable:!0})});var a=u.config.silent;u.config.silent=!0,t._vm=new u({data:{$$state:e},computed:i}),u.config.silent=a,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),n&&(r&&t._withCommit(function(){n._data.$$state=null}),u.nextTick(function(){return n.$destroy()}))}function m(t,e,r,n,i){var o=!r.length,a=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[a]=n),!o&&!i){var s=v(e,r.slice(0,-1)),c=r[r.length-1];t._withCommit(function(){u.set(s,c,n.state)})}var h=n.context=function(t,e,r){var n=""===e,i={dispatch:n?t.dispatch:function(r,n,i){var o=g(r,n,i),a=o.payload,s=o.options,c=o.type;return s&&s.root||(c=e+c),t.dispatch(c,a)},commit:n?t.commit:function(r,n,i){var o=g(r,n,i),a=o.payload,s=o.options,c=o.type;s&&s.root||(c=e+c),t.commit(c,a,s)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return function(t,e){var r={},n=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,n)===e){var o=i.slice(n);Object.defineProperty(r,o,{get:function(){return t.getters[i]},enumerable:!0})}}),r}(t,e)}},state:{get:function(){return v(t.state,r)}}}),i}(t,a,r);n.forEachMutation(function(e,r){!function(t,e,r,n){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){r.call(t,n.state,e)})}(t,a+r,e,h)}),n.forEachAction(function(e,r){var n=e.root?r:a+r,i=e.handler||e;!function(t,e,r,n){(t._actions[e]||(t._actions[e]=[])).push(function(e,i){var o,a=r.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e,i);return(o=a)&&"function"==typeof o.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}(t,n,i,h)}),n.forEachGetter(function(e,r){!function(t,e,r,n){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return r(n.state,n.getters,t.state,t.getters)}}(t,a+r,e,h)}),n.forEachChild(function(n,o){m(t,e,r.concat(o),n,i)})}function v(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function g(t,e,r){var n;return null!==(n=t)&&"object"==typeof n&&t.type&&(r=e,e=t,t=t.type),{type:t,payload:e,options:r}}function y(t){u&&t===u||n(u=t)}l.state.get=function(){return this._vm._data.$$state},l.state.set=function(t){0},h.prototype.commit=function(t,e,r){var n=this,i=g(t,e,r),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,n.state)}))},h.prototype.dispatch=function(t,e){var r=this,n=g(t,e),i=n.type,o=n.payload,a={type:i,payload:o},s=this._actions[i];if(s)return this._actionSubscribers.forEach(function(t){return t(a,r.state)}),s.length>1?Promise.all(s.map(function(t){return t(o)})):s[0](o)},h.prototype.subscribe=function(t){return f(t,this._subscribers)},h.prototype.subscribeAction=function(t){return f(t,this._actionSubscribers)},h.prototype.watch=function(t,e,r){var n=this;return this._watcherVM.$watch(function(){return t(n.state,n.getters)},e,r)},h.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},h.prototype.registerModule=function(t,e,r){void 0===r&&(r={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),m(this,this.state,t,this._modules.get(t),r.preserveState),d(this,this.state)},h.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=v(e.state,t.slice(0,-1));u.delete(r,t[t.length-1])}),p(this)},h.prototype.hotUpdate=function(t){this._modules.update(t),p(this,!0)},h.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(h.prototype,l);var _=S(function(t,e){var r={};return T(e).forEach(function(e){var n=e.key,i=e.val;r[n]=function(){var e=this.$store.state,r=this.$store.getters;if(t){var n=M(this.$store,"mapState",t);if(!n)return;e=n.context.state,r=n.context.getters}return"function"==typeof i?i.call(this,e,r):e[i]},r[n].vuex=!0}),r}),b=S(function(t,e){var r={};return T(e).forEach(function(e){var n=e.key,i=e.val;r[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=this.$store.commit;if(t){var o=M(this.$store,"mapMutations",t);if(!o)return;n=o.context.commit}return"function"==typeof i?i.apply(this,[n].concat(e)):n.apply(this.$store,[i].concat(e))}}),r}),x=S(function(t,e){var r={};return T(e).forEach(function(e){var n=e.key,i=e.val;i=t+i,r[n]=function(){if(!t||M(this.$store,"mapGetters",t))return this.$store.getters[i]},r[n].vuex=!0}),r}),w=S(function(t,e){var r={};return T(e).forEach(function(e){var n=e.key,i=e.val;r[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=this.$store.dispatch;if(t){var o=M(this.$store,"mapActions",t);if(!o)return;n=o.context.dispatch}return"function"==typeof i?i.apply(this,[n].concat(e)):n.apply(this.$store,[i].concat(e))}}),r});function T(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function S(t){return function(e,r){return"string"!=typeof e?(r=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,r)}}function M(t,e,r){return t._modulesNamespaceMap[r]}var E={Store:h,install:y,version:"3.0.1",mapState:_,mapMutations:b,mapGetters:x,mapActions:w,createNamespacedHelpers:function(t){return{mapState:_.bind(null,t),mapGetters:x.bind(null,t),mapMutations:b.bind(null,t),mapActions:w.bind(null,t)}}};e.a=E},function(t,e,r){"use strict";e.a={experimentContainer:{visibility:0,activated:!1,clickable:!0},currentRoute:{titleAnimatedIn:!1,footerVisible:!0},gitHubData:{startedLoading:null,finishedLoading:null,loadingError:null,startedMapping:null,finishedMapping:null,focusedData:{raw:null,mapped:null},usedData:{raw:null,mapped:null},repos:{mapped:null,raw:null},commits:{}},levels:{currentLevel:null}}},function(t,e,r){"use strict";e.a={}},function(t,e,r){"use strict";var n,i=r(16),o=r(45),a=r(4),s=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=((n={})[o.RETRIEVE_GITHUB_REPOS]=function(t,e){var r=t.commit,n=t.state,o=e.userName,s=e.perPage;return c(this,void 0,void 0,function(){var t,e,c,h,l;return u(this,function(u){switch(u.label){case 0:return n.gitHubData.repos.raw?[3,2]:(e=a.a.get(a.b.GithubApiClient),c=a.a.get(a.b.DataMapperService),h=a.a.get(a.b.RepositoryMapper),r(i.GITHUB_API_STARTED),[4,e.getUserRepos(o,s).catch(function(t){return r(i.GITHUB_API_LOADING_ERROR),Promise.reject(t)})]);case 1:return l=u.sent(),r(i.GITHUB_DATA_MAPPING_STARTED),t={mappedRepos:l?c.map(l.data,h):[],rawRepos:l?l.data:[]},r(i.GITHUB_DATA_MAPPING_FINISHED),r(i.GITHUB_API_FINISHED),[3,3];case 2:t={mappedRepos:n.gitHubData.repos.mapped,rawRepos:n.gitHubData.repos.raw},u.label=3;case 3:return r(i.STORE_GITHUB_REPOS,t),[2,Promise.resolve()]}})})},n[o.RETRIEVE_GITHUB_COMMITS_FOR_REPO]=function(t,e){var r=t.commit,n=t.state,o=e.repoName,h=e.userName,l=e.perPage;return c(this,void 0,void 0,function(){var t,e,c,f,p;return u(this,function(u){switch(u.label){case 0:return n.gitHubData.commits[o]?[3,2]:(e=a.a.get(a.b.GithubApiClient),c=a.a.get(a.b.DataMapperService),f=a.a.get(a.b.CommitsMapper),r(i.GITHUB_API_STARTED),[4,e.getCommits(o,h,l).catch(function(t){})]);case 1:return p=u.sent(),r(i.GITHUB_DATA_MAPPING_STARTED),t={mapped:p?c.map(p.data,f):[],raw:p?p.data:[]},r(i.GITHUB_DATA_MAPPING_FINISHED),r(i.GITHUB_API_FINISHED),[3,3];case 2:t={mapped:n.gitHubData.commits[o].mapped,raw:n.gitHubData.commits[o].raw},u.label=3;case 3:return r(i.STORE_COMMIT,s({},t,{repoName:o})),[2,Promise.resolve()]}})})},n);e.a=h},function(t,e,r){"use strict";var n,i=r(16),o=((n={})[i.CONTENT_CLICKABLE]=function(t){t.experimentContainer.clickable=!0},n[i.CONTENT_NOT_CLICKABLE]=function(t){t.experimentContainer.clickable=!1},n[i.EXPAND_EXPERIMENT_CONTAINER]=function(t){t.experimentContainer.visibility=1},n[i.REDUCE_EXPERIMENT_CONTAINER]=function(t){t.experimentContainer.visibility=0},n[i.ACTIVATE_EXPERIMENT_CONTAINER]=function(t){t.experimentContainer.activated=!0},n[i.DEACTIVATE_EXPERIMENT_CONTAINER]=function(t){t.experimentContainer.activated=!1},n[i.CURRENT_TITLE_VISIBLE]=function(t){t.currentRoute.titleAnimatedIn=!0},n[i.CURRENT_TITLE_INVISIBLE]=function(t){t.currentRoute.titleAnimatedIn=!1},n[i.FOOTER_VISIBLE]=function(t,e){t.currentRoute.footerVisible=e},n[i.GITHUB_API_STARTED]=function(t){t.gitHubData.startedLoading=!0,t.gitHubData.finishedLoading=!1},n[i.GITHUB_API_FINISHED]=function(t){t.gitHubData.startedLoading=!1,t.gitHubData.finishedLoading=!0,t.gitHubData.loadingError=!1},n[i.GITHUB_API_LOADING_ERROR]=function(t){t.gitHubData.loadingError=!0},n[i.GITHUB_DATA_MAPPING_STARTED]=function(t){t.gitHubData.startedMapping=!0,t.gitHubData.finishedMapping=!1},n[i.GITHUB_DATA_MAPPING_FINISHED]=function(t){t.gitHubData.startedMapping=!1,t.gitHubData.finishedMapping=!0},n[i.STORE_GITHUB_REPOS]=function(t,e){t.gitHubData.repos.mapped=e.mappedRepos,t.gitHubData.repos.raw=e.rawRepos},n[i.STORE_COMMIT]=function(t,e){t.gitHubData.commits[e.repoName]={mapped:e.mapped,raw:e.raw}},n[i.FOCUS_REPO]=function(t,e){t.gitHubData.focusedData.raw=e.raw,t.gitHubData.focusedData.mapped=e.mapped},n[i.UNFOCUS_REPO]=function(t){t.gitHubData.focusedData.raw=null,t.gitHubData.focusedData.mapped=null,t.gitHubData.focusedData.event=null},n[i.UPDATE_LEVEL]=function(t,e){var r=e.level;t.levels.currentLevel=r},n[i.USED_DATA]=function(t,e){t.gitHubData.usedData.raw=e.raw,t.gitHubData.usedData.mapped=e.mapped},n);e.a=o},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n,i=r(3),o=r(14),a=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.beforeCreate=function(){this.$store.commit(o.b.REDUCE_EXPERIMENT_CONTAINER),this.$store.commit(o.b.FOOTER_VISIBLE,!0)},e=s([Object(i.a)({computed:{titleIn:function(){return this.$store.state.currentRoute.titleAnimatedIn}}})],e)}(i.d)},function(t,e){t.exports='<div class="home">\r\n    <div class="home__content">\r\n        <h1 class="home__title title"\r\n            ref="title"\r\n            v-title-animation="{tween: true}">\r\n            I am Thomas Rutzer  and this a project I call Mntns.\r\n\r\n        </h1>\r\n\r\n\r\n        <div class="margin-top--m">\r\n            <p class="home__copy revealing-content margin--none"\r\n               :class="{\'revealing-content--reveal\': canStart}">\r\n                It is an experimental way to visualize my\r\n                Github account data and activity.\r\n            </p>\r\n\r\n            <p class="primary-button revealing-content margin--none"\r\n               :class="{\'revealing-content--reveal\': canStart}"\r\n               @click="startExperiment()">explore</p>\r\n        </div>\r\n    </div>\r\n</div>'},function(t,e,r){"use strict";var n=r(112);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n,i=r(3),o=r(28),a=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e=s([Object(i.a)({template:r(113)})],e)}(o.a)},function(t,e){t.exports='<div class="contact">\r\n    <div class="contact__content">\r\n        <h1 class="contact__title title"\r\n            v-title-animation="{tween: true}">\r\n            Hello you, dont be a  stranger anymore\r\n        </h1>\r\n\r\n        <div class="margin-top--m revealing-content revealing-content--medium-duration"\r\n             :class="{\'revealing-content--reveal\' : titleIn}">\r\n            <div class="contact-option">\r\n                <span class="contact-option__label">mail</span>\r\n                <a class="contact-option__value bare-link" href="mailto:thomas@rutzer.de" title="email me">\r\n                    thomas@rutzer.de\r\n                </a>\r\n            </div>\r\n\r\n            <div class="contact-option margin-top--s">\r\n                <span class="contact-option__label">social</span>\r\n                <div class="contact-option__value ">\r\n                    <ul class="contact__social-list inline-list bare-list">\r\n                        <li>\r\n                            <a title="me on github" href="https://github.com/thomasrutzer">\r\n                                <svg class="contact-social-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 64 64">\r\n                                    <g>\r\n                                        <path d="M31.84,7.56a24.65,24.65,0,0,0-7.79,48c1.23.23,1.68-.53,1.68-1.19s0-2.13,0-4.19c-6.86,1.49-8.3-3.3-8.3-3.3-1.12-2.85-2.74-3.61-2.74-3.61-2.24-1.53.17-1.5.17-1.5a5.19,5.19,0,0,1,3.77,2.54c2.2,3.77,5.77,2.68,7.18,2a5.3,5.3,0,0,1,1.56-3.3c-5.47-.62-11.22-2.73-11.22-12.18a9.54,9.54,0,0,1,2.53-6.61,8.88,8.88,0,0,1,.24-6.52s2.07-.67,6.78,2.52a23.35,23.35,0,0,1,12.34,0c4.71-3.19,6.78-2.52,6.78-2.52A8.88,8.88,0,0,1,45,24.31a9.49,9.49,0,0,1,2.53,6.61c0,9.47-5.76,11.56-11.25,12.17A5.85,5.85,0,0,1,38,47.65c0,3.3,0,6,0,6.76s.45,1.43,1.7,1.19a24.66,24.66,0,0,0-7.81-48Z">\r\n\r\n                                        </path>\r\n                                    </g>\r\n                                </svg>\r\n                            </a>\r\n                        </li>\r\n                        <li>\r\n                            <a title="me on twitter" href="https://twitter.com/thomasrutzer">\r\n                                <svg class="contact-social-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 64 64">\r\n                                    <g>\r\n                                        <path d="M30.92,7.4A24.62,24.62,0,1,0,55.53,32,24.61,24.61,0,0,0,30.92,7.4Zm12.36,20c0,.25,0,.51,0,.76C43.3,36,37.33,45,26.41,45a16.8,16.8,0,0,1-9.09-2.67,10.9,10.9,0,0,0,1.41.08,11.85,11.85,0,0,0,7.37-2.54,5.91,5.91,0,0,1-5.54-4.12,5.84,5.84,0,0,0,2.68-.1,5.93,5.93,0,0,1-4.76-5.82v-.07a5.94,5.94,0,0,0,2.69.74,5.94,5.94,0,0,1-1.84-7.92,16.86,16.86,0,0,0,12.23,6.2,6.1,6.1,0,0,1-.15-1.36,5.93,5.93,0,0,1,10.26-4.05,12,12,0,0,0,3.77-1.44,6,6,0,0,1-2.61,3.28,11.8,11.8,0,0,0,3.41-.94A12.21,12.21,0,0,1,43.28,27.35Z">\r\n\r\n                                        </path>\r\n                                    </g>\r\n                                </svg>\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(t,e,r){"use strict";var n=r(115);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var n,i=r(3),o=r(28),a=r(30),s=r(14),c=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isStarted=!1,e.currentGithubUser=a.a.gitHubUsername,e}return c(e,t),e.prototype.beforeCreate=function(){this.$store.commit(s.b.EXPAND_EXPERIMENT_CONTAINER),this.$store.commit(s.b.DEACTIVATE_EXPERIMENT_CONTAINER)},e.prototype.beforeDestroy=function(){this.$store.commit(s.b.DEACTIVATE_EXPERIMENT_CONTAINER),this.$store.commit(s.b.UNFOCUS_REPO)},e.prototype.startExperiment=function(){this.isStarted=!0,this.$store.commit(s.b.ACTIVATE_EXPERIMENT_CONTAINER),this.$store.commit(s.b.FOOTER_VISIBLE,!1)},e=u([Object(i.a)({template:r(137),computed:{canStart:function(){return!this.$store.state.gitHubData.loadingError&&this.$store.state.gitHubData.repos.mapped&&this.titleIn},cannotStart:function(){return this.$store.state.gitHubData.loadingError&&this.titleIn}}})],e)}(o.a)},function(t,e,r){"use strict";var n=r(11),i=(r.n(n),r(27)),o=(r.n(i),r(117)),a=r.n(o),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u="https://api.github.com",h=function(){function t(){this.httpClient=a.a.create(),this.httpClient.interceptors.response.use(function(t){return t.config.url.includes("commit")&&t.data.map(function(t){t.id=t.sha}),t})}return t.prototype.getUserRepos=function(t,e){return void 0===e&&(e=0),this.httpClient.get(u+"/users/"+t+"/repos?per_page="+e)},t.prototype.getCommits=function(t,e,r){return void 0===r&&(r=0),this.httpClient.get(u+"/repos/"+e+"/"+t+"/commits?per_page="+r)},t=s([Object(n.injectable)(),c("design:paramtypes",[])],t)}();e.a=h},function(t,e,r){t.exports=r(118)},function(t,e,r){"use strict";var n=r(5),i=r(46),o=r(120),a=r(31);function s(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var c=s(a);c.Axios=o,c.create=function(t){return s(n.merge(a,t))},c.Cancel=r(50),c.CancelToken=r(134),c.isCancel=r(49),c.all=function(t){return Promise.all(t)},c.spread=r(135),t.exports=c,t.exports.default=c},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(31),i=r(5),o=r(129),a=r(130),s=r(132),c=r(133);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(n,this.defaults,{method:"get"},t)).method=t.method.toLowerCase(),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url));var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=u},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(48);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";var n=r(5);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var a=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)&&(e+="[]"),n.isArray(t)||(t=[t]),n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t){var e,r,i,o={};return t?(n.forEach(t.split("\n"),function(t){i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e&&(o[e]=o[e]?o[e]+", "+r:r)}),o):o}},function(t,e,r){"use strict";var n=r(5);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,o=String(t),a="",s=0,c=n;o.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&e>>8-s%1*8)){if((r=o.charCodeAt(s+=.75))>255)throw new i;e=e<<8|r}return a}},function(t,e,r){"use strict";var n=r(5);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(5);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,r){"use strict";var n=r(5),i=r(131),o=r(49),a=r(31);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return s(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(50);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";e.a={gitHubUsername:"thomasrutzer"}},function(t,e){t.exports='<div class="experiment-start">\r\n    <div class="experiment-start__content">\r\n        <div v-show="!isStarted">\r\n            <h1 class="experiment-start__title"\r\n                v-title-animation="{tween: true}">\r\n                Experiment is getting ready for github user @{{ currentGithubUser }}\r\n            </h1>\r\n\r\n            <div class="margin-top--m">\r\n                <p class="primary-button revealing-content margin--none"\r\n                   :class="{\'revealing-content--reveal\': canStart}"\r\n                   @click="startExperiment()">start</p>\r\n\r\n                <p v-show="cannotStart"\r\n                      class="revealing-content revealing-content--reveal margin--none">\r\n                ...but unfortunately, theres a network error right now.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(t,e,r){"use strict";r(32);var n=r(139);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var n,i=r(3),o=r(4),a=r(14),s=r(32),c=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},f=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=[],e.focusedData=null,e.detailedData=null,e.isLink=!0,e}return c(e,t),e.prototype.watchHandler=function(){this.dataWatcher()},e.prototype.dataWatcher=function(){this.$store.state.currentRoute.titleAnimatedIn&&(this.data=this.$store.state.gitHubData.usedData.mapped)},e.prototype.beforeDestroy=function(){this.$store.commit(a.b.DEACTIVATE_EXPERIMENT_CONTAINER),this.$store.commit(a.b.UNFOCUS_REPO)},e.prototype.mounted=function(){return l(this,void 0,void 0,function(){var t=this;return f(this,function(e){switch(e.label){case 0:return this.$store.commit(a.b.DEACTIVATE_EXPERIMENT_CONTAINER),this.service=o.a.get(o.b.FocusDataServiceFactory)(this.mId),this.levelsService=o.a.get(o.b.LevelsServiceFactory)(),[4,this.levelsService.start()];case 1:return e.sent(),this.mediaQueryService=o.a.get(o.b.MediaQueryService),this.mediaQueryService.on(o.a.get(o.b.Breakpoints).m,function(e){t.isLink=e.matches}),[2]}})})},e.prototype.back=function(){this.clearDetailedData(),this.levelsService.previousStep()},e.prototype.forwards=function(){this.clearDetailedData(),this.levelsService.nextStep()},e.prototype.clearDetailedData=function(){this.detailedData=null,document.removeEventListener("keydown",this.clearKeyHandler,!1)},e.prototype.updateDetailedData=function(){switch(this.detailedData={title:"",url:""},document.addEventListener("keydown",this.clearKeyHandler,!1),this.$store.state.levels.currentLevel.index){case 1:this.detailedData.title=this.$store.state.gitHubData.focusedData.raw.name,this.detailedData.url="https://github.com/thomasrutzer/"+this.$store.state.gitHubData.focusedData.raw.name;break;case 2:this.detailedData.title=this.$store.state.gitHubData.focusedData.raw.commit.message,this.detailedData.url="https://github.com/thomasrutzer/mntns/commit/"+this.$store.state.gitHubData.focusedData.raw.sha}},e.prototype.clearFocusedData=function(){this.focusedData=null},e.prototype.clearKeyHandler=function(t){27===t.keyCode&&this.clearDetailedData()},e.prototype.updateFocusedData=function(t){switch(this.focusedData={},this.focusedData.outside=t.x>window.innerWidth/2,this.focusedData.x=t.x,this.focusedData.y=t.y,this.$store.state.levels.currentLevel.index){case 1:this.focusedData.message=this.$store.state.gitHubData.focusedData.raw.name;break;case 2:this.focusedData.message=this.$store.state.gitHubData.focusedData.raw.commit.message}},e.prototype.expandMnts=function(){this.isLink&&this.$router.push("/experiment")},e.prototype.onIntersection=function(t){this.isActivated&&(this.detailedData&&t.event.type===s.a.eventToUpdateLevel?this.clearDetailedData():this.detailedData||(-1===s.a.excludedFocusableObjectIds.indexOf(t.object.name)?(this.service.focusData(t.object.name),t.event.type===s.a.eventToUpdateLevel?(this.clearFocusedData(),this.updateDetailedData()):(this.clearDetailedData(),"mousemove"===t.event.type&&this.updateFocusedData({x:t.event.x,y:t.event.y}))):this.clearFocusedData()))},u([Object(i.c)({default:"mntns-scene1"}),h("design:type",String)],e.prototype,"mId",void 0),u([Object(i.e)("$store.state.currentRoute.titleAnimatedIn"),h("design:type",Function),h("design:paramtypes",[]),h("design:returntype",void 0)],e.prototype,"watchHandler",null),u([Object(i.e)("$store.state.gitHubData.usedData.mapped"),h("design:type",Function),h("design:paramtypes",[]),h("design:returntype",void 0)],e.prototype,"dataWatcher",null),e=u([Object(i.a)({template:r(140),computed:{level:function(){return this.$store.state.levels.currentLevel},isActivated:function(){return this.$store.state.experimentContainer.activated&&this.service.setCameraToStart(),this.$store.state.experimentContainer.activated}}})],e)}(i.d)},function(t,e){t.exports='<div class="mnts"\r\n     @click="expandMnts()">\r\n\r\n    <div v-if="isActivated"\r\n         class="mnts__header revealing-content revealing-content--reveal">\r\n        <level-progress></level-progress>\r\n    </div>\r\n\r\n    <div class="mnts__canvas">\r\n        <generator :generator-id="mId"\r\n                   @intersection="onIntersection($event)"\r\n                   :data="data"></generator>\r\n    </div>\r\n\r\n    <div class="mnts__legend"\r\n         v-show="isActivated">\r\n        <landscape-legend></landscape-legend>\r\n    </div>\r\n\r\n    <transition name="mntns-label--show-transition">\r\n        <div class="mnts__label mntns-label mntns-label--large-width"\r\n             :class="{\'mntns__label--outside\': focusedData.outside}"\r\n             :style="{left: focusedData.x + \'px\', top: focusedData.y + \'px\'}"\r\n             v-if="focusedData">\r\n\r\n            <svg class="mntns-label__icon"\r\n                 role="img">\r\n                <use xlink:href="#icon-location"></use>\r\n            </svg>\r\n\r\n            <div class="mntns-label__content">\r\n                <p class="text-color-highlight margin-vertical--none small-text-appearance">\r\n                    {{level.title}}\r\n                </p>\r\n                <span>\r\n                    {{ focusedData.message }}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </transition>\r\n\r\n    <transition name="mnts__detailed-data--show-transition">\r\n        <div v-if="isActivated && detailedData"\r\n             class="focus-data-details-data mnts__detailed-data">\r\n\r\n            <div class="focus-data-details-data__content"\r\n                 v-mousemove-follow="{maxOffsetY: -32, maxOffsetX: 32, transitionDuration: 1700}">\r\n                <a href="#"\r\n                   class="focus-data-details-data__close small-text-appearance text-color-highlight"\r\n                   @click.prevent="clearDetailedData()">\r\n                    Close(esc)\r\n                </a>\r\n\r\n                <div class="focus-data-details-data__label mntns-label mntns-label--spacingless mntns-label--large-width">\r\n\r\n                    <svg class="focus-data-details-data__icon mntns-label__icon mntns-label__icon--inverted"\r\n                         role="img">\r\n                        <use xlink:href="#icon-location"></use>\r\n                    </svg>\r\n\r\n                    <div class="mntns-label__content">\r\n                        <p class="margin-vertical--none small-text-appearance">\r\n                            {{level.title}}\r\n                        </p>\r\n                        <span>\r\n                        {{ detailedData.title }}\r\n                    </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="margin-top--m">\r\n                    <a class="primary-button"\r\n                       alt="view on Github"\r\n                       :href="detailedData.url">\r\n                        view on Github\r\n                    </a>\r\n                </div>\r\n\r\n                <div v-if="level.index == 1">\r\n                    <div class="margin-top--s">\r\n                        <a href="#"\r\n                           alt="dig deeper!"\r\n                           class="primary-button"\r\n                           @click.prevent="forwards()">\r\n                            Dig deeper\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n\r\n                <div v-if="level.index == 2">\r\n                    <a href="#" alt="Back to overview"\r\n                       class="primary-button margin-top--m"\r\n                       @click.prevent="back()">\r\n                        Back to overview\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </transition>\r\n\r\n</div>\r\n'},function(t,e,r){"use strict";var n=r(142);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n,i=r(3),o=r(29),a=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHome=!1,e.links=[new o.a("Home","/")],e}return a(e,t),e.prototype.pathChanged=function(){this.isHome="/"===this.$route.path},e.prototype.created=function(){this.isHome="/"===this.$route.path},e.prototype.goHome=function(){this.$router.push("/")},s([Object(i.e)("$route.path"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],e.prototype,"pathChanged",null),e=s([Object(i.a)({template:r(143)})],e)}(i.d)},function(t,e){t.exports='<nav class="navbar">\r\n    <ul class="navbar__list bare-list revealing-content revealing-content--reveal">\r\n        <li v-for="link in links"\r\n            :class="{\'navbar__list-item--active\' : $route.path == link.path}">\r\n            <router-link class="router-link bare-link" :to="link.path" exact>{{link.name}}</router-link>\r\n        </li>\r\n    </ul>\r\n    <div class="navbar__home"\r\n         @click="goHome"\r\n         v-show="!isHome">\r\n        <svg version="1.1"\r\n             xmlns="http://www.w3.org/2000/svg"\r\n             xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n            viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">\r\n            <g>\r\n                <path d="M8.1,32.5h49.3h0.5v-1h-0.5H8.1l4.6-4.6l0.4-0.4l-0.7-0.7L12,26.1l-5.5,5.5L6.1,32l0.6,0.6L7,32.9l5,5l0.4,0.4\r\n                l0.7-0.7l-0.4-0.4L8.1,32.5z"/>\r\n            </g>\r\n        </svg>\r\n    </div>\r\n\r\n</nav>'},function(t,e,r){"use strict";var n=r(145);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n,i=r(3),o=r(146),a=(r.n(o),this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMouseover=!1,e.transition=!0,e.expandTransition=!1,e}return a(e,t),e.prototype.created=function(){var t=this;this.$router.beforeEach(function(e,r,n){t.transition="/"===r.path||"/"===e.path,t.expandTransition="/experiment"===r.path||"/experiment"===e.path,n()})},e.prototype.onMouseover=function(){this.isMouseover=!0},e.prototype.onMouseout=function(){this.isMouseover=!1},e=s([Object(i.a)({template:r(147),computed:{isExpanded:function(){return 1===this.$store.state.experimentContainer.visibility},isActive:function(){return this.$store.state.experimentContainer.activated}}})],e)}(i.d)},function(t,e){},function(t,e){t.exports='<div class="experiment-container"\r\n     :class="{\'experiment-container--active\': isActive,\r\n              \'experiment-container--expanded\': isExpanded,\r\n              \'experiment-container--transition\': expandTransition}"\r\n\r\n     @mouseover="onMouseover"\r\n     @mouseout="onMouseout"\r\n>\r\n\r\n    <transition :name="transition ? \'experiment-container--transition\' : null">\r\n        <router-view name="experiment-container"></router-view>\r\n    </transition>\r\n\r\n    <backdrop :activated="isMouseover"\r\n              v-if="!isExpanded"\r\n              class="experiment-container__backdrop"\r\n              :class="{\'experiment-container__backdrop--visible\': !isExpanded}">\r\n    </backdrop>\r\n</div>'},function(t,e,r){"use strict";var n=r(149);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n,i=r(3),o=r(29),a=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.links=[new o.a("Kontakt","contact")],e}return a(e,t),e=s([Object(i.a)({template:r(150),computed:{isVisible:function(){return this.$store.state.currentRoute.footerVisible}}})],e)}(i.d)},function(t,e){t.exports='<footer v-if="isVisible"\r\n        class="footerbar">\r\n    <ul class="footerbar__list bare-list">\r\n        <li v-for="link in links"\r\n            class="footerbar__list-item  revealing-content revealing-content--reveal">\r\n            <router-link class="router-link bare-link" :to="link.path">{{link.name}}</router-link>\r\n        </li>\r\n    </ul>\r\n</footer>'},function(t,e,r){"use strict";var n=r(51),i=r(4),o=r(181);i.a.bind(i.b.FocusDataService).to(o.a),i.a.bind(i.b.FocusDataServiceFactory).toFactory(function(t){return function(t){var e=n.a.getById(t),r=i.a.get(i.b.Store);return new o.a(r,e)}})},function(t,e,r){"use strict";e.a=function(t,e){var r=Math.max(t,e),n=r===t?e:t;return n+Math.random()*(r-n)}},function(t,e,r){"use strict";e.a=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},function(t,e,r){"use strict";e.a=function(t,e,r){if(t>=e&&t<=r)return t;if(t<e)return e;if(t>r)return r}},function(t,e,r){"use strict";var n=r(156);e.a=n.a},function(t,e,r){"use strict";var n=r(157),i=r(158),o=function(){function t(){}return t.create=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=null;switch(t){case"global":o=i.a.create(e[0],e[1],e[2]);break;case"directional":o=n.a.create(e[0],e[1],e[2])}return o},t}();e.a=o},function(t,e,r){"use strict";var n=r(10),i=(r.n(n),function(){function t(t,e,r){void 0===r&&(r={}),this.lightElement=new n.DirectionalLight(t,e),this.lightElement.castShadow=!!r.castShadow&&r.castShadow}return t.create=function(e,r,n){return new t(e,r,n)},t}());e.a=i},function(t,e,r){"use strict";var n=r(10),i=(r.n(n),function(){function t(t,e,r){this.lightElement=new n.HemisphereLight(t,e,r)}return t.create=function(e,r,n){return new t(e,r,n)},t}());e.a=i},function(t,e,r){"use strict";r(54);var n=r(165);r(63),r(21);r.d(e,"a",function(){return n.a})},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";r.d(e,"a",function(){return f});r(7);var n=r(162),i=r(56),o=r(57),a=r(58),s=r(59),c=r(34),u=r(55),h=r(60),l=r(61);
/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
const f=n.a;f._autoActivated=[c.a,u.a,i.a,o.a,h.a,a.a,s.a,l.a,l.d,l.b,l.g,l.i,l.j,l.c,l.e,l.h,l.f]},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(7);
/*!
 * VERSION: 1.20.5
 * DATE: 2018-05-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/n.e._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(){var t=function(t){var e,r=[],n=t.length;for(e=0;e!==n;r.push(t[e++]));return r},e=function(t,e,r){var n,i,o=t.cycle;for(n in o)i=o[n],t[n]="function"==typeof i?i(r,e[r]):i[r%i.length];delete t.cycle},r=function(t,e,i){n.f.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=r.prototype.render},i=n.f._internals,o=i.isSelector,a=i.isArray,s=r.prototype=n.f.to({},.1,{}),c=[];r.version="1.20.5",s.constructor=r,s.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=n.f.killTweensOf,r.getTweensOf=n.f.getTweensOf,r.lagSmoothing=n.f.lagSmoothing,r.ticker=n.f.ticker,r.render=n.f.render,s.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),n.f.prototype.invalidate.call(this)},s.updateTo=function(t,e){var r,i=this.ratio,o=this.vars.immediateRender||t.immediateRender;for(r in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[r]=t[r];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n.f._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,c=1/(1-i),u=this._firstPT;u;)s=u.s+u.c,u.c*=c,u.s=s-u.c,u=u._next;return this},s.render=function(t,e,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var o,a,s,c,u,h,l,f,p,d=this._dirty?this.totalDuration():this._totalDuration,m=this._time,v=this._totalTime,g=this._cycle,y=this._duration,_=this._rawPrevTime;if(t>=d-1e-7&&t>=0?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(o=!0,a="onComplete",r=r||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(_<0||t<=0&&t>=-1e-7||1e-10===_&&"isPause"!==this.data)&&_!==t&&(r=!0,_>1e-10&&(a="onReverseComplete")),this._rawPrevTime=f=!e||t||_===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===y&&_>0)&&(a="onReverseComplete",o=this._reversed),t<0&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||r)&&(_>=0&&(r=!0),this._rawPrevTime=f=!e||t||_===t?t:1e-10)),this._initted||(r=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(c=y+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=y-this._time,(p=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==p||this._initted?this._yoyoEase=p=!0===p?this._ease:p instanceof n.b?p:n.b.map[p]:(p=this.vars.ease,this._yoyoEase=p=p?p instanceof n.b?p:"function"==typeof p?new n.b(p,this.vars.easeParams):n.b.map[p]||n.f.defaultEase:n.f.defaultEase)),this.ratio=p?1-p.getRatio((y-this._time)/y):0)),this._time>y?this._time=y:this._time<0&&(this._time=0)),this._easeType&&!p?(u=this._time/y,h=this._easeType,l=this._easePower,(1===h||3===h&&u>=.5)&&(u=1-u),3===h&&(u*=2),1===l?u*=u:2===l?u*=u*u:3===l?u*=u*u*u:4===l&&(u*=u*u*u*u),1===h?this.ratio=1-u:2===h?this.ratio=u:this._time/y<.5?this.ratio=u/2:this.ratio=1-u/2):p||(this.ratio=this._ease.getRatio(this._time/y))),m!==this._time||r||g!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=v,this._rawPrevTime=_,this._cycle=g,i.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||o||p?o&&this._ease._calcEnd&&!p&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/y)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&t>=0&&(this._active=!0),0===v&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,r):a||(a="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==y||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,r),e||(this._totalTime!==v||a)&&this._callback("onUpdate")),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),a&&(this._gc&&!r||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,r),o&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a),0===y&&1e-10===this._rawPrevTime&&1e-10!==f&&(this._rawPrevTime=0)))}else v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},r.to=function(t,e,n){return new r(t,e,n)},r.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new r(t,e,n)},r.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new r(t,e,i)},r.staggerTo=r.allTo=function(i,s,u,h,l,f,p){h=h||0;var d,m,v,g,y=0,_=[],b=function(){u.onComplete&&u.onComplete.apply(u.onCompleteScope||this,arguments),l.apply(p||u.callbackScope||this,f||c)},x=u.cycle,w=u.startAt&&u.startAt.cycle;for(a(i)||("string"==typeof i&&(i=n.f.selector(i)||i),o(i)&&(i=t(i))),i=i||[],h<0&&((i=t(i)).reverse(),h*=-1),d=i.length-1,v=0;v<=d;v++){for(g in m={},u)m[g]=u[g];if(x&&(e(m,i,v),null!=m.duration&&(s=m.duration,delete m.duration)),w){for(g in w=m.startAt={},u.startAt)w[g]=u.startAt[g];e(m.startAt,i,v)}m.delay=y+(m.delay||0),v===d&&l&&(m.onComplete=b),_[v]=new r(i[v],s,m),y+=h}return _},r.staggerFrom=r.allFrom=function(t,e,n,i,o,a,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,r.staggerTo(t,e,n,i,o,a,s)},r.staggerFromTo=r.allFromTo=function(t,e,n,i,o,a,s,c){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,r.staggerTo(t,e,i,o,a,s,c)},r.delayedCall=function(t,e,n,i,o){return new r(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:o,overwrite:0})},r.set=function(t,e){return new r(t,0,e)},r.isTweening=function(t){return n.f.getTweensOf(t,!0).length>0};var u=function(t,e){for(var r=[],i=0,o=t._first;o;)o instanceof n.f?r[i++]=o:(e&&(r[i++]=o),i=(r=r.concat(u(o,e))).length),o=o._next;return r},h=r.getAllTweens=function(t){return u(n.a._rootTimeline,t).concat(u(n.a._rootFramesTimeline,t))};r.killAll=function(t,e,r,i){null==e&&(e=!0),null==r&&(r=!0);var o,a,s,c=h(0!=i),u=c.length,l=e&&r&&i;for(s=0;s<u;s++)a=c[s],(l||a instanceof n.c||(o=a.target===a.vars.onComplete)&&r||e&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},r.killChildTweensOf=function(e,s){if(null!=e){var c,u,h,l,f,p=i.tweenLookup;if("string"==typeof e&&(e=n.f.selector(e)||e),o(e)&&(e=t(e)),a(e))for(l=e.length;--l>-1;)r.killChildTweensOf(e[l],s);else{for(h in c=[],p)for(u=p[h].target.parentNode;u;)u===e&&(c=c.concat(p[h].tweens)),u=u.parentNode;for(f=c.length,l=0;l<f;l++)s&&c[l].totalTime(c[l].totalDuration()),c[l]._enabled(!1,!1)}}};var l=function(t,e,r,i){e=!1!==e,r=!1!==r;for(var o,a,s=h(i=!1!==i),c=e&&r&&i,u=s.length;--u>-1;)a=s[u],(c||a instanceof n.c||(o=a.target===a.vars.onComplete)&&r||e&&!o)&&a.paused(t)};return r.pauseAll=function(t,e,r){l(!0,t,e,r)},r.resumeAll=function(t,e,r){l(!1,t,e,r)},r.globalTimeScale=function(t){var e=n.a._rootTimeline,r=n.f.ticker.time;return arguments.length?(t=t||1e-10,e._startTime=r-(r-e._startTime)*e._timeScale/t,e=n.a._rootFramesTimeline,r=n.f.ticker.frame,e._startTime=r-(r-e._startTime)*e._timeScale/t,e._timeScale=n.a._rootTimeline._timeScale=t,t):e._timeScale},s.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},s.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},s.duration=function(t){return arguments.length?n.a.prototype.duration.call(this,t):this._duration},s.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},s.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},s.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},s.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r},!0);const i=n.e.TweenMax},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=r(10),i=(r.n(n),function(){function t(){}return t.flatshadeGeometry=function(t){return t.computeFaceNormals(),t.faces.forEach(function(t){t.vertexNormals=[]}),(new n.BufferGeometry).fromGeometry(t)},t.lathe=function(e,r,i){var o=[];e.forEach(function(t){o.push(new n.Vector3(t.x,t.z,t.y))});var a=new n.LatheGeometry(o,r);a.applyMatrix((new n.Matrix4).makeRotationX(-Math.PI/2));var s=new n.MeshPhongMaterial({color:i,vertexColors:n.VertexColors});return t.flatshadeGeometry(a),new n.Mesh(a,s)},t.planeMesh=function(e,r,i,o){var a=new n.MeshLambertMaterial({color:o}),s=new n.PlaneGeometry(e,r,i,i);return t.flatshadeGeometry(s),new n.Mesh(s,a)},t}());e.a=i},function(t,e,r){"use strict";var n=r(54),i=function(){function t(){}return t.create=function(t,e,r){return new n.a(t,e,r)},t}();e.a=i},function(t,e,r){"use strict";e.a={shiftX:[1,400],layout:{position:{x:{min:-50,max:50},y:{min:0,max:0},z:{min:-50,max:50}}},floor:{color:"#2e2d2d",dimensions:{width:3200,height:3200,depth:36},randomShift:10},shadowLight:{position:{x:-100,y:120,z:100},type:"directional",color:"#fff",density:.6},globalLight:{type:"global",secondaryColor:"#fff",primaryColor:"#fff",density:.9}}},function(t,e,r){"use strict";var n=r(35),i=r(66),o=r(52),a={},s=function(){function t(){}return t.getById=function(t){return a[t]},t.create=function(t,e){if(a[t])return a[t];var r=n.b.getById(t);if(r)a[t]=new o.a(r,e);else{var s=n.b.create(t,{type:i.a.PERSPECTIVE,nearPlane:1,farPlane:1,fieldOfView:1,position:{x:1,y:1,z:1}},n.c.renderer);a[t]=new o.a(s,e)}return a[t]},t}();e.a=s},function(t,e,r){"use strict";r.d(e,"a",function(){return m});var n,i=r(1),o=r(26),a=r.n(o),s=r(3),c=r(22),u=r(17),h=r(36),l=r(35),f=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.intersections=function(t){return t},e.prototype.created=function(){this.sceneManager=l.b.create(this.sceneId,this.camera)},e.prototype.mounted=function(){var t=this,e=document.getElementById("scene");e.parentNode.replaceChild(this.sceneManager.renderer.domElement,e),c.a.$on(u.a.INTERSECTION,function(e){t.intersections(e)})},p([Object(s.b)(u.a.INTERSECTION),d("design:type",Function),d("design:paramtypes",["function"==typeof(n=void 0!==h.a&&h.a)&&n||Object]),d("design:returntype","function"==typeof(i=void 0!==h.a&&h.a)&&i||Object)],e.prototype,"intersections",null),p([Object(s.c)(),d("design:type",String)],e.prototype,"sceneId",void 0),p([Object(s.c)({required:!0}),d("design:type",Object)],e.prototype,"camera",void 0),e=p([a()({template:r(170)})],e);var n,i}(i.default)},function(t,e,r){"use strict";var n=new(r(1).default);e.a=n},function(t,e){t.exports='<div id="scene">\r\n\r\n</div>'},function(t,e,r){"use strict";var n=r(10),i=(r.n(n),r(172)),o=r(37),a=r(174),s=r(177),c=r(178),u={},h=function(){function t(){}return t.getById=function(t){return u[t]},t.create=function(t,e,r,h){if(void 0===r&&(r=o.a.renderer),void 0===h&&(h=!0),u[t])return u[t];var l,f,p,d=((p=new n.Scene).fog=new n.FogExp2(o.a.fog.color,o.a.fog.density),p),m=function(t){var e=null;switch(t){case"webGL":(e=new n.WebGLRenderer({alpha:!0,antialias:!0})).setClearColor(0,0)}return e.shadowMap.enabled=!0,e}(r),v=new a.a({type:e.type,fieldOfView:e.fieldOfView,aspectRatio:window.innerWidth/window.innerHeight,nearPlane:e.nearPlane,farPlane:e.farPlane},{x:e.position.x,y:e.position.y,z:e.position.z},{x:0,y:0,z:0});return o.a.particles&&(l=new s.a(o.a.particlesOptions.count,o.a.particlesOptions.color)),o.a.observeIntsections&&(f=new c.a(v.getCamera(),m)),u[t]=new i.a(d,v,m,h,l,f),u[t]},t}();e.a=h},function(t,e,r){"use strict";var n=r(53),i=r(173),o=r(37),a=r(17),s=r(22),c=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=function(){function t(t,e,r,n,a,s){void 0===n&&(n=!0),this.sceneElement=t,this.sceneElements=[],this.dimensions={width:window.innerWidth,height:window.innerHeight},this.autoUpdate=n,this.cameraManager=e,this.renderer=r,this.renderer.setSize(this.dimensions.width,this.dimensions.height),o.a.reactToMouseMove&&(this.mousemoveManager=new i.a(this.sceneElement,this.cameraManager,{reactiveAreaSize:o.a.reactToMouseMoveOptions.reactiveArea,zoomThreshold:o.a.reactToMouseMoveOptions.zoomThreshold})),a&&(this.particlesManager=a,this.sceneElement.add(this.particlesManager.particlesGroup)),s&&(this.intersectionObserver=s,this.intersectionObserver.addSceneElements(this.sceneElements)),n?this.loop():this.render(),this.addListener()}return t.prototype.addElement=function(t){if(t instanceof n.a==!1)throw new Error("Element with id: "+t.id+" is not of type SceneObjectModel");var e=!1;if(this.sceneElements.forEach(function(r){r.id===t.id&&(e=!0)}),e)throw new Error("Scene already holds element with id: "+t.id);t.object.position.x=t.position.x,t.object.position.y=t.position.y,t.object.position.z=t.position.z,this.sceneElement.add(t.object),this.sceneElements.push(t)},t.prototype.removeElement=function(t){var e=this;this.sceneElements.forEach(function(r,n){if(r.id===t)return e.sceneElements.splice(n,1),void e.sceneElement.remove(e.sceneElement.getObjectByName(t))})},t.prototype.getElements=function(){return this.sceneElements},t.prototype.setCameraToStart=function(){return c(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return s.a.$emit(a.a.DEACTIVATED),[4,this.cameraManager.setToStart()];case 1:return t.sent(),s.a.$emit(a.a.ACTIVATED),[2,Promise.resolve()]}})})},t.prototype.addListener=function(){var t=this;window.addEventListener("resize",function(){t.handleResize()},!1)},t.prototype.loop=function(){var t=this;this.render(),requestAnimationFrame(function(){t.loop()})},t.prototype.render=function(){this.mousemoveManager&&this.mousemoveManager.onRender(),this.particlesManager&&this.particlesManager.onRender(),this.renderer.render(this.sceneElement,this.cameraManager.getCamera())},t.prototype.handleResize=function(){this.dimensions={width:window.innerWidth,height:window.innerHeight},this.renderer.setSize(this.dimensions.width,this.dimensions.height),this.autoUpdate||this.render()},t}();e.a=h},function(t,e,r){"use strict";var n=r(62),i=r.n(n),o=r(22),a=r(17),s=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c=function(){function t(t,e,r){this.mouseCoords={x:0,y:0},this.activated=!0,this.scene=t,this.cameraManager=e,this.options=s({},r,{cameraInitialPos:i()(this.cameraManager.getStartPosition())}),this.reactiveAreaSize=this.calcReactiveAreaSize(r.reactiveAreaSize),this.addListener()}return t.prototype.onRender=function(){var t=this.checkCameraHorizontal(),e=this.checkCameraVertical();this.cameraManager.setPosition({x:t,y:this.options.cameraInitialPos.y,z:e})},t.prototype.onDeactivate=function(){this.activated=!1},t.prototype.onActivate=function(){var t=this,e=function(){t.activated=!0,document.removeEventListener("touchstart",e),document.removeEventListener("mousemove",e)};document.addEventListener("touchstart",e),document.addEventListener("mousemove",e)},t.prototype.addListener=function(){var t=this;window.addEventListener("resize",function(){return t.calcReactiveAreaSize(t.options.reactiveAreaSize)},!1),o.a.$on(a.a.DEACTIVATED,this.onDeactivate.bind(this)),o.a.$on(a.a.ACTIVATED,this.onActivate.bind(this)),document.addEventListener("mousemove",this.onMouseMove.bind(this),!1),document.addEventListener("touchstart",this.onDocumentTouchStart.bind(this),!1),document.addEventListener("touchmove",this.onDocumentTouchMove.bind(this),!1)},t.prototype.checkCameraHorizontal=function(){if(!this.activated)return this.cameraManager.getPosition().x;if(this.mouseCoords.y>this.reactiveAreaSize.top&&this.mouseCoords.y<this.reactiveAreaSize.bottom)return this.cameraManager.getPosition().x;var t=this.mouseCoords.y>0?-1:1;return(-1===t?this.cameraManager.getPosition().x<this.options.cameraInitialPos.x-this.options.zoomThreshold:this.cameraManager.getPosition().x>this.options.cameraInitialPos.x+this.options.zoomThreshold)?this.cameraManager.getPosition().x:this.cameraManager.getPosition().x+1.2*t},t.prototype.checkCameraVertical=function(){if(!this.activated)return this.cameraManager.getPosition().z;if(this.mouseCoords.x>this.reactiveAreaSize.left&&this.mouseCoords.x<this.reactiveAreaSize.right)return this.cameraManager.getPosition().z;var t=this.mouseCoords.x>0?1:-1;return(-1===t?this.cameraManager.getPosition().z<this.options.cameraInitialPos.z-this.options.zoomThreshold:this.cameraManager.getPosition().z>this.options.cameraInitialPos.z+this.options.zoomThreshold)?this.cameraManager.getPosition().z:this.cameraManager.getPosition().z+1.2*t},t.prototype.onMouseMove=function(t){this.mouseCoords.x=t.clientX-window.innerWidth/2,this.mouseCoords.y=t.clientY-window.innerHeight/2},t.prototype.onDocumentTouchStart=function(t){1===t.touches.length&&(t.preventDefault(),this.mouseCoords.x=t.touches[0].pageX-window.innerWidth/2,this.mouseCoords.y=t.touches[0].pageY-window.innerHeight/2)},t.prototype.onDocumentTouchMove=function(t){1===t.touches.length&&(t.preventDefault(),this.mouseCoords.x=t.touches[0].pageX-window.innerWidth/2,this.mouseCoords.y=t.touches[0].pageY-window.innerHeight/2)},t.prototype.calcReactiveAreaSize=function(t){var e=Math.round(window.innerHeight/2-window.innerHeight*(t/100)),r=Math.round(window.innerWidth/2-window.innerWidth*(t/100));return{top:-e,bottom:e,left:-r,right:r}},t}();e.a=c},function(t,e,r){"use strict";r(65);var n=r(175),i=r(176);r.n(i);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";var n=r(65),i=r(33),o=function(){function t(t,e,r){var i=this;this.camera=n.a.create(t.type,t.fieldOfView,t.aspectRatio,t.nearPlane,t.farPlane).cameraElement,this.setPosition(e,r,!1),this.startPosition=e,this.lookAtPos=r,window.addEventListener("resize",function(){i.handleResize()},!1)}return t.prototype.setToStart=function(){return this.setPosition(this.startPosition,this.lookAtPos,!0)},t.prototype.setPosition=function(t,e,r){var n=this,o=e||this.lookAtPos;if(!r)return this.camera.position.x=t.x,this.camera.position.y=t.y,this.camera.position.z=t.z,this.camera.lookAt(o),Promise.resolve();var a=new Function,s=new Promise(function(t){a=t});return i.a.to(this.camera.position,1,{x:t.x,y:t.y,z:t.z,onComplete:function(){n.camera.lookAt(o),a()}}),s},t.prototype.getStartPosition=function(){return this.startPosition},t.prototype.getPosition=function(){return this.camera.position},t.prototype.getCamera=function(){return this.camera},t.prototype.handleResize=function(){this.camera&&(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix())},t}();e.a=o},function(t,e){},function(t,e,r){"use strict";var n=r(10),i=(r.n(n),r(20)),o=function(){function t(t,e){this.particlesGroup=new n.Group,this.createParticles(t,e)}return t.prototype.onRender=function(){this.particlesGroup.rotation.x+=4e-4,this.particlesGroup.rotation.y+=2e-4},t.prototype.createParticles=function(t,e){for(var r=0;r<t;r++){var o=new n.SphereBufferGeometry(i.b(.5,1)),a=new n.MeshBasicMaterial({color:e}),s=new n.Mesh(o,a);s.position.x=i.c(-window.innerWidth,window.innerWidth),s.position.y=i.c(-window.innerHeight,window.innerHeight),s.position.z=i.c(-300,300),this.particlesGroup.add(s)}},t}();e.a=o},function(t,e,r){"use strict";var n=r(10),i=(r.n(n),r(22)),o=r(17),a=r(36),s=new n.Raycaster,c=new n.Vector2,u=function(){function t(t,e){this.camera=t,this.renderer=e,this.addListener()}return t.prototype.addSceneElements=function(t){this.sceneElements=t},t.prototype.addListener=function(){var t=this;document.addEventListener("mousemove",function(e){t.findIntersections({x:e.clientX,y:e.clientY},"mousemove")},!1),document.addEventListener("mousedown",function(e){t.findIntersections({x:e.clientX,y:e.clientY},"mousedown")},!1),document.addEventListener("touchstart",function(e){var r={x:e.touches[0].clientX,y:e.touches[0].clientY};t.findIntersections(r,"touchstart")},!1)},t.prototype.findIntersections=function(t,e){c.x=t.x/this.renderer.domElement.clientWidth*2-1,c.y=-t.y/this.renderer.domElement.clientHeight*2+1,s.setFromCamera(c,this.camera);var r=[];this.sceneElements.map(function(t){"Mesh"===t.object.type&&r.push(t.object)});var n=s.intersectObjects(r);n.length>0&&this.broadcastChanges(a.a.create(n[0].object.name.toString(),n[0].object,{x:t.x,y:t.y,type:e}))},t.prototype.broadcastChanges=function(t){i.a.$emit(o.a.INTERSECTION,t)},t}();e.a=u},function(t,e,r){"use strict";r.d(e,"a",function(){return m});var n,i=r(1),o=r(26),a=r.n(o),s=r(3),c=r(51),u=r(35),h=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},d=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMounted=!1,e}return h(e,t),e.prototype.emitIntersections=function(t){return t},e.prototype.onDataChanged=function(t,e){return p(this,void 0,void 0,function(){var t=this;return d(this,function(e){switch(e.label){case 0:return this.isMounted?[4,this.generatorManager.clearAllMountains()]:[2,Promise.resolve()];case 1:return e.sent(),this.data.forEach(function(e){t.generatorManager.addMountain(e)}),[2]}})})},e.prototype.mounted=function(){this.generatorManager=c.a.create(this.generatorId,this.data),this.isMounted=!0},e.prototype.destroyed=function(){return p(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.generatorManager.clearAllMountains()];case 1:return t.sent(),[2]}})})},e.prototype.onIntersection=function(t){this.emitIntersections(t)},l([Object(s.b)(u.d.INTERSECTION),f("design:type",Function),f("design:paramtypes",["function"==typeof(n=void 0!==u.a&&u.a)&&n||Object]),f("design:returntype","function"==typeof(i=void 0!==u.a&&u.a)&&i||Object)],e.prototype,"emitIntersections",null),l([Object(s.c)({required:!0}),f("design:type",String)],e.prototype,"generatorId",void 0),l([Object(s.c)(),f("design:type",Array)],e.prototype,"data",void 0),l([Object(s.e)("data"),f("design:type",Function),f("design:paramtypes",[Object,Object]),f("design:returntype",Promise)],e.prototype,"onDataChanged",null),e=l([a()({template:r(180)})],e);var n,i}(i.default)},function(t,e){t.exports='<scene :scene-id="generatorId"\r\n       @intersection="onIntersection($event)"\r\n       :camera="{\r\n            type: \'perspective\',\r\n            fieldOfView: 60,\r\n            nearPlane: 0.1,\r\n            farPlane: 3000,\r\n            position: {x: -300, y: 200, z: 0}\r\n       }">\r\n</scene>'},function(t,e,r){"use strict";var n=r(16),i=r(11),o=(r.n(i),r(19)),a=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},u=function(){function t(t,e){this.generatorManager=null,this.store=t,this.generatorManager=e}return t.prototype.focusData=function(t){var e,r;e=this.store.state.gitHubData.usedData.raw.filter(function(e){return e.id.toString()===t}),r=this.store.state.gitHubData.usedData.mapped.filter(function(e){return e.id===t}),e.length>0?this.store.commit(n.FOCUS_REPO,{raw:e[0],mapped:r[0],id:t}):this.store.commit(n.UNFOCUS_REPO)},t.prototype.setCameraToStart=function(){this.generatorManager.setCamera("start")},t=a([Object(i.injectable)(),c(0,Object(i.inject)(o.a.Store)),s("design:paramtypes",[Object,Object])],t)}();e.a=u},function(t,e,r){"use strict";var n=r(1),i=r(183);n.default.directive("mousemove-follow",i.a)},function(t,e,r){"use strict";function n(t,e,r){t.style.transform="translate("+e+"px, "+r+"px)"}e.a={bind:function(t,e){t.mousemoveOptions={duration:e.value.transitionDuration||300,initialOffsetX:e.value.initialOffsetX||0,initialOffsetY:e.value.initialOffsetY||0,maxOffsetX:e.value.maxOffsetX||0,maxOffsetY:e.value.maxOffsetY||0},t.mousemoveHandler=function(e){var r=t.mousemoveOptions,i=e.pageX/window.innerWidth*100,o=r.initialOffsetX+Math.round(r.maxOffsetX*(i/100)),a=(window.innerHeight-e.pageY)/window.innerHeight*100,s=r.initialOffsetY+Math.round(r.maxOffsetY*(a/100));n(t,o,s)},document.addEventListener("mousemove",t.mousemoveHandler),t.style.transition="transform "+t.mousemoveOptions.duration+"ms ease-out",n(t,t.mousemoveOptions.initialOffsetX,t.mousemoveOptions.initialOffsetY)},update:function(t,e){e.value.activated?(document.addEventListener("mousemove",t.mousemoveHandler),t.style.transition="transform "+t.mousemoveOptions.duration+"ms ease-out",n(t,t.mousemoveOptions.initialOffsetX,t.mousemoveOptions.initialOffsetY)):(document.removeEventListener("mousemove",t.mousemoveHandler),t.style.transition="none",t.style.removeProperty("transform"))},unbind:function(t){document.removeEventListener("mousemove",t.mousemoveHandler),delete t.mousemoveOptions,t.style.cssText=""}}},function(t,e,r){"use strict";var n=r(1),i=r(185);n.default.component("landscape-legend",i.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n,i=r(3),o=r(67),a=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.legendData=[],e}return a(e,t),e.prototype.updateLegendData=function(t,e){var r=this;if(t&&t!==e){var n=this.$store.state.levels.currentLevel.title,i=o[this.$store.state.levels.currentLevel.dataSrc+"Mappers"];this.legendData.length=0,i.forEach(function(t){r.legendData.push({label:t.mountainsParameter,value:n+""+t.dataKey.join("")})})}},e.prototype.created=function(){this.updateLegendData(this.$store.state.levels.currentLevel)},s([Object(i.e)("$store.state.levels.currentLevel"),c("design:type",Function),c("design:paramtypes",[Object,Object]),c("design:returntype",void 0)],e.prototype,"updateLegendData",null),e=s([Object(i.a)({template:r(186)})],e)}(i.d)},function(t,e){t.exports='<div class="landscape-legend">\r\n    <ul  class="bare-list">\r\n        <li v-for="legendItem in legendData">\r\n            <span class="small-text-appearance text-color-secondary-highlight">\r\n                {{legendItem.label}}\r\n            </span>\r\n            <span class="small-text-appearance">\r\n                {{legendItem.value}}\r\n            </span>\r\n        </li>\r\n    </ul>\r\n</div>'},function(t,e,r){"use strict";var n=r(188),i=r(4),o=r(67);i.a.bind(i.b.DataMapperService).to(n.a).inSingletonScope(),i.a.bind(i.b.RepositoryMapper).toConstantValue(o.reposMappers),i.a.bind(i.b.CommitsMapper).toConstantValue(o.commitsMappers)},function(t,e,r){"use strict";var n=r(11),i=(r.n(n),r(27)),o=(r.n(i),r(189)),a=r(69),s=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},u=function(){function t(){}return t.prototype.map=function(t,e){var r=[];return t.forEach(function(n,i){var c={};e.forEach(function(e){var r,i,s,u,h,l;switch(e.type){case"number":r=(u=o.a(t,e.dataKey[e.dataKey.length-1]))[0],i=u[1],s=n[e.dataKey];break;case"date":r=(h=o.c(t,e.dataKey,Object(a.a)(n,e.dataKey)))[0],i=h[1],s=h[2];break;case"string":r=(l=o.b(t,e.dataKey))[0],i=l[1],s=Object(a.a)(n,e.dataKey).length}c[e.mountainsParameter]=o.d(s,r,i,e.min,e.max)}),r.push(s({id:n.id?""+n.id:i},c))}),r},t=c([Object(n.injectable)()],t)}();e.a=u},function(t,e,r){"use strict";r.d(e,"c",function(){return p}),r.d(e,"a",function(){return f}),r.d(e,"b",function(){return d}),r.d(e,"d",function(){return m});var n=r(68),i=r(192),o=r.n(i),a=r(194),s=r.n(a),c=r(195),u=r.n(c),h=r(69),l={};function f(t,e){if(!l[e]){var r=t.map(function(t){return Number(t[e])});l[e]=n.a.apply(void 0,r)}return l[e]}function p(t,e,r){if(!l[e]){var n=t.map(function(t){return"string"==typeof e?new Date(t[e]):new Date(Object(h.a)(t,e))}),i=s.a.apply(void 0,n),a=o.a.apply(void 0,n),c=u()(a,i);l[e]={minDate:i,maxDate:a,range:c}}var f=u()(l[e].maxDate,new Date(r));return[0,l[e].range,f]}function d(t,e){var r="string"==typeof e?e:Object(h.a)(t[0],e);if(!l[r]){var i=t.map(function(t){return"string"==typeof e?t[e].length:Object(h.a)(t,e).length});l[r]=n.a.apply(void 0,i)}return l[r]}function m(t,e,r,n,i){return(t-e)*(i-n)/(r-e)+n}},function(t,e,r){"use strict";e.a=function(t){var e,r,n=t.length;for(;0!==n;)r=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[r],t[r]=e;return t}},function(t,e,r){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!1;return t.map(function(t){"number"!=typeof t&&(r=!0)}),r?[null,null]:[Math.min.apply(Math,t),Math.max.apply(Math,t)]}},function(t,e,r){var n=r(18);t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return n(t)}),e=Math.max.apply(null,t);return new Date(e)}},function(t,e){t.exports=function(t){return t instanceof Date}},function(t,e,r){var n=r(18);t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return n(t)}),e=Math.min.apply(null,t);return new Date(e)}},function(t,e,r){var n=r(18),i=r(196),o=r(198);t.exports=function(t,e){var r=n(t),a=n(e),s=o(r,a),c=Math.abs(i(r,a));return r.setDate(r.getDate()-s*c),s*(c-(o(r,a)===-s))}},function(t,e,r){var n=r(197),i=6e4,o=864e5;t.exports=function(t,e){var r=n(t),a=n(e),s=r.getTime()-r.getTimezoneOffset()*i,c=a.getTime()-a.getTimezoneOffset()*i;return Math.round((s-c)/o)}},function(t,e,r){var n=r(18);t.exports=function(t){var e=n(t);return e.setHours(0,0,0,0),e}},function(t,e,r){var n=r(18);t.exports=function(t,e){var r=n(t).getTime(),i=n(e).getTime();return r<i?-1:r>i?1:0}},function(t,e,r){"use strict";e.a=function(t,e){return e.reduce(function(t,e){return t&&"undefined"!==t[e]?t[e]:null},t)}},function(t,e,r){"use strict";var n=r(4),i=r(202),o=r(201);n.a.bind(n.b.Breakpoints).toConstantValue(o["mq-breakpoints"]),n.a.bind(n.b.MediaQueryService).to(i.a)},function(t,e){t.exports={"mq-breakpoints":{xs:"320px",s:"480px",m:"768px",l:"1024px",xl:"1440px"}}},function(t,e,r){"use strict";var n=r(11),i=(r.n(n),r(4)),o=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},c=function(){function t(t){this.breakpoints=t}return t.prototype.on=function(t,e){var r=this.checkBreakpoint(t);e(r),r.addListener(e)},t.prototype.checkBreakpoint=function(t){return window.matchMedia("(min-width: "+t+")")},t=o([Object(n.injectable)(),s(0,Object(n.inject)(i.b.Breakpoints)),a("design:paramtypes",[Object])],t)}();e.a=c},function(t,e,r){"use strict";var n=r(1),i=r(204);n.default.component("backdrop",i.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n,i=r(3),o=r(4),a=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mousemoveActivated=!0,e}return a(e,t),e.prototype.mounted=function(){var t=this,e=o.a.get(o.b.Breakpoints);this.mediaQueryService=o.a.get(o.b.MediaQueryService),this.mediaQueryService.on(e.m,function(e){t.mousemoveActivated=e.matches})},s([Object(i.c)(),c("design:type",Boolean)],e.prototype,"activated",void 0),s([Object(i.c)(),c("design:type",String)],e.prototype,"triggerLabel",void 0),e=s([Object(i.a)({template:r(205)})],e)}(i.d)},function(t,e){t.exports='<div class="backdrop"\r\n     v-mousemove-follow="{\r\n        activated: mousemoveActivated,\r\n        initialOffsetY: -16,\r\n        initialOffsetX: 16,\r\n        maxOffsetY: -32,\r\n        maxOffsetX: 32,\r\n        transitionDuration: 1700\r\n    }"\r\n>\r\n    <span v-if="triggerLabel"\r\n          :class="{\'revealing-content--reveal\': activated}"\r\n          class="backdrop__activation-trigger revealing-content">\r\n        <svg role="img">\r\n            <use xlink:href="#icon-mntns"></use>\r\n        </svg>\r\n        <span class="small-text-appearance">{{ triggerLabel }}</span>\r\n    </span>\r\n</div>'},function(t,e,r){"use strict";var n=r(1),i=r(4),o=r(207),a=r(208),s=r(209),c=r(210),u=r(212);n.default.component("level-progress",c.a);var h=s.a.allLevels.map(function(t,e){return new o.a(t.index,t.title,t.dataSrc,(e+1)/s.a.allLevels.length*100)});i.a.bind(i.b.AllLevels).toConstantValue(h),i.a.bind(i.b.LevelsDataLoader).to(u.a).inSingletonScope(),i.a.bind(i.b.LevelModelFactory).toFactory(function(t){return function(t,e,r,n){return new o.a(t,e,r,n)}}),i.a.bind(i.b.LevelsService).to(a.a),i.a.bind(i.b.LevelsServiceFactory).toFactory(function(t){return function(){return t.container.get(i.b.LevelsService)}})},function(t,e,r){"use strict";var n=function(){return function(t,e,r,n){this.index=t,this.title=e,this.dataSrc=r,this.progress=n}}();e.a=n},function(t,e,r){"use strict";var n=r(11),i=(r.n(n),r(19)),o=r(16),a=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},u=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},h=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=function(){function t(t,e,r){this.store=t,this.allLevels=e,this.levelDataLoader=r,this.store.commit(o.UPDATE_LEVEL,{level:this.allLevels[0]})}return t.prototype.nextStep=function(){return u(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t=this.store.state.levels.currentLevel.index<this.allLevels.length?this.store.state.levels.currentLevel.index+1:this.allLevels.length,this.store.commit(o.UPDATE_LEVEL,{level:this.allLevels[t-1]}),[4,this.loadData()];case 1:return e.sent(),[2]}})})},t.prototype.previousStep=function(){return u(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t=this.store.state.levels.currentLevel.index>0?this.store.state.levels.currentLevel.index-1:1,this.store.commit(o.UPDATE_LEVEL,{level:this.allLevels[t-1]}),[4,this.loadData()];case 1:return e.sent(),[2]}})})},t.prototype.start=function(){return u(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return this.store.commit(o.UPDATE_LEVEL,{level:this.allLevels[0]}),[4,this.loadData()];case 1:return t.sent(),[2]}})})},t.prototype.loadData=function(){return u(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return[4,this.levelDataLoader.loadByType(this.store.state.levels.currentLevel.dataSrc)];case 1:return t.sent(),[2]}})})},t=a([Object(n.injectable)(),c(0,Object(n.inject)(i.a.Store)),c(1,Object(n.inject)(i.a.AllLevels)),c(2,Object(n.inject)(i.a.LevelsDataLoader)),s("design:paramtypes",[Object,Object,Object])],t)}();e.a=l},function(t,e,r){"use strict";var n=r(70);e.a={allLevels:[{index:1,title:"repositories",dataSrc:n.a.REPOS},{index:2,title:"commits",dataSrc:n.a.COMMITS}]}},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n,i=r(3),o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e=a([Object(i.a)({template:r(211),computed:{currentLevel:function(){return this.$store.state.levels.currentLevel}}})],e)}(i.d)},function(t,e){t.exports='<div class="level-progress">\r\n    <div class="level-progress__indicator">\r\n\r\n        <span :style="{width: currentLevel.progress + \'%\'}">\r\n            <svg role="img">\r\n                <use xlink:href="#icon- "></use>\r\n            </svg>\r\n        </span>\r\n        <span>\r\n            <svg role="img">\r\n                <use xlink:href="#icon-mntns"></use>\r\n            </svg>\r\n        </span>\r\n\r\n    </div>\r\n\r\n    <div class="level-progress__label">\r\n\r\n        <p class="text-color-highlight margin-vertical--none small-text-appearance">\r\n            Level {{currentLevel.index}}\r\n        </p>\r\n        <span>\r\n            {{ currentLevel.title }}\r\n        </span>\r\n    </div>\r\n\r\n</div>\r\n'},function(t,e,r){"use strict";var n=r(11),i=(r.n(n),r(19)),o=r(14),a=r(32),s=r(30),c=r(70),u=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},f=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},p=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},d=function(){function t(t){this.store=t}return t.prototype.loadByType=function(t){return f(this,void 0,void 0,function(){var e;return p(this,function(r){switch(r.label){case 0:return t!==c.a.REPOS?[3,2]:[4,this.store.dispatch(o.a.RETRIEVE_GITHUB_REPOS,{userName:s.a.gitHubUsername,perPage:a.a.maxSceneItems})];case 1:return r.sent(),this.store.commit(o.b.USED_DATA,{raw:this.store.state.gitHubData.repos.raw,mapped:this.store.state.gitHubData.repos.mapped}),[2,Promise.resolve()];case 2:return t!==c.a.COMMITS?[3,4]:(e=this.store.state.gitHubData.focusedData.raw.name,[4,this.store.dispatch(o.a.RETRIEVE_GITHUB_COMMITS_FOR_REPO,{repoName:e,userName:s.a.gitHubUsername,perPage:a.a.maxSceneItems})]);case 3:return r.sent(),this.store.commit(o.b.USED_DATA,{raw:this.store.state.gitHubData.commits[e].raw,mapped:this.store.state.gitHubData.commits[e].mapped}),[2,Promise.resolve()];case 4:return[2,Promise.reject("Couldnt find requested type")]}})})},t=u([Object(n.injectable)(),l(0,Object(n.inject)(i.a.Store)),h("design:paramtypes",[Object])],t)}();e.a=d},function(t,e,r){"use strict";var n=r(1),i=r(214);n.default.directive("title-animation",i.a)},function(t,e,r){"use strict";var n=r(33),i=r(4),o=r(215),a=r(68),s=r(14),c=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};e.a={bind:function(){i.a.get(i.b.Store).commit(s.b.CURRENT_TITLE_INVISIBLE)},inserted:function(t,e){return c(this,void 0,void 0,function(){var r,c,h,l,f,p,d,m,v,g;return u(this,function(u){switch(u.label){case 0:if(r=i.a.get(i.b.Store),c=Object(o.a)(t),h=[],l=[],t.innerHTML=null,c.forEach(function(e,r){var n=document.createElement("span");r!==c.length-1?n.innerHTML=e+"&nbsp;":n.innerHTML=e,n.style.opacity="0",n.style.display="inline-block",h[r]=r,l[r]=n,t.appendChild(n)}),!0!==e.value.tween)return[3,2];for(f=new Function,p=new Promise(function(t){f=t}),(d=[]).push(p),h=Object(a.b)(h),m=0,v=h.length;m<v;m++)(g=l[h[m]]).blur=2,n.a.to(g,3,{opacity:1,blur:0,delay:.05*m,onComplete:f,onUpdateParams:[l[h[m]]],onUpdate:function(t){n.a.set(t,{filter:"blur("+t.blur+"px)"})}});return[4,Promise.all(d)];case 1:return u.sent(),[3,4];case 2:return[4,Promise.resolve()];case 3:u.sent(),u.label=4;case 4:return r.commit(s.b.CURRENT_TITLE_VISIBLE),[2]}})})}}},function(t,e,r){"use strict";var n=r(216);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";e.a=function(t){function e(t){return""!==t}for(var r=/[\s\n\t]+/,n=[],i=0;i<t.childNodes.length;++i){var o=t.childNodes[i];if(o.nodeType===Node.TEXT_NODE){var a=o.nodeValue.split(r).filter(e);a.length&&n.push.apply(n,a)}else o.nodeType===Node.COMMENT_NODE||n.push(o.outerHTML)}return n}},function(t,e){}]);